<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<link rel="shortcut icon" type="image/x-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico">
<link rel="mask-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/MjliNWVm.svg" color="#4C4C4C">
<link rel="apple-touch-icon-precomposed" href="//res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">


        <script nonce="832087814" type="text/javascript">
            window.logs = {
                pagetime: {}
            };
            window.logs.pagetime['html_begin'] = (+new Date());
        </script>
        <title>
 硕博论文 | 基于网络特征学习的个性化推荐系统 01#
</title>
        
<style>.radius_avatar{display:inline-block;background-color:#fff;padding:3px;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;overflow:hidden;vertical-align:middle}.radius_avatar img{display:block;width:100%;height:100%;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;background-color:#eee}.rich_media_inner{word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.rich_media_area_primary{padding:20px 16px 12px;background-color:#fafafa}.rich_media_area_primary.voice{padding-top:66px}.rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{color:rgba(0,0,0,0.3);background-color:#fafafa}.rich_media_area_extra{padding:0 16px 24px}.rich_media_extra{padding-top:30px}.mpda_bottom_container .rich_media_extra{padding-top:24px}.mpda_bottom_container .rich_media_extra .mpad_more_list{right:-10px}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.6}body{-webkit-touch-callout:none;font-family:-apple-system-font,BlinkMacSystemFont,"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei UI","Microsoft YaHei",Arial,sans-serif;color:#333;background-color:#f2f2f2;letter-spacing:.034em}h1,h2,h3,h4,h5,h6{font-weight:400;font-size:16px}*{margin:0;padding:0}a{color:#576b95;text-decoration:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_title{font-size:22px;line-height:1.4;margin-bottom:14px}@supports(-webkit-overflow-scrolling:touch){.rich_media_title{font-weight:700}}.rich_media_meta_list{margin-bottom:22px;line-height:20px;font-size:0;word-wrap:break-word;word-break:break-all}.rich_media_meta_list em{font-style:normal}.rich_media_meta{display:inline-block;vertical-align:middle;margin:0 10px 10px 0;font-size:15px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rich_media_meta.icon_appmsg_tag{margin-right:4px}.rich_media_meta.meta_tag_text{margin-right:0}.rich_media_meta_primary{display:block;margin-bottom:10px;font-size:15px}.meta_original_tag{padding:0 .5em;font-size:12px;line-height:1.4;background-color:#f2f2f2;color:#888}.meta_enterprise_tag img{width:30px;height:30px!important;display:block;position:relative;margin-top:-3px;border:0}.rich_media_meta_link{color:#576b95}.rich_media_meta_text{color:rgba(0,0,0,0.3)}.rich_media_meta_text.rich_media_meta_split{padding-left:10px}.rich_media_meta_text.rich_media_meta_split:before{position:absolute;top:50%;left:0;margin-top:-6px;content:' ';display:block;border-left:1px solid #888;width:200%;height:130%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-transform:scale(0.5);transform:scale(0.5);-webkit-transform-origin:0 0;transform-origin:0 0}.rich_media_meta_text.article_modify_tag{position:relative}.rich_media_meta_nickname{position:relative}.rich_media_thumb_wrp{margin-bottom:6px}.rich_media_thumb_wrp .original_img_wrp{display:block}.rich_media_thumb{display:block;width:100%}.rich_media_content{overflow:hidden;color:#333;font-size:17px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:justify;position:relative;z-index:0}.rich_media_content *{max-width:100%!important;box-sizing:border-box!important;-webkit-box-sizing:border-box!important;word-wrap:break-word!important}.rich_media_content p{clear:both;min-height:1em}.rich_media_content em{font-style:italic}.rich_media_content fieldset{min-width:0}.rich_media_content .list-paddingleft-2{padding-left:2.2em}.rich_media_content .list-paddingleft-2 .list-paddingleft-2{padding-left:30px}.rich_media_content blockquote{margin:0;padding-left:10px;border-left:3px solid #dbdbdb}img{height:auto!important}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait){.rich_media_area_extra{padding-bottom:34px}}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape){.rich_media_area_primary{padding:20px 60px 15px 60px}.rich_media_area_extra{padding:0 60px 21px 60px}}@media screen and (min-width:1024px){.rich_media_area_primary_inner,.rich_media_area_extra_inner{max-width:677px;margin-left:auto;margin-right:auto}.rich_media_area_primary{padding-top:32px}}.appmsg_share_notice{font-size:16px;color:#888;position:relative;padding:1.25em 0;margin-bottom:1.75em}.appmsg_share_notice:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid #dfdfdf;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.appmsg_share_notice:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dfdfdf;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.appmsg_share_notice_hd{font-weight:700;padding-bottom:.2em}.cell{padding:.8em 0;display:block;position:relative}.cell_hd,.cell_bd,.cell_ft{display:table-cell;vertical-align:middle;word-wrap:break-word;word-break:break-all;white-space:nowrap}.cell_primary{width:2000px;white-space:normal}.flex_cell{padding:10px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.flex_cell_primary{width:100%;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;box-flex:1;flex:1}.original_tool_area{display:block;padding:.75em 1em 0;-webkit-tap-highlight-color:rgba(0,0,0,0);color:#333;border:1px solid #eaeaea;margin:20px 0}.original_tool_area .tips_global{position:relative;padding-bottom:.5em;font-size:15px}.original_tool_area .tips_global:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dbdbdb;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area .radius_avatar{width:27px;height:27px;padding:0;margin-right:.5em}.original_tool_area .radius_avatar img{height:100%!important}.original_tool_area .flex_cell_bd{width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.original_tool_area .flex_cell_ft{font-size:14px;color:#888;padding-left:1em;white-space:nowrap}.original_tool_area .icon_access:after{content:" ";display:inline-block;height:8px;width:8px;border-width:1px 1px 0 0;border-color:#cbcad0;border-style:solid;transform:matrix(0.71,0.71,-0.71,0.71,0,0);-ms-transform:matrix(0.71,0.71,-0.71,0.71,0,0);-webkit-transform:matrix(0.71,0.71,-0.71,0.71,0,0);position:relative;top:-2px;top:-1px}.rich_media_global_msg{position:fixed;top:0;left:0;right:0;padding:.85em 35px .85em 15px;z-index:2;background-color:#c6e0f8;color:#888;font-size:12px}.rich_media_global_msg .icon_closed{position:absolute;right:15px;top:50%;margin-top:-5px;line-height:300px;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);background:transparent url(//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/icon_appmsg_msg_closed_sprite.2x42f400.png) no-repeat 0 0;width:11px;height:11px;vertical-align:middle;display:inline-block;-webkit-background-size:100% auto;background-size:100% auto}.rich_media_global_msg .icon_closed:active{background-position:0 -17px}.rich_media_global_msg.voice{color:#1aad19;background-color:#e8f6e8;padding-left:43.3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rich_media_global_msg.voice .ic_voice{position:absolute;top:50%;margin-top:-10px;left:15px;display:inline-block;width:13.3px;height:18.3px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAA3CAYAAAB+fggjAAAAAXNSR0IArs4c6QAACb9JREFUaAW9WX9wVMUd3917d5cf/Agp1OTuQgIlQqUoI1JI1Noojg2I+VU7hVrtDDpadRypgzKjU52x09KOdsS20ypSO/WPWttcAqhTOlSoU4FIoRUn0wEZIMndBUkwGEhyv97bfvaS97L77t3lHYUuc+z3935397vf/e4LJZfQnuPPsW0d25ZQzr9mELKSUnIVzHxB/Dh+lBOKf4OEk0FOyQAl/CyltIt5tL29d/V2FzIkLUQ4FA7dwon+KCF0Fee8rBBdS5aSs/D+PUrYbyKtkb9b9BzAlA7CERrqDN1DOH8C8HU57FwSGat6kBGypbcluhMwFj+75XWwemf1vHQqtZ0T3pCtelkp73uJ79s9bT39dqs5HQyFK79jcPIKFErtSgLHjPvQHQB0EFt2hDE2QHU6RMvpkODrw3o50Uk5p3w2N/SlUKhHTNZjskHBz2pi6ylbH22J/k3mOToYCAceIYT/AgYVPhxJQTkMQ792Ez/yQCY8d0fgRl0nj8J2G5z1mvSJ3qCMrYOTb5l0xQFBDIUDjxmcbzUFJnu621/kf/DUmlM9k7RLh4LtwRChxquck0bFCqWjxENuijXF/iXoioNVnZU36wZ5D7PTTCWsWhyp4uFYa+x1k3Y5ezj6oNgtdTVpL0Lo+mhr9BwO0Xib+/bcWYZB35Sdg/sXsOSNV8o5MXK0LfoKYXQDxpJOMZ8L1g8E33JQT6aeQRoJCOJEMxjxfCvSEtlnEq5Uj5h7Ayv2I8U+5w9du/va0oyD896ZV004RQKebIzQ53EQ/jJJubJQhUa2YBXPmqNgy8vPjZ67N+NgMh6/HwSfyURgniwqLvmJif8/+sNrY6O4XV5WxjKMuvHDQOl9uCksHmX0xydWn0hYBJfAgncXzBhNjjZSnX8Fq3ENdmWWUMUhS2Ebv5HrtjDNg/+B5IY4wos0cVukUskqUwj9xfKS2W9GSEwi5QdxFS5BMn54dGzkHkhOy0x18j9COY1O5VxmhGJylIxMjgUTC7WUkfrqJAkQpfuP3nFUElO4WUgwHHza0HU1wG1SGOi0jeSI+kf92hgZlXg0yajBV0gUwri4vqZud/O7PbhxkGiNvM5NWHKV3NN8LGQbuVdDsYIVzOzHOI+ygzYhR/RAxwdbELcPZDEp+Q+2YQcS2L+Zwc4gdSUQS7Oz5BwIKUqWyq5ApEdDsVmhBKaHnHDQVUg1uwKLkkm+USEScsbjId/ra+7fbaMThMHVdpoTjuyxXloqcUg+Eqe4WBb26/5hGXeCkynyfdA9Fo/SQeZlN/StjUQtmgQUFxVnKhyJlAUGOgP13OC3ygxGWZhhSYtkYqIicUHGnWCUluoFz8mzkRzOCf14Wfyikx2ThvQ0B6XZdvhi1QaoAfZHmiMf40xMJmih4BvxWQnbNCD3i/cunoYab4FMQwr5o4zb4Uh9ZMxOM3Fsf91YfPQfOAeLTJrouYc8K3rEII0ikBcKRLTEhUQNuo8E7NSGh4dnyDOFzIioOpxkZdqyXYGSAV2rMYjhIUamkL2ZcANvG+MWWS4DU/parDm2R8AiBj/Bz3IQe14DPKeDRho1hNyonFplhgp/mmaNhpH6s0VVToNFxR7TPcVFJVZdgMG4cNBq0LvRQhyA2vLaMyDrFouTL169KzBlGkEofdnScQYMXBI/raiuXC1fs4wz2iXLI+U0y7gd3tewL41IVhLvmM6X2eWycM7nZ9EEAXWgWDWPpjWg7tx8+IbD4llhNTadTn8XcWgVBphprbhbLQkngJK/ymTdoE/IuDPME5jYSYx1HLn3EH6/B77Rq/m+FG2L3d7X1Pe+kx5kCBJp4G0clDWmAJTD0db+NhO398GO4G3cMDJBbPIY9bShfgyb+OXqMwGPV9rrskFsc6t4fck0GRZPQ5GnZBpO4x/wvrAmKfP+FzjjYF9zn5i58s0ET8MX8hnGc+BxOGnFi8innBg7UUBsFaV6Pt1CeBMrKD73qG8CbPnKUHvg/lzG+tr6DlGWufJkEWQp/tjgyMBJPF+fWrhj4XSZeSlwJgaFIhyioY7gHvS3moYyK6TRO6JN0b0mzd6HOgIbEBK/gp7fzsOBGMLUX2Z+bWvvnb1T3sd2fYFbDgoET8/56UTqKEBrizDIeY1463tae1BGObeq9qrlBtXb4aRcmVvCmOjneFq+UFZW9lJ3Q3fee9lSmgAUBwUNd+N9CPjfTfDHO0pO+z1FK081nfpUoUuIuKPPD322Gav5OMjWBCURRBGN4GH0QCGvxSwHhcFguPLnGEip97AKXd5y39dPN5yOy4PaYXGrjKToRsTMIzg4M+38cZz+LNYWe8qZp1Izh0QlEVLfctMmzNb6gCP4GGxFcij5W7usHT++NjaI4uHpadr0KkbpZvAH7DKw9iRi98lsejbFcQWF2LJ/LvOe6Yl14m5eLavhU8gqkQdlWj5YnOSL+sXNWNFNmKT1NQsLkGAez3zcIHmfj44rKAYUd2Jxcek6HCP1cHD+Ig5DzonZnT3WdOyCWFGukRUIwkGTL069kdYz319MmlOf00EhjKpiWKPku7IiDF9X3RHMecvIsjIsPqdh1ewO3SXLOMF5HRQKvS39h5GNOmVlnZP1Mu4W9pZ5/4TDZh0ybHkt3iKOqcm0OaWDQpB52DZTQfQo+Vtl3C08kQGO2OStYtlGz6CuHJxZO3MPYnHYMsDJVSKpW3ghAOXKsxaPoup86q4c7F7cncSyHZANGen0Shl3C+PSPy/L4qmZ97525aAwiMLgQ8Uwp8tl3C2MASff00KJMRW3GXLtIFbwY1kXp/kaGXcL42AoDqHit6p5JxuuHfQwj1IvIhFO9QhyGk/QpskM/C3Gyo0y3YRdOzgnNOcTHJS0qYgVrBIfLE28gF75ToN3bySfrmsHM68tTo7JxuKJ+PUyPhWcqbQ5XarI+TRlZxQeENcOjitS5dMc5/oqu8F8+ODI4FrEoPVpBTfL8akK2YIc9DCiFAkoyTbUdNSU5XPK5Im/MQPeZOKZnpNdCu6AFOTgrJLZO2FDrogrUjyxPbQ/VOxgWyG9Fn71h6hoJkMC8exlvl8qQg6I66rE1A22Vz6PEuwZExe92CrQtmmU72U+fzQ9K/15XV1dsuudrhlc50t0XX8Izq1TdAh5I9rWf69Mc4ILdlCU9kNDn32ICvZS0wySAY2W+shSUdw6OSXTCtpioSgePZrPeydWTUncstF8MPRw1dFvunFO2CnYQaGEk3cSn8iWYyVeBGoImqtG6RHxQsQfEJVskE+34C22GxOfb8fiY40owtaAJ0qnciTxcvSlE7VfBPX3IQ8lb/U2R3dgBRGu7tt/AYJkZEGv/oaXAAAAAElFTkSuQmCC) no-repeat center;background-size:contain}.rich_media_global_msg.voice .icon_more{position:absolute;right:15px;top:50%;margin-top:-6.5px;width:8px;height:13px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAmCAYAAADeB1slAAAAAXNSR0IArs4c6QAAA49JREFUSA2tVk1IVFEUPveOmhQk1ibfvLFZSJtACqJIIpCIoB+imcFV2Z9ZUVnRomgRGFn2i6mFf5XVotCZMYmgIMhlq6BFENFiwjfPAosgFzXOvNu5o3fmeue98Y16F3PP+c453/fu/xCQmvZSWwwJaC0G6P8WND9IoTmbVFRycpqAdgBWkwRo94V960RsPn1aoPpN9RI6CR0WsDWcjAErtUiqTR/S18+HnNcSTv5zYrwDSatVMgLkH6aciwfj79WYW5+OT4xfsyPnBIgvwt872qBW45ZQzaMlJXCfMPJbDQgfRUoIhduVUW2TwArpaWyX+bnYU9JAAH44FaJIccqCW76Ib7NTjhOOvFPN/8q/IvE3cR+npFJgao9rkiSUXjD2GCNqzMnPbNPYjth3mqINlJAvTsk4kiJmWa3eQe8WpxwVzwjwgFFn/CorL29EkY9qovC5CFDrKq7JVoHl6zNTJCf53/lLk78SN/FcbJRx2cZCixC4ZATGXsu4as8YgQjGamN/q5atOotn4K3A1J4BUMbgsh7Wt6sx2bcV4AkjtSPJxkDjRQL0hVwg21zEglSzN+rdKeOybTtFcgK39ajWZDFWr+IZHxfGQ8mV0YA5nMGmDVcCPNcb8R5gYJ1UCWQfp6PFCI4NyZhrAV6EIiHGrPOAB0ImkW2c0la8u8ICc0wUCWrvC1dsw+3TnN6uanDaJ4zeiIfiA9wtWIAX8XspxeA6iuBlaN88hNzCNXk+JwFOuXJYW5tMQmc+EcqgzXGb2n9XFk1NstX5yKczl89JAF+6vRaBM1m5XAu//qkRGrtb8BThTtqH2/V0LmUWwbvsiREw8X0vcJHxxNbjNm3KUuVaMjmPFuWm2CPesHc/kp+yj06hFMhj/PIOOcfVFLk6xZT0G3vMTpmc27MusityZk/OBfKOwA05MPLIDJn3OJldcxTQotpBYOyEXVEWIw/NoInvuHOznSJfVDs0GzneNw9mI+eyOSPQI9phfCqPO38TFhHaFw/Eu/LliNiMESB5w6zkzD05F8mMYJr8mFC263Fa+vAadvXloj4toEcrjlgMjgrQrseHpBcfkm67WD6M6MN6lTWZeoZjyYxGLcB57MGnsEfF3fjU2G189QBpcUqmBLrnSs4504s8GjLxrwm5qYrg3dKFf6x6VbwQ3yOS/wz8+bS0ruwfELaBY2nyoNkn4gvW65GKRn4WForwP+dONHDaOHeZAAAAAElFTkSuQmCC) no-repeat center;background-size:contain}.preview_appmsg .rich_media_title{margin-top:2.3em}@media screen and (min-width:1024px){.rich_media_global_msg{position:relative;margin-bottom:32px}.preview_appmsg .rich_media_title.rich_media_title{margin-top:0}}.pages_reset{color:#333;line-height:1.6;font-size:16px;font-weight:400;font-style:normal;text-indent:0;letter-spacing:normal;text-align:left;text-decoration:none;white-space:normal}.weapp_element,.weapp_display_element,.mp-miniprogram{display:block;margin:1em 0}.share_audio_context{margin:16px 0}.weapp_text_link{font-size:17px}.weapp_text_link:before{content:'';display:inline-block;line-height:1;background-size:contain;background-repeat:no-repeat;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAB4RJREFUWAm1WUuMFGUQnn7szL5mdvbh7GwgEQUlS1weiagxxpigiUZeJgY1cMMDcDCGG8GLCWZvxHjh4BWUeDEsejBBEzWYKBBEiHAABBfCMOwsuzvszrvb+v6Zb7amt1ce0Up6qv6q+qq+/rv778dYkUeUqamp5dFodJPv++ts205blpX2PG8I5cTOiLol44zYZ8vl8vFkMnnlUVpZDwPK5/MpIbWrVqttFlLD0jwiBEHIaNbCGKJjQvai+I9Xq9VD8Xg8y9z76QcimM1mu3t6ej4UYh84jtOFxhBNJGxskhp5xIielZ37bHp6+tNUKnWPOYvp+xKcm5t7S4gclKIpFNGzsmjRkBnUOwNbZjQrtfZ2dnZ+vVgd+O1/CVqlUukjIXZYCqZADBuEJIllc4xh61zmaB9s7LDkHkYPwJgX1KEEx8fHO2TmjkjyPgLQmERIAjHajGnyjDGPOfQ3xvvQCz3ZS+sw5hYAsodbWBhNw4SNGCMBnR/MYS60jskhPyaHe7u4W5otmEGZ8v0gx2YsyDE0bc4Wx8glOe2Dn2No2hqPnuiNXC0tM9i4IA5LcksjNm0BNs417aMNAsRom3HoMD8wsu3QF06TIJaSRCJxXrDmamUBrVEYRejDmDY0JEgsLE4f8mkTj6tb1tsRLkEukiBY56Q4rizThI2okaNtjFlUx+Cr1vzIyTMz7uW/ik4mV7Yd24oMDrR5q1Z01Nav6a5yVsLwcvRS4CI1D5ge+MEdQhbgC1yECSQhjMNsYCGMQ2dzFeuLYxOxibuVBec3cpekY7XtWwZK8a75sMajj2yzcsd5BnccM4PCeg/JoQjJwAY4TFgUMeRjXK54kS/H6uR6e1xvw4vJyuNLYh5yrt8s2d//MtV2M1Nyvvo2F9u5LVUSJEJNPPtKrS7XdXdL6GOzG+LYqIJNUiShYyRDjRw2OXnmnntnsmInE663e3u6uHZVZy2ZsH1sa4Y7ant2DBURu3aj6Jz9c9YBVuNRhz6pvwlju1gsPikzaG78CKIxNgh1sAj91MhFztXrRQf2C+vi1Y721tMC/vZYPQb78rWCE8Tr/uCEJyZbrprNAAST4QOAIGj6qBnDGPjZgmeS0gNRc1jD8D1xx+y978/XJh4awl54nHOl8Do6STKoDarxg5gmxpj2yTEwbtZhDvSlKwUzy+lU1NPxFvz8EcSzpnnYXDCD3AtqFtOFGNM+kMBYx+DzPD/y86m8e+7SnBON2v7qlR01ncP6Gg9uriSlGSSAYyTDhl/7bmTK9tXxkj3ydFetL4lTqT5jyIdgTB/0qT9m3R9/zbvT+Yottfw3XuktJxP1Q61rh/QfcuUcHBKmzcIwdCILQE/crVpHj9+JZe7U17hSyau89lJPxYDVD3KJm5qpWWMnJqMIY+nZvKGv/NQT7ebwcicI5RhYiHBLYx30WQxObWNMyQm5Q0cy7ULK6up0/PUj3dWXn48bckEMGrGZkPJ3bhssunLmLR2qXzyIacxitvT2XZm9jABWMEmD6QPJYzILILdyeWf13Y39ZTSEMAeaQpuxZUujHn26fhCPmI6Dmy0OvIE1AyyqfYWiH7n6d9GJxWz/7df7FpBjLjQETag1Me1HPKxXwJfByXeLRViUYGiI3F/NSYr1raPdNoXh594S75nVT1Z/mUz6kAfhGJp2EI887gRy5Bw0M/g7ndQI0gZISJkpyU6WbTm7m8RYELnFkh+ZnK4/qCTiWF4XXtk6X5NkLjX7iz4rh9keAxBODaKNWKrf9Qd627yC3Cm++2m6DbHWYpHI2Im7UfFZqf6oN9DrmAsPWIquH8QjR8dRG2O88JszW56kTwvRYSayOYtD37xdsT8/ejtWq/nWsqXttdXDHdW+RNTHY9Vv5/IuTgPHtfxd7w0V04/V1ziND5IiCeTofsyTw3tRnqyfNY9b8qg1JkktXwo0EKAlg23eO2/2l7/5YaoNTyPYNIFEt6xxr/aVQQ75QTxJkEBYnDFocEKOqYQHVnn+uiCBLji1IBnCBiVZ+U6fv+dmshV7cqpq9fY4/tBg1HtudXe1zeyuRs9fHMRrEvQBQT9smb1Z+YphHljr3cWJF2gB7NOENAhAjrWGP9iIPuZhDOFYa/hD8KOxWOyAweAHEnxpqnvrvyyofbQZg4boZsEcjrUO4mX2Wl6a6jdhQeAtSoJ70YDNoIMFwmJoqImF5Wgf8jHGRhx0Y9vLNzrkNQligPdRuZpHgyDEKIixMPMQow82/dC04YdgzFwdg0+2Uf1OjPzmOYhBQ6xCoYCX9626WDOo9pqNqHUO7IfBy0XxYJ8+UHdiYuJ9AHQT2GGiycHmmLNDkmFY+JCPXrlcbqcMW28/iCNpEcHnt/3SwHzhQiEIG5JAGDYsN8yHGjil5Ir9BKVDa4U5ta/xveagNDCfRBhDQ5JczEaujhHb0FlclMFzLpDTepEEgxijAL6VSCNcPLPw6aa0oSEgTZsx+GFjwyIsenRmZmbkfuQMDj8PKrjjyCHZIw02im7eGokHAQhnFjZ8GAux/+8jOhoFhX9DCIG1EsPfD9jMC5j4/rO/If4BCiyOk7IAfLMAAAAASUVORK5CYII=');vertical-align:middle;font-size:11px;color:#888;margin-right:6px;margin-top:-3px;background-position:center;height:20px;width:20px}.flex_context{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.flex_bd{-webkit-box-flex:1;-webkit-flex:1;flex:1;word-wrap:break-word;word-break:break-all}.original_page{background-color:#fff;font-size:16px}.account_info{padding:0 0 20px}.account_info .flex_bd{padding-left:.85em}.radius_avatar.account_avatar{width:40px;height:40px;padding:0}.account_nickname{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;line-height:1.2;color:#576b95;font-size:14px}.account_nickname_inner{font-weight:400;vertical-align:top}.account_desc{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;color:#b2b2b2;font-size:13px;line-height:1.2;padding-top:.3em}.account_desc_inner{display:inline;vertical-align:top}.share_notice{margin-bottom:20px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.share_media{padding-bottom:18px}.original_panel{padding:20px;background-color:#fcfcfc;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;position:relative}.original_panel:after{content:" ";border:1px solid #d8d8d8;border-radius:4px;-moz-border-radius:4px;-webkit-border-radius:4px;position:absolute;top:0;left:0;width:200%;height:200%;-webkit-transform:scale(0.5);transform:scale(0.5);-webkit-transform-origin:0 0;transform-origin:0 0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.original_panel .original_account{margin-bottom:18px;position:relative;z-index:1}.original_panel .original_account_avatar{width:28px;height:28px;padding:0}.original_panel .original_account_nickname{padding-left:.85em;font-size:15px;color:#576b95}.original_panel_title{font-size:23px;color:#000;margin:0 0 16px}.original_panel_content{color:#333}.original_panel_tool{padding-top:20px;position:relative;z-index:1}.original_cell_nickname{display:inline-block;vertical-align:middle;font-weight:400;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;max-width:8em;color:#000}.original_tool_area{padding:1.17em 0;border-width:0;position:relative}.original_tool_area:before{content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid #dfdfdf;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area:after{content:" ";position:absolute;left:0;bottom:0;right:0;height:1px;border-bottom:1px solid #dfdfdf;-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(0.5);transform:scaleY(0.5)}.original_tool_area .radius_avatar{width:20px;height:20px;margin-right:.2em}.original_tool_area .flex_cell{padding:0;font-size:14px}.original_tool_area .icon_access:after{margin-right:4px;top:0}.preview_appmsg .rich_media_title{margin-top:1.5em}.preview_appmsg .account_info{padding-top:3em}.original_page{background-color:transparent}.account_info{-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0;padding-bottom:20px;font-size:14px}.account_info.appmsg_account_info{padding-bottom:32px}.account_info .radius_avatar img{background-color:transparent}.share_notice{font-size:16px;word-wrap:break-word;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.original_panel{background-color:#fafafa}.original_panel:after{border-color:#e6e6e6}.original_panel .original_account_avatar{width:30px;height:30px}.original_panel_tool{font-size:14px}.original_panel_tool a{color:#576b95}.original_panel_content{font-size:17px}.share_media{padding-bottom:30px}.icon_appmsg_tag{display:inline-block;vertical-align:middle;padding:0 .5em;font-size:12px;line-height:1.5;background-color:#c3c3c3;color:#fff;border-radius:2px;-moz-border-radius:2px;-webkit-border-radius:2px;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;max-width:70%}.icon_appmsg_tag.primary{color:#3bb638;padding:4px .78em;background-color:rgba(9,187,7,0.08);font-size:12px;border-top-left-radius:.95em 50%;-moz-border-radius-topleft:.95em 50%;-webkit-border-top-left-radius:.95em 50%;border-top-right-radius:.95em 50%;-moz-border-radius-topright:.95em 50%;-webkit-border-top-right-radius:.95em 50%;border-bottom-left-radius:.95em 50%;-moz-border-radius-bottomleft:.95em 50%;-webkit-border-bottom-left-radius:.95em 50%;border-bottom-right-radius:.95em 50%;-moz-border-radius-bottomright:.95em 50%;-webkit-border-bottom-right-radius:.95em 50%}.icon_appmsg_tag.default{border:1px solid rgba(0,0,0,0.1);color:rgba(0,0,0,0.3);background-color:transparent;padding:0 .54em;font-size:15px;line-height:1.3;border-top-left-radius:.67em 50%;-moz-border-radius-topleft:.67em 50%;-webkit-border-top-left-radius:.67em 50%;border-top-right-radius:.67em 50%;-moz-border-radius-topright:.67em 50%;-webkit-border-top-right-radius:.67em 50%;border-bottom-left-radius:.67em 50%;-moz-border-radius-bottomleft:.67em 50%;-webkit-border-bottom-left-radius:.67em 50%;border-bottom-right-radius:.67em 50%;-moz-border-radius-bottomright:.67em 50%;-webkit-border-bottom-right-radius:.67em 50%}.rich_media_meta_list .icon_appmsg_tag.default{margin-top:-1px}.icon_appmsg_tag.title_tag{background-color:#d04b4e}.icon_global_tag_wrp{text-align:right;padding-bottom:12px}.icon_global_tag{background-color:rgba(118,118,118,0.16);color:rgba(0,0,0,0.41);line-height:2.2;border-top-left-radius:1em 50%;-moz-border-radius-topleft:1em 50%;-webkit-border-top-left-radius:1em 50%;border-bottom-left-radius:1em 50%;-moz-border-radius-bottomleft:1em 50%;-webkit-border-bottom-left-radius:1em 50%;padding:0 1.8em 0 1.34em;font-size:12px;margin-right:-24px;display:inline-block;vertical-align:top}.global_plain_btn{display:inline-block;vertical-align:middle;padding:0 1em;line-height:2;font-size:14px;-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px}.global_plain_btn.primary{color:#1aad19;border:1px solid currentColor}.global_plain_btn.primary:active{color:rgba(26,173,25,0.6)}.wx_video_context{color:#fefefe;position:relative;background-color:#000}.wx_video_thumb,.wx_video_thumb_primary{position:absolute;left:0;width:100%;height:100%!important;top:0}.wx_video_thumb_primary{-webkit-background-size:cover;background-size:cover;background-position:50% 50%;background-repeat:no-repeat}.wx_video_play_btn{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);margin-top:-2px;font-size:0;border-width:0;background-color:transparent;padding:0;outline:0;z-index:2}.wx_video_play_btn:before{content:" ";display:inline-block;width:0;height:0;border-width:14px 0 14px 25px;border-color:transparent transparent transparent #fff;border-style:dotted dotted dotted solid}.wx_video_mask{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,0.5)}.place_audio_area{min-height:100px;background-color:#fdfdfd;display:block;margin:16px 0}.place_music_area{min-height:68px;background-color:#fdfdfd;display:block;margin:17px 0 16px}.rich_media_empty_extra{background-color:#fafafa}.appmsg_skin_default.rich_media_empty_extra{background-color:#fff}.appmsg_skin_default .rich_media_area_primary{background-color:#fff}.appmsg_skin_default .rich_media_area_primary .weui-loadmore_line .weui-loadmore__tips{background-color:#fff}.appmsg_style_default .rich_media_tool{padding-top:15px}.rich_media_title_ios{font-weight:700}.read-more__area{margin:30px 0}.read-more__desc{margin-bottom:10px}.read-more__article__extra{font-size:14px;color:rgba(0,0,0,0.5)}.read-more__article__item{margin-bottom:10px}</style>
<style>
        </style>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/pc435ee6.css">
<![endif]-->

    </head>
    <body id="activity-detail" class="zh_CN mm_appmsg  appmsg_skin_default appmsg_style_default">
        
<script nonce="832087814" type="text/javascript">
    var biz = ""||"MzI0MTI1Nzk1MA==";
    var sn = "" || ""|| "b99593722a16e0af537f39b3a18047b3";
    var mid = "" || ""|| "2651677249";
    var idx = "" || "" || "1";
    window.__allowLoadResFromMp = true; 
    
        
</script>
<script nonce="832087814" type="text/javascript">
var page_begintime=+new Date,is_rumor="",norumor="";
1*is_rumor&&!(1*norumor)&&biz&&mid&&(document.referrer&&-1!=document.referrer.indexOf("mp.weixin.qq.com/mp/rumor")||(location.href="http://mp.weixin.qq.com/mp/rumor?action=info&__biz="+biz+"&mid="+mid+"&idx="+idx+"&sn="+sn+"#wechat_redirect"));
</script>
<script nonce="832087814" type="text/javascript">
var MutationObserver=window.WebKitMutationObserver||window.MutationObserver||window.MozMutationObserver,isDangerSrc=function(t){
if(t){
var e=t.match(/http(?:s)?:\/\/([^\/]+?)(\/|$)/);
if(e&&!/qq\.com(\:8080)?$/.test(e[1])&&!/weishi\.com$/.test(e[1]))return!0;
}
return!1;
},ishttp=0==location.href.indexOf("http://");
-1==location.href.indexOf("safe=0")&&ishttp&&"function"==typeof MutationObserver&&"mp.weixin.qq.com"==location.host&&(window.__observer_data={
count:0,
exec_time:0,
list:[]
},window.__observer=new MutationObserver(function(t){
window.__observer_data.count++;
var e=new Date,r=[];
t.forEach(function(t){
for(var e=t.addedNodes,o=0;o<e.length;o++){
var n=e[o];
if("SCRIPT"===n.tagName){
var i=n.src;
isDangerSrc(i)&&(window.__observer_data.list.push(i),r.push(n)),!i&&window.__nonce_str&&n.getAttribute("nonce")!=window.__nonce_str&&(window.__observer_data.list.push("inlinescript_without_nonce"),
r.push(n));
}
}
});
for(var o=0;o<r.length;o++){
var n=r[o];
n.parentNode&&n.parentNode.removeChild(n);
}
window.__observer_data.exec_time+=new Date-e;
}),window.__observer.observe(document,{
subtree:!0,
childList:!0
})),function(){
if(-1==location.href.indexOf("safe=0")&&Math.random()<.01&&ishttp&&HTMLScriptElement.prototype.__lookupSetter__&&"undefined"!=typeof Object.defineProperty){
window.__danger_src={
xmlhttprequest:[],
script_src:[],
script_setAttribute:[]
};
var t="$"+Math.random();
HTMLScriptElement.prototype.__old_method_script_src=HTMLScriptElement.prototype.__lookupSetter__("src"),
HTMLScriptElement.prototype.__defineSetter__("src",function(t){
t&&isDangerSrc(t)&&window.__danger_src.script_src.push(t),this.__old_method_script_src(t);
});
var e="element_setAttribute"+t;
Object.defineProperty(Element.prototype,e,{
value:Element.prototype.setAttribute,
enumerable:!1
}),Element.prototype.setAttribute=function(t,r){
"SCRIPT"==this.tagName&&"src"==t&&isDangerSrc(r)&&window.__danger_src.script_setAttribute.push(r),
this[e](t,r);
};
}
}();
</script>

        <link rel="dns-prefetch" href="//res.wx.qq.com">
<link rel="dns-prefetch" href="//mmbiz.qpic.cn">
<link rel="shortcut icon" type="image/x-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico">
<link rel="mask-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/MjliNWVm.svg" color="#4C4C4C">
<link rel="apple-touch-icon-precomposed" href="//res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png">
<script nonce="832087814" type="text/javascript">
    String.prototype.html = function(encode) {
        var replace =["&#39;", "'", "&quot;", '"', "&nbsp;", " ", "&gt;", ">", "&lt;", "<", "&yen;", "¥", "&amp;", "&"];
        
		
		
		
		
        
        var replaceReverse = ["&", "&amp;", "¥", "&yen;", "<", "&lt;", ">", "&gt;", " ", "&nbsp;", '"', "&quot;", "'", "&#39;"];
	    var target;
	    if (encode) {
	    	target = replaceReverse;
	    } else {
	    	target = replace;
	    }
        for (var i=0,str=this;i< target.length;i+= 2) {
             str=str.replace(new RegExp(target[i],'g'),target[i+1]);
        }
        return str;
    };

    window.isInWeixinApp = function() {
        return /MicroMessenger/.test(navigator.userAgent);
    };

    window.getQueryFromURL = function(url) {
        url = url || 'http://qq.com/s?a=b#rd'; 
        var tmp = url.split('?'),
            query = (tmp[1] || "").split('#')[0].split('&'),
            params = {};
        for (var i=0; i<query.length; i++) {
            var arg = query[i].split('=');
            params[arg[0]] = arg[1];
        }
        if (params['pass_ticket']) {
        	params['pass_ticket'] = encodeURIComponent(params['pass_ticket'].html(false).html(false).replace(/\s/g,"+"));
        }
        return params;
    };

    (function() {
	    var params = getQueryFromURL(location.href);
        window.uin = params['uin'] || "" || '';
        window.key = params['key'] || "" || '';
        window.wxtoken = params['wxtoken'] || '';
        window.pass_ticket = params['pass_ticket'] || '';
        window.appmsg_token = "";
    })();

    function wx_loaderror() {
        if (location.pathname === '/bizmall/reward') {
            new Image().src = '/mp/jsreport?key=96&content=reward_res_load_err&r=' + Math.random();
        }
    }

</script>

<script nonce="832087814" type="text/javascript">
        window.__moon_report_uin = "0";
            window.no_moon_ls = 0;
    </script>

        
<script nonce="832087814" type="text/javascript">
    var write_sceen_time = (+new Date()); 
</script>

<div id="js_article" class="rich_media">
    
    <div id="js_top_ad_area" class="top_banner"></div>
    
    <div class="rich_media_inner">

        
        
        <div id="page-content" class="rich_media_area_primary">
          <div class="rich_media_area_primary_inner">
                                    
                        

            <div id="img-content">

                
                <h2 class="rich_media_title" id="activity-name">
                    
                    
                    硕博论文 | 基于网络特征学习的个性化推荐系统 01#

                                                                                </h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                            <span id="copyright_logo" class="rich_media_meta rich_media_meta_text meta_tag_text">原创：</span>
                                                            <span class="rich_media_meta rich_media_meta_text">
                                                王鸿伟
                                            </span>
                                        
                                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
                      <a href="javascript:void(0);" id="js_name">
                        知识工场                      </a>
                      <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                          <div class="profile_inner">
                              <strong class="profile_nickname">知识工场</strong>
                              <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                              <p class="profile_meta">
                              <label class="profile_meta_label">微信号</label>
                              <span class="profile_meta_value">fudankw</span>
                              </p>

                              <p class="profile_meta">
                              <label class="profile_meta_label">功能介绍</label>
                              <span class="profile_meta_value">知识工场依托复旦大学等研究机构专注于各类知识图谱构建、管理与应用理论及关键技术研究。知识工场以构建能够满足机器语言认知需要的大规模、高质量知识图谱为基本目标，并以推进知识图谱在文本理解、智慧搜索以及机器智脑等领域中的深入应用为主要使命。</span>
                              </p>
                              
                          </div>
                          <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                              <i class="profile_arrow arrow_out"></i>
                              <i class="profile_arrow arrow_in"></i>
                          </span>
                      </div>
                    </span>


                    <em id="publish_time" class="rich_media_meta rich_media_meta_text"></em>





                </div>
                
                
                
                
                                                
                                                                
                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <blockquote><p><strong><span style="font-size: 14px;">作者：</span></strong><span style="font-size: 14px;">王鸿伟，斯坦福大学计算机系博士后，2014年获得上海交通大学计算机系（ACM试点班）学士学位，2018年获得上海交通大学计算机系博士学位，研究方向为推荐系统和图数据挖掘。他曾在WWW，AAAI，WSDM，CIKM，TPDS等国际会议和期刊上发表十余篇论文。在博士期间获得谷歌博士生奖研金、国家奖学金等多项荣誉。</span></p></blockquote><p><br  /></p><p><span style="font-size: 14px;"><br  /></span></p><hr style="border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);"  /><p><span style="font-size: 14px;"></span><br  /></p><p><br  /></p><section data-role="outer" label="Powered by 135editor.com" style="max-width: 100%;font-variant-numeric: normal;font-variant-east-asian: normal;letter-spacing: 0.544px;white-space: normal;widows: 1;font-size: 16px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;word-wrap: break-word !important;"><section data-role="outer" label="Powered by 135editor.com" style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section data-role="outer" label="Powered by 135editor.com" style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><section data-id="undefined" class="" style="max-width: 100%;box-sizing: border-box;font-family: 微软雅黑;border-width: 0px;border-style: none;border-color: initial;word-wrap: break-word !important;"><section style="max-width: 100%;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="margin-right: auto;margin-left: auto;max-width: 100%;box-sizing: border-box;width: 5em;height: 5em;border-radius: 100%;border-width: 1px;border-style: solid;border-color: rgb(77, 77, 77);word-wrap: break-word !important;"><section style="max-width: 100%;font-size: 22px;box-sizing: border-box !important;word-wrap: break-word !important;">摘</section><section style="margin: -5px auto;max-width: 100%;text-transform: uppercase;font-size: 12px;box-sizing: border-box !important;word-wrap: break-word !important;">ABSTRACT</section><section style="max-width: 100%;font-size: 22px;box-sizing: border-box !important;word-wrap: break-word !important;">要</section></section></section></section></section></section></section><p style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><br  /></p><p style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在当今信息爆炸的时代，个性化推荐系统（personalized recommender systems）是面向用户的互联网产品的核心技术。推荐系统可以帮助用户获取所需要的信息，改善信息超载的问题。推荐系统的技术核心是对用户历史、物品属性和上下文等信息进行建模， 推断出用户的兴趣爱好，并向用户推荐感兴趣的物品。因此，实用的推荐算法需要有很强的扩展性，可以方便地融合各种辅助信息。在众多的辅助信息中，有一类较为特殊， 即拥有网络结构的信息（network-structured information），例如，用户之间的在线社交网络（social network），以及物品之间的知识图谱（knowledge graph），甚至用户和物品的交互本身就构成了一个交互图（interaction graph）。网络结构的信息为推荐算法提供了丰富的辅助输入，然而如何有效地利用这种高维结构数据，成为推荐系统中的一个富有挑战性的问题。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">近年来，网络特征学习（network representation learning）逐渐成为机器学习中的一 个热门的研究方向。网络特征学习试图为一个网络中的每一个节点学习得到一个低维表示向量，同时保持其原有的结构信息。由于推荐系统中天然存在着大量的网络结构，因 此，将网络特征学习与推荐系统相结合，用网络特征学习的方法去处理推荐系统中的相关特征，可以有效地增强推荐系统的学习能力，提高推荐系统的精确度和用户满意度， 从而为现实生活中的各类互联网应用提供更优良的用户体验，进而减轻信息爆炸带来的 负面影响，提升整体经济效率。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">本文的主题为基于网络特征学习的个性化推荐系统。本文的研究内容和主要贡献如下：</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">一、研究应用于推荐系统交互图的网络特征学习方法。在推荐系统中，用户和物品之间的显式反馈或隐式反馈构成了一个有权重或无权重的交互图。因此，本文提出从网络特征学习的角度来设计推荐算法模型。我们提出了GraphGAN，一个将生成式方法和判别式方法进行统一的联合模型。在该联合模型中，判别器和生成器之间进行对抗式的训练（adversarial training）：生成器试图拟合网络中节点之间的真实连接性概率分布，并 为给定节点生成出其“伪”邻居；判别器试图为给定节点区分它真实的邻居和由生成器生成出的“伪”邻居。两者之间的对抗学习会迫使它们在训练中各自提高生成或判别能 力。最后学习得到的模型可以用来刻画用户或者物品的特征，并应用于推荐系统场景。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">二、研究社交网络辅助的推荐系统。在很多推荐场景中，用户端都会存在一个在线 社交网络。根据同质性假设，两个在社交网络中关系紧密的用户的偏好也很可能会相似。 因此，使用社交网络的信息来辅助推荐算法有重要的实际意义。本文研究两种将社交网络信息和推荐系统进行融合的方法：（1）基于特征的方法（embedding-based method）。 基于特征的方法会先用网络特征学习技术将社交网络中的节点（即用户）映射到低维 连续空间，然后将用户的低维特征用于后续推荐任务。特别地，本文提出SHINE模型。 SHINE 模型在微博明星推荐任务中利用自编码机挖掘用户的社交关系，并辅助推荐系统的决策。（2）基于结构的方法（structure-based method）。基于结构的方法会对社交网络的结构进行更加直接地利用。特别地，本文研究微博投票推荐任务中用户端的社交网络结构对投票参与度的影响。我们设计了一种联合矩阵分解模型 JTS-MF，将用户的关注/被关注信息和用户的群组信息融合到推荐系统的设计中。实验结果一致表明，社交网络的引入对推荐系统性能的提高有非常关键的作用。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">三、研究知识图谱辅助的推荐系统。在很多推荐场景中，物品可能会包含丰富的知识信息。物品端的知识图谱强化了物品之间的联系，为推荐提供了丰富的参考价值。类似地，本文提出两种将知识图谱引入推荐系统的方法：（1）基于特征的方法。本文首先使用知识图谱特征学习方法学习实体和关系的低维向量表示，这些低维表示可以用于后续的推荐系统。根据知识图谱特征学习和推荐系统这两个任务的训练次序的不同，这类方法又分为依次学习法（one-by-one learning）和交替学习法（alternate learning）。相应地， 本文提出两个模型 DKN 和 MKR。DKN 使用卷积神经网络和注意力网络分别学习新闻标题的知识特征和用户的历史兴趣。MKR 中的多任务学习框架可以利用知识图谱特征学习任务辅助提高推荐系统任务的性能。（2）基于结构的方法。本文提出了两种基于结 构的模型，它们都涉及在知识图谱上进行宽度优先搜索来获取一个实体在知识图谱中的多跳邻居。根据利用多跳邻居的技术的不同，这两种模型可以分为向外传播法（outward propagation）和向内聚合法（inward aggregation）。我们提出了 RippleNet 模型，一种向外传播法的代表。它模拟了用户的兴趣在知识图谱上的传播过程，并借此发现用户更多潜在的、层级化的偏好。我们也提出了KGCN模型，一种向内聚合法的代表。KGCN在学习知识图谱中的实体特征时聚合了该实体的邻居特征表示。通过增加迭代次数，邻居的定义可以扩展到多跳之外，从而实现了对用户潜在兴趣的挖掘。实验结果证明，利用知识图谱的高阶结构信息可以很好地提升推荐系统的性能；同时，基于特征的方法具有 很强的灵活性（ﬂexibility），而基于结构的方法具有很强的可解释性（ explainability ）。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p><br  /></p><section class="" data-tools="135编辑器" data-id="85695" style="max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);border-width: 0px;border-style: none;border-color: initial;word-wrap: break-word !important;"><section data-width="100%" style="max-width: 100%;box-sizing: border-box;width: 677px;display: flex;word-wrap: break-word !important;"><section style="max-width: 100%;flex: 0 0 20%;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="margin-top: 5px;max-width: 100%;box-sizing: border-box;opacity: 0.8;border-bottom: 10px solid rgb(182, 217, 219);border-top-color: rgb(182, 217, 219);color: inherit;float: left;word-wrap: break-word !important;border-left: 6px solid transparent !important;border-right: 6px solid transparent !important;"></section><section style="margin-top: 5px;margin-right: 5px;margin-left: 10px;max-width: 100%;opacity: 0.4;border-right: 10px solid rgb(182, 217, 219);border-left-width: 0px;border-left-color: rgb(182, 217, 219);display: inline-block;float: left;color: inherit;transform: rotate(10deg);box-sizing: border-box !important;word-wrap: break-word !important;border-bottom: 6px solid transparent !important;border-top: 6px solid transparent !important;"></section><section style="max-width: 100%;border-left: 20px solid rgb(182, 217, 219);border-right-width: 0px;border-right-color: rgb(182, 217, 219);display: inline-block;float: left;color: inherit;transform: rotate(10deg);box-sizing: border-box !important;word-wrap: break-word !important;border-bottom: 10px solid transparent !important;border-top: 15px solid transparent !important;"></section></section><section style="padding-right: 5px;padding-left: 5px;max-width: 100%;box-sizing: border-box;flex: 0 0 60%;text-align: center;word-wrap: break-word !important;"><section style="max-width: 100%;display: inline-block;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;font-size: 18px;box-sizing: border-box !important;word-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><span class="" data-brushtype="text" style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;">第 1 章&nbsp; <span style="caret-color: rgb(255, 0, 0);">绪论</span></span></strong></span></section></section><section style="max-width: 100%;flex: 0 0 20%;text-align: right;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="max-width: 100%;display: inline-block;box-sizing: border-box !important;word-wrap: break-word !important;"><section style="margin-top: 5px;max-width: 100%;box-sizing: border-box;opacity: 0.8;border-bottom: 10px solid rgb(182, 217, 219);border-top-color: rgb(182, 217, 219);color: inherit;float: left;word-wrap: break-word !important;border-left: 6px solid transparent !important;border-right: 6px solid transparent !important;"></section><section style="margin-top: 5px;margin-right: 5px;margin-left: 10px;max-width: 100%;opacity: 0.4;border-right: 10px solid rgb(182, 217, 219);border-left-width: 0px;border-left-color: rgb(182, 217, 219);display: inline-block;float: left;color: inherit;transform: rotate(10deg);box-sizing: border-box !important;word-wrap: break-word !important;border-bottom: 6px solid transparent !important;border-top: 6px solid transparent !important;"></section><section style="max-width: 100%;border-left: 20px solid rgb(182, 217, 219);border-right-width: 0px;border-right-color: rgb(182, 217, 219);display: inline-block;float: left;color: inherit;transform: rotate(10deg);box-sizing: border-box !important;word-wrap: break-word !important;border-bottom: 10px solid transparent !important;border-top: 15px solid transparent !important;"></section></section></section></section></section><p style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);box-sizing: border-box !important;word-wrap: break-word !important;"><br style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"  /></p><p style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-indent: 0em;box-sizing: border-box !important;word-wrap: break-word !important;"><br  /></p><p style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-indent: 0em;box-sizing: border-box !important;word-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;">1.1 课题背景及意义</span></strong><br  /></p><p style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-indent: 0em;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="letter-spacing: 0.544px;text-indent: 2em;"><br  /></span></p><p style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;background-color: rgb(255, 255, 255);text-indent: 2em;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 15px;">随着互联网技术和产业的迅速发展，接入互联网的服务器数量和网页数量也呈指数上升趋势。互联网的迅速发展使得海量信息同时呈现在我们面前。例如，Netﬂix 上有数万部电影，Amazon 上有数百万本图书，淘宝网3上的商品更是以亿计数。传统的搜索算法只能呈现给用户（user）相同的物品（item）排序结果，无法针对不同用户的兴趣爱好提供相应的服务。信息爆炸使得信息的利用率反而降低，这种现象被称为信息超载（information overload）。推荐问题从本质上说就是代替用户评估其从未看过、接触过和使用过的物品，包括书籍、电影、新闻、音乐、餐馆、旅游景点等。个性化推荐系统 （personalized recommender systems）作为一种信息过滤的重要手段，是当前解决信息超载问题的最有效的方法之一，是面向用户的互联网产品的核心技术。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">推荐系统在20世纪90年代中期被作为一个独立的概念提出。二十年间，推荐系统在学术界和工业界得到迅速发展，诞生了大量的理论、技术和应用。在信息大数据的时代，要有效地利用海量的用户历史信息和物品信息，发掘用户和物品之间的交互规律， 机器学习（machine learning）技术必不可少。相应地，推荐系统作为机器学习的核心应用之一，也极大地促进了机器学习技术的进步。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在推荐系统的实际应用中，除了海量的用户和产品的交互历史，可用的信息还包括用户画像（如年龄、性别等）、物品属性（如物品类别、描述、价格等）和上下文信息 （如当前会话信息、用户位置等）。因此，实用的推荐算法需要有很强的扩展性，可以方便地融合各种辅助信息（side information）。在通用的机器学习框架下，这些辅助信息可以被统一表示为特征向量（feature vector），这一类可以读取特征向量作为输入的通用推 荐算法也被称为基于特征的推荐（feature-based recommendation）。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">对于基于特征的推荐算法而言，有一类特征较为特殊，即拥有网络结构的特征 （network-structured feature）。这种特征存在于如下三个方面:</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">1、在很多实际场景中，用户之间存在一个社交网络（social network），根据同质性 （homophily）假设，两个在社交网络中关系紧密的用户（互相关注或拥有很多共 同好友）可能会拥有相似的偏好。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">2、物品之间也可能存在一个关系网络，例如，在电影和新闻推荐中，电影本身即为知识图谱（knowledge graph）中的一个实体（entity），新闻中也包含了大量类似 的实体信息；在兴趣地点（point of interest, POI）推荐中，POI 的地理位置信息构成了一个二维空间上的距离网络（distance graph）。这些物品之间的网络为我们提供了丰富的信息来提高推荐精度。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">3、更一般地，用户和物品本身的交互信息就构成了一个交互图（interaction graph）。 在大部分情况下，该交互图是一个二分图（bipartite graph）结构；在考虑标签 （tag）、物品评价指标（aspect）等情况下，该二分图还可以扩展成三分图、四分图 等。在不同的特殊情况下，交互图会呈现不同的特性。例如，用户和物品有交集时，该交互图就是一个普通图（非二分图）；当用户和物品的关系有评分（rating） 或极性（polarity）时，该交互图就是一个加权图（weighted graph）或有符号图 （signed graph）。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">我们在图1–1中给出了以上三种图结构的实例。这是一个预测微博用户对于名人的情感的应用[1]，其中便使用到了上述的三种图结构。和其它特征相比，网络结构的特征中交互更加复杂，特征的原始维度更高。如何从网络结构中学习有效的特征，并将这些特征有效地应用到推荐算法中去，是提高推荐效率的关键问题。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.4343379978471475" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv11Y1RibWhGd2EecibasOEzU7wmfYvjGmck4fyoRJ6afysr1DwvxzdFYw/640?wx_fmt=png" data-type="png" data-w="1858" style=""  /></p><p><span style="font-size: 12px;color: rgb(136, 136, 136);">图1–1预测微博用户对名人的情感所使用的三个网络结构示意图。从左到右分别为：（a）情感网络 （交互图）；（b）社交网络；（c）知识图谱。</span></p><p style="text-indent: 0em;"><span style="font-size: 15px;"></span><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">网络特征学习（network representation learning，也叫作network embedding）试图为一 个网络中的每个节点（vertex）学习得到一个低维表示向量（low-dimensional representation vector），同时保持其原有的网络结构信息。由于低维向量可以很容易地各种被各种下游 的机器学习方法处理（例如逻辑斯蒂回归、支持向量机等），因此，网络特征学习近年来逐渐成为一个热门的研究领域。近年来，网络特征学习的研究已经扩展到了多种类型的网络（图），例如加权图（weighted graph）、有向图（directed graph）、有符号图（signed graph）、异构图（heterogeneous graph）等。特别地，知识图谱作为一种特殊的异构图， 知识图谱特征学习（knowledge graph embedding）也引起了广泛的研究关注。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">由于推荐问题中天然存在着大量的网络结构，因此，将网络特征学习与推荐系统相结合，用网络特征学习的方法去处理推荐系统中的相关特征，并将学习得到的特征有效地应用到推荐系统中，会有效地增强推荐系统的学习能力，提高推荐系统的精确度和用户满意度。网络结构，特别是知识图谱的引入，也会给推荐系统推荐的结果带来额外的多样性（diversity）和可解释性（explainability），这些性质有助于增强推荐系统对用户兴趣的发掘能力，提高用户对推荐系统的信任，从而为现实生活中的各类互联网应用提供更优良的用户体验，进而减轻信息爆炸带来的负面影响，提升整体经济效率。</span></p><p style="text-indent: 0em;"><br  /></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">1.2 推荐系统概述</span></strong></p><p style="text-indent: 0em;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在本节中，我们首先遵循推荐系统中的一般分类方法对其进行介绍，其中我们会重点关注协同过滤方法。然后，我们简单地介绍一些推荐系统最新的研究领域和方向。</span></p><p style="text-indent: 0em;"><br  /></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">1.2.1 传统推荐系统方法分类</span></strong></p><p style="text-indent: 0em;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在早期的综述中[2]，推荐系统被分为三类：基于内容的方法（content-based methods）、协同过滤（collaborative ﬁltering）和混合方法（hybrid methods）。近年来，随着可用信息的增加，推荐算法日益细化和复杂，单纯的基于内容的方法或协同过滤越来越少，综合利用各种可用信息是推荐系统的未来趋势。在本文中，我们首先依然遵循传统分类方 法，对推荐系统进行介绍。</span></p><p><br  /></p><p><span style="font-size: 16px;"><strong>1.2.1.1 基于内容的方法</strong></span></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">基于内容的推荐系统使用针对物品（或用户）的描述来定义物品（或用户）的属性[3,4]。推荐系统会根据用户过去给出评分最高的物品的属性来给用户推荐最为匹配的物品。实现这种推荐方法的关键之一在于定义一种相似度度量标准（例如余弦距离）。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">基于内容的方法的优势在于对用户兴趣可以很好的建模，并可以通过对物品属性维度的增加，获得更好的推荐精度。不足之处在于：一，物品的属性有限，很难获得更多的属性数据，而对于很多类型的数据而言（图像，视频等），自动特征提取是一件比较困难的工作[5]；二，基于内容的方法只会给用户推荐和他的属性高度匹配的物品，也就 是说，该推荐方法无法帮助用户发现新的兴趣和爱好。</span></p><p><br  /></p><p><strong><span style="font-size: 16px;">1.2.1.2 协同过滤</span></strong></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">协同过滤是推荐系统中最为流行和广泛使用的技术。简单地说，协同过滤方法根 据其他相似用户对于某物品的评分来预测某用户对于该物品的评分。协同过滤方法基于如下的两个假设：一，在过去拥有相似偏好的用户在未来也有相似的偏好；二，用 户对偏好随时间变化相对稳定。早期的综述将协同过滤方法分成两大分类：基于记忆 （memory-based）的算法和基于模型（model-based）的算法。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">基于记忆的算法&nbsp;</span></strong></p><p style="text-indent: 0em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">基于记忆的算法[6–9] 根据其它用户对某物品的评分来预测某用户对该物品的评分。也就是说，对于用户 c 和物品 s，一个未知评分</span><img class="" data-ratio="0.6488888888888888" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv1UHORmLRDAIOadk4njFEiceiadXbIBfcRFUicJLRKmGbxej9yvufibD8ibw/640?wx_fmt=png" data-type="png" data-w="225" style="text-align: center;width: 28px;height: 20px;"  /><span style="font-size: 15px;">的预测值为其他用户（通常为若干个最相似用户）对于该物品 s 的评分的函数：</span></p><p style="text-indent: 0em;"><span style="font-size: 15px;"></span><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.2982456140350877" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv54YoN0rtVicLqib0W8qaMvWp0MqYTxgDz7pNTZUKJRzSoicrQ0iaSUibdrA/640?wx_fmt=png" data-type="png" data-w="1026" style="width: 207px;height: 62px;"  /></p><p style="text-align: center;"><br  /></p><p><span style="font-size: 15px;">其中C 表示若干个对s给出评分的且和c最相似的用户的集合。聚合函数agg 可以是简单的算术平均值，基于相似度的加权平均值等。相似度的度量可以是皮尔逊相关系数， 余弦距离等。</span></p><p><br  /></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">基于模型的算法&nbsp;</span></strong></p><p style="text-indent: 0em;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">基于模型的算法通过机器学习方法，使用评分集合学习出一个全局模型，然后基于模型来预测缺失的评分。由于可以选择的机器学习模型千差万别，基于模型的算法也有非常多的种类。文献[10] 提出了一种基于支持向量机（SVM）的方法，使用启发式算法迭代计算估计缺失的评分值。文献[11] 使用一种神经网络的算法，基于用户和基于物品分别进行预测。文献[12] 提出了各种针对 Netﬂix 竞赛的推荐系统算法，并特别指出了矩阵分解算法给出了最好的结果。其它在推荐系统中使用的模型还有：贝叶斯模型[13]，概率关系模型[14]，线性回归[15]，最大熵模型[16]，决策模型[17]，概率语言（PLSA）模型[18,19]，隐含狄利克雷分布模型（LDA） [20] 等。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">协同过滤建模主要使用用户对物品的历史交互数据，也称为反馈数据。根据交互行为是否反映用户对物品的喜好程度，可以把反馈数据分为两类：（1）显式反馈（explicit feedback），通常是指能够直接反映用户对物品喜好程度的评分，例如豆瓣网上用户对电影的1-5分的评分；（2）隐式反馈（implicitfeedback），例如点击、购买、看视频、听 音乐等行为。这些行为不能直接揭示用户是否喜欢一个物品，但能从侧面反映出用户对 物品的兴趣。</span></p><p style="text-indent: 0em;"><br  /></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">显式反馈&nbsp;</span></strong></p><p style="text-indent: 0em;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">早期较为常见的推荐系统任务是评分预测[21]。输入为三元组集合 &lt; u,i,&nbsp;</span><img class="" data-ratio="0.6536585365853659" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvpwWUp1H2tTpDWXdyRqFK4zszW8F6iaWmR0KPArMjDBda7oope4H1wDg/640?wx_fmt=png" data-type="png" data-w="205" style="text-align: left;text-indent: 2em;width: 26px;height: 20px;"  /><span style="text-indent: 0em;font-size: 15px;">&gt;，代表 用户u 对物品i 的打分<img class="" data-ratio="0.6536585365853659" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvpwWUp1H2tTpDWXdyRqFK4zszW8F6iaWmR0KPArMjDBda7oope4H1wDg/640?wx_fmt=png" data-type="png" data-w="205" style="height: 20px;text-align: left;width: 26px;"  />。所有历史数据可以表示为一个二维矩阵Y，其中行、列和值分别代表用户、物品和打分。由于互联网产品中用户和物品的规模通常很大（百万级甚至更多），而用户通常只对少量的物品有打分，因此Y 矩阵通常高度稀疏。评分预测任务可以表示为预测打分矩阵中的缺失数据。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">通常而言，基于显式反馈的评分预测系统只优化Y 矩阵中的观察数据，而完全忽略缺失数据。虽然这种做法极大降低了模型训练的时间复杂度并在预测未知评分任务上可以取得较低的误差率，但是在以排序为主的top-k 物品推荐任务上表现较差[22]，甚至弱于非个性化的基于物品流行度的排序[23]。其主要原因是观察数据中有较强的选择偏差 （selection bias），而缺失数据中含有丰富的负样本信息[24]。因此，在构造实际的top-k 物 品推荐系统时，传统评分预测模型完全忽略缺失数据的做法并不可取，考虑对缺失数据的建模非常重要。缺失数据的建模在基于隐式反馈的推荐方法中得到了广泛的研究和使用。</span></p><p style="text-align: left;"><span style="text-indent: 0em;text-align: justify;"></span><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">隐式反馈</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">相比于显式反馈，互联网内容提供商更容易获得隐式反馈，例如电商/视频网站可以从服务器中直接获取用户的点击/观看历史。由于不需要用户显式地提供打分，隐式反馈的选择偏差较小，而且其规模相对较大。因此，近些年对推荐系统算法的研究更集中在隐式反馈[25–29]。&nbsp;</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">与显式反馈类似，我们可以将隐式反馈描述为一个二维矩阵Y。不同的是这里Y 中 的每一个元素不是一个具体的打分，而是代表用户是否选择某一物品：1 代表选择，0 代表没有选择。因此，对隐式反馈的建模更类似于一个二分类问题——预测用户选择 某一物品的概率。图1–2描述了显式反馈和隐式反馈数据上的区别[26]。&nbsp;</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">值得一提的是，许多基于显式反馈的预测模型，如SVD++[21]，TimeSVD[31] 等，对于隐式反馈同样适用，前提是要调整其优化目标函数，以适当的方式将缺失数据考虑进来。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">综上所述，协同过滤方法的优势在于它可以很好地支持用户发现潜在的兴趣偏好。协同过滤的不足之处在于：一，对新加入的用户和物品都无法给出准确的推荐，即冷启动问题（cold start problem）；二，在显式反馈中，由于评分矩阵的稀疏性（sparsity），计算结果不是非常稳定，受异常值影响较大；三，仅仅使用评分信息，没有包含用户和物品本身的属性，也不包含社交关系信息（如果可用的话）。</span></p><p><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.5179233621755254" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv6BIrnvcwTbn0ic3Dy5v1WPM52a48XCxPLJggHzgBu2RibNyy8M5xfr8g/640?wx_fmt=png" data-type="png" data-w="1618" style="width: 473px;height: 245px;"  /></p><p><span style="font-size: 12px;color: rgb(136, 136, 136);">图1–2显式反馈和隐式反馈的区别：左图为显式反馈，矩阵中每个元素1-5代表用户对物品的喜好程度；右图为隐式反馈，矩阵中每个元素1或0代表用户是否选择了某一物品。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><span style="font-size: 16px;"><strong>1.2.1.3 混合方法&nbsp;</strong></span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">鉴于基于内容的方法和协同过滤都存在各自的缺点，一些推荐系统将两者结合，采用混合方法来避免两者的缺陷。不同的结合方法可以将混合推荐系统划分为四种类型：&nbsp;</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">一 、分别实现基于内容的方法和协同过滤，然后结合两者的预测结果。可以使用各个评分预测的线性组合[32] 或设计投票机制[33] 来结合所有的预测结果。</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">二、在协同过滤中加入一些基于内容的特征。例如，文献[34]不仅实现了传统的协同过滤方法，而且维护了每个用户的基于内容的属性。&nbsp;</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">三、在基于内容的方法中加入一些协同过滤的特征。此类别中最著名的方法是在一系列基于内容的属性中使用降维（dimensionality reduction）技术[35]。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">四，构造一个包含基于内容方法和协同过滤的统一模型。例如，文献[36] 提出在一个基于规则的分类器中结合两者的特征；文献[37] 和文献[38] 提出了一个结合两者的统一概率模型。</span></p><p><br  /></p><p><strong><span style="font-size: 16px;">1.2.2 推荐系统最新的研究热点和方向&nbsp;</span></strong></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">随着大数据和人工智能热潮的蓬勃发展，推荐系统领域也相应地诞生出一些最新的研究热点，其中包括上下文感知（context-aware）的推荐、跨域（cross-domain）推荐、基于深度学习（deep learning based）的推荐等。</span></p><p><br  /></p><p><strong><span style="font-size: 16px;">1.2.2.1 上下文感知的推荐</span></strong></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">上下文信息（contextual information）在不同的文献中有不同的定义。文献[39] 将上下文定义为研究对象的附近个体的位置、身份等信息。文献[40] 将上下文定义为任何可以被用来描述个体所处环境的特征的信息。用户的上下文信息包含不同的属性，例如地理位置、情感状态、生理状态、行为特征、个人历史等[41]。传统推荐系统的关注点在于根据重要度和关联度来推荐给用户合适的物品，而没有考虑到额外的上下文信息。然而在很多推荐场景中，例如旅游景点推荐、移动应用推荐等，只考虑到用户和物品的属性是不够的，将上下文信息包含进推荐系统的工作流程非常重要。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">学术界已经有不少文献开始关注上下文感知的推荐系统。文献[42] 中的模型考虑了在人机交互过程中动态的上下文因素对推荐效果的提升。文献[43] 使用了多维张量（用户-物品-上下文）来对用户偏好进行建模。文献[44] 指出，智能手机中个人数字助理（如 Siri，Cortana）的目标是在正确的时间提供正确的信息，然而现实中用户的意图高度依赖于上下文，如时空信息、用户当前活动等。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">1.2.2.2 跨域推荐&nbsp;</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">传统推荐系统关注于单个平台或领域内的推荐，而使用多个平台或领域上所有可用的用户偏好信息可能会促成更有包容性的用户建模和更准确的推荐，例如，解决目标领域的冷启动问题或稀疏性问题。因此，跨域推荐系统的目标是利用源领域的知识（多数 为用户偏好）辅助在目标领域中提高个性化推荐的准确度。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">从用户角度而言，跨域推荐大致可以分为三类：一，源领域和目标领域的用户完全重叠；二，源领域和目标领域的用户部分重叠；三，源领域和目标领域的用户完全不重叠。每种类别都有各自相应的跨域推荐建模方法，读者可以参考综述[45] 获得更多信息。我们这里选择几篇有代表性的跨域推荐模型进行介绍。文献[46] 将社交网络表示为多个关系领域，并通过迁移其它领域的知识到个体领域中来减轻稀疏性和冷启动的问题。文献[47] 认为不同的平台不仅共享一个公有的评分模式，每个平台也都有自己特定的模式。 因此，文献[47] 提出了一个基于聚类的潜在变量模型来学习两种不同的模式。文献[48] 研究了跨设备的搜索，提出了预测跨设备的搜索迁移的模型。文献[49] 将社交网络表示成 一个星形混合图，并从辅助领域将知识迁移到目标领域以提高推荐准确度。</span></p><p><br  /></p><p><span style="font-size: 16px;"><strong>1.2.2.3 基于深度学习的推荐&nbsp;</strong></span></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">深度学习一般指代多层人工神经网络，近年来在语音识别、计算机视觉和自然语言处理等领域取得了巨大成功[50]。根据深度学习在推荐系统中的应用方式，我们可以将相关工作大致分为两类：&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">一、作为一种基于数据的特征学习方法，深度学习技术可以从语义较为丰富的输入数据（如语音、图片、文本）中抽取也有效的特征表示，以方便在推荐算法中使用这些辅助信息[51–55]。例如，文献[51] 提出了利用深度神经网络模型来处理音频并进行音乐推荐；文献[52] 利用自编码器（autoencoder）来得到文本的高层特征，并结合协同过滤框架来进行文章推荐；文献[54] 利用卷积神经网络（convolutional neural networks）对图片进行特征学习，并应用到社交网络上的图片推荐系统中；文献[55] 对于用户和物品的ID特征都使用自编码器进行特征学习，同时在自编码器的每一层都加入辅助信息，并对最终的低维特征使用协同过滤进行推荐建模。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">二、作为一种通用的数据建模方法，深度学习对数据进行多重非线性变换，可以拟合出较为复杂的预测函数。推荐系统中的核心算法是协同过滤，其目标从机器学习的角度可以看成拟合用户和物品之间的交互函数，因此，近期一系列的工作也将深度学习技术应用于协同过滤的交互函数上[56–61]。例如，DeepFM[56] 扩展了分解机（factorization machine）方法，在 FM 中引入了一个深度模型来拟合特征之间复杂的交互关系； Wide&amp;Deep[57] 的 Wide 部分采用和分解机一样的线性回归模型，Deep 部分采用了基于特征表示学习的多层感知机模型； [58] 提出了一个深度模型用于 Youtube 的视频推荐； NCF[59] 用多层感知机替换传统协同过滤中的内积操作；DMF[61] 类似于 DeepFM，在传统矩阵分解模型中引入了一个深度学习模块来提高模型的表达能力。</span></p><p><br  /></p><p><strong><span style="font-size: 16px;">1.3 网络特征学习概述&nbsp;</span></strong></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在本节中，我们首先介绍网络特征学习的背景知识，然后按照不同的分类方法，详细介绍各类网络特征学习方法的特点。</span></p><p><br  /></p><p><strong><span style="font-size: 16px;">1.3.1 背景介绍&nbsp;</span></strong></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">网络（network）或图（graph）结构广泛地存在于多种真实场景中，如在线用户的社交网络、学术文章的引用网络、知识图谱等。对网络结构的分析可以让我们更好地挖掘网络中隐藏的信息，在连接预测（link prediction）、节点分类（node classiﬁcation）、聚类（clustering）、推荐（recommendation）、可视化（visualization）应用中都有极其广泛 的用途。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在原始的网络中，每个节点的邻接向量是一个非常冗长且稀疏的表示，这种特征难以被现有的机器学习方法有效地利用。网络特征学习（network representation learning， 也叫作network embedding）试图为一个网络中的每个节点（vertex或node）学习得到一个低维表示向量（low-dimensional representation vector），同时保持其原有的网络结构信 息。由于低维向量可以很容易地各种被机器学习方法处理（例如逻辑斯蒂回归、支持向量机等），因此，网络特征学习近年来逐渐成为一个热门的研究领域。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-indent: 0em;"><span style="font-size: 16px;"><strong>2000年以前&nbsp;</strong></span></p><p style="text-indent: 0em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在 2000 年以前，网络特征学习的主要表现形式是对高维数据进行降维。传统的方法包括主成分分析（principle component analysis）[62]，线性判别分析（linear discriminant analysis） [63]，多维缩放（multiple dimensional scaling） [64] 等。PCA[62] 经常用于减少数据集的维数，同时保持数据集中的对方差贡献最大的特征。这是通过保留低阶主成分，忽略高阶主成分做到的。这样低阶成分往往能够保留住数据的最重要方面。技术上来说， PCA 对样本 X 的协方差矩阵 XXT 进行特征值分解，取最大的 k 个的特征值对应的特征向量，将其作为投影矩阵。PCA是一种无监督学习方法，出发点是尽可能保留数据的方差，这对于某些分类问题并不是非常有效。鉴于这一点，LDA[63] 的核心思想是将高维空间中的数据点映射到低维空间中，使得同类点之间的距离尽可能接近，不同类点之间的距离尽可能远。LDA 的思想和支持向量机有异曲同工之处，区别在于支持向量机是将数据从低维向高维进行映射，目的是为了更好的分类；而 LDA 是将数据从高维向低维进行映射，目的是为了更好的降维。MDS[64] 的思想更简单直接，即在低维空间中（近似）保持每一对点的距离等于它们在原始高维空间里的距离。</span></p><p style="text-indent: 0em;"><span style="font-size: 15px;"></span><br  /></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">2000年左右</span></strong>&nbsp;</p><p style="text-indent: 0em;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">2000 年前后也涌现了一些新的降维方法，其中较为经典的有同态映射（isometric mapping）[65]、局部线性嵌入（locally linear embedding）[66] 和拉普拉斯特征映射（Laplacian eigenmaps） [67]。IsoMap 和 LLE 都是流形学习（manifold learning）中的方法。流形学习假设高维数据分布在一个特定的低维空间结构（流形）上，然后试图在低维空间上保持原有高维空间中数据的结构特征。具体来说，IsoMap[65] 只考虑高维空间中每个点和它最邻近的 k 个点的距离，基于这些（测地线）距离计算所有点对的距离，然后调用多维缩放的算法进行降维，保持每个节点和其局部邻近节点之间的距离关系。而 LLE[66] 在在 高维空间中计算每个点和它邻近节点的线性依赖关系，并试图在低维空间中保持这种线性依赖。拉普拉斯特征映射[67] 则是另一大类方法，即图拉普拉斯（graphLaplacian）或谱分析（spectral analysis）的代表。事实上，图拉普拉斯方法在近年来最新的网络特征学习方法中依然占据一席之地。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">2010年以后&nbsp;</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">2010年以后，研究者们对网络特学习的研究也从由高维数据构建起来的“网络”逐渐转移到真实的网络结构上来。2013年，word2vec[68] 提出利用SkipGram模型来学习词的低维向量表示（也叫词向量，word embedding）。由于 word2vec 简洁的方法和优秀的性能，学术界掀起了一股特征学习的热潮，网络特征学习的研究也呈现井喷之势。我们接下来将按照网络特征学习的输入、输出和方法，对该领域进行简要介绍。</span></p><p><br  /></p><p><strong><span style="font-size: 16px;">1.3.2 输入网络的种类</span></strong></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">网络特征学习的输入是一个网络，输入网络的类型可以分为如下几类：&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">一、同构图，即网络中的节点和边的种类都只有一个，例如引用网络。其中同构图又可以进一步按照无向/有向、无权重/有权重、无符号/有符号等标准细分。例如，文献[69–71] 将图中所有的节点和边都视为同一类别，整个图中只有基本的结构信息是可用的。文献[72,73] 考虑的是有权重的图，即图中的边有附加一个权重信息。两个点之间的权重越大，它们的表示向量就会越近。文献[74] 考虑的社交网络结构中，用户之间有关注/被关注的关系，所以该图是一个有向图。另外，一些通用的网络特征学习算法会同时适用于无向/有向、无权重/有权重的图，例如文献[75–77]。还有一些工作关注于有符号的网络[78,79]，这些网络一般是基于情感（sentiment）的数据集，如购物网站上的评论记录 等。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">二、异构图，即网络中的节点或边的种类不止一个。一般而言，这种图有两个表现形式：（1）多媒体网络（multimedia network）。例如，文献[80] 考虑了有两种类别的节点 （图像和文本）和三种类别的边（图像-图像、图像-文本、文本-文本）的图；文献[54] 考虑了一个由用户和图像组成的网络。（2）知识图谱（knowledge graph），知识图谱中，每个点是一个实体（entity），每条边表示一种关系（relation），每个三元组(h,r,t)表示头结点 h 和尾节点 t 由关系 r 相连接。由于知识图谱表示学习（knowledge graph embedding）具有重要的应用价值，近几年来也成为一个热门研究方向，读者可以参考最新的综述[81]。 值得一提的是，在知识图谱特征学习中，有一类基于翻译（translation-based）的方法引人注目，例如TransE[82]、TransH[83]、TransR[84] 等，这类方法的目标是，针对一个三元组 (h,r,t)，学习得到的向量满足&nbsp;</span></p><p><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.2777777777777778" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv2JCRHpVylFtAAYQd8pMAo2OpdbJdS5xFtmFNsSrcjtyjTNIdXibkHMA/640?wx_fmt=png" data-type="png" data-w="504" style="width: 162px;height: 45px;"  /></p><p style="text-align: center;"><br  /></p><p style="text-align: left;"><span style="font-size: 15px;">即关系 r 充当了从头结点到尾节点的翻译转换的角色，因此得名。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">三、带辅助信息的图，比如节点或边可能会携带标签信息、属性信息、特征信息等。 例如，文献[85] 假定节点有一个二分类的标签，并将网络特征学习和训练分类器在目标函数的层面联合起来。文献[86] 考虑了图中节点和边既有离散的属性又有连续的属性的情况。文献[87,88] 分别考虑了节点携带了文本特征和文档特征情况下的网络特征学习。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">四、由非关系型数据转化成的图，这一类常见于早期方法，即高维数据的降维算法，详见第1.3.1节。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><span style="font-size: 16px;"><strong>1.3.3 输出特征的种类&nbsp;</strong></span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">一、输出节点的特征。网络特征学习中最常见的输出是节点的特征向量。几乎所有前文所述的方法都是此类。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">二、输出边的特征。在知识图谱特征学习中，除了输出节点的特征学习之外，也会输出边的特征向量。这是因为知识图谱中，每一条边都属于一种特定的关系（relation），关系的特征向量在知识图谱的各种应用中，例如关系抽取（relation extraction）、知识图谱补全（knowledge graph completion）、问答系统（question answering）中都有重要的作用。另外，如果网络特征学习用于连接预测（link prediction）的任务，那么也会输出一 个节点对（即一条边）的特征向量[77]。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">三、输出混合特征。这种情况下，方法会输出不同的组成部分的特征组合，例如节点 + 边（即图的子结构），或节点 + 团体（community）等。例如，文献[89] 学习了子图 （subgraph）的特征，用来为图的分类问题定义一种图内核（graph kernels）。文献[69] 考虑了团体感知（community-aware）的高阶节点近邻关系，并在一个统一的框架中联合优化 了团体检测目标和网络特征学习的任务。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">四、输出全图的特征。这种情况一般为输出一些小型网络结构（例如蛋白质、分子等）的特征，每一个小型网络结构被表示成单个向量，两个相似的图会得到相似的特征向量。全图特征学习可以直接用来计算图的相似性[86,90]。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">图1–3描述了网络特征学习中不同输出的实例[91]。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.21684782608695652" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvyF2Qmcfh9Ok2icw587JNjrrIkmwvznW6CR2nzFBqiaAMFu0rCLIxXjvw/640?wx_fmt=png" data-type="png" data-w="1840" style=""  /></p><p><span style="font-size: 12px;color: rgb(136, 136, 136);">图1–3将一个网络通过特征学习得到不同粒度的特征表示的示意图。G{1,2,3} 表示包含 v1，v2 和 v3 的子结构。从左到右分别为：（a）原图；（b）节点的特征；（c）边的特征；（d）子结构的特征；（e） 全图的特征。</span></p><p><span style="font-size: 12px;color: rgb(136, 136, 136);"><br  /></span></p><p><span style="color: rgb(0, 0, 0);font-size: 16px;">1.3.4 典型方法&nbsp;</span></p><p><span style="color: rgb(0, 0, 0);font-size: 16px;"><br  /></span></p><p style="text-indent: 2em;"><span style="color: rgb(0, 0, 0);font-size: 15px;">网络特征学习按照方法可以大致分成如下几类：&nbsp;</span></p><p style="text-indent: 2em;"><span style="color: rgb(0, 0, 0);font-size: 15px;">一、矩阵分解（matrix factorization）。这种方法涵盖了几乎所有的传统方法，包括主成分分析（PCA）、多维缩放（MDS）、同态映射（IsoMap）等。另外，以拉普拉斯特征映射（Laplacian eigenmaps）为代表了谱分析（spectral analysis）方法也是矩阵分解的 一种，详见1.3.1节。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">二、随机游走（random walk）。这种方法使用随机游走的方法，从图中采样出很多条路径，然后基于这些路径来学习节点的特征表示。事实上，在将图表示为路径的集合之后，整个图就被转换成了一个有节点组成的“文档”，因此，以word2vec[68] 为代表的词向量学习方法都可以被应用到这里。第一个使用随机游走来进行网络特征学习的方法是DeepWalk[92]，DeepWalk 正是利用随机游走，将图表示为游走路径的集合，然后使用SkipGram 方法进行节点特征学习。Node2vec[77] 也是这种方法的代表之一。Node2vec 很类似于 DeepWalk，区别在于 Node2vec 更细粒度地定义了随机游走中选择下一个节点的方式。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">三、深度学习（deep learning）。文献[93,94] 使用自编码器（autoencoder）进行网络特征学习。例如，SDNE[94] 将网络中每个节点用它的邻接向量表示，当做自编码器的输入， 然后对于每一条边，都让其两个点在自编码器的中间层输出尽量接近。这种方法的一个不足之处在于，对于大规模网络而言，邻接向量会非常冗长且稀疏，从而使这种方法的计算效率大大降低。HNE[80] 也利用卷积神经网络（convolutional neural networks）来处理图像，进行网络特征学习。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">四，其它自定义损失函数（self-deﬁned loss function）。例如，LINE[76] 中定义了一阶邻近关系和二阶邻近关系，并以此为目标设计了两个损失函数项。知识图谱特征学习中的各种方法也都是自定义的损失函数，详见1.3.2节。</span></p><p><br  /></p><p><strong><span style="font-size: 16px;">1.4 本文研究内容及结构安排&nbsp;</span></strong></p><p><br  /></p><p><strong><span style="font-size: 16px;">研究内容&nbsp;</span></strong></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">网络结构的数据在推荐系统中相当普遍。本文的研究目标是推荐系统和网络特征学习的结合，利用网络特征学习的技术更好地融合网络结构的辅助信息，提高推荐的效率。推荐场景本身包含了丰富的网络结构，例如用户和物品的交互图，用户端的社交网络，物品端的知识图谱等。如果能够借助一些最近的网络特征学习的方法，并将其有效且自然地融合进推荐算法的框架，那么将很大程度上提升推荐的精确度和用户满意度。 基于这个目标，本文的主要研究内容和贡献如下：&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><span style="font-size: 15px;color: rgb(0, 0, 0);"></span>一、利用网络特征学习方法对推荐系统中的交互图进行建模。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">用户和物品的交互分为两类，一类是显式反馈（explicit feedback），例如用户对电影直接打分；一类是隐式反馈（implicit feedback），例如用户在购物网站上对商品的点击和浏览行为。在这两种情况下，用户和商品之间构成了一个有权重或无权重的交互图， 其中边表示打分、点击、浏览等操作。在特殊情况下，用户和物品之间的交互图也会携带正负号或其它辅助信息。传统的推荐算法主要立足于机器学习的分类和回归模型，本文提出从网络的角度来设计推荐算法模型。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">一般而言，现有的网络特征学习方法可以分成两类。第一类是生成式方法（generative methods），这类方法通常假设对于网络中的每个节点</span><img class="" data-ratio="0.8512396694214877" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvGJgksHic4KLp5DeRKUx2WKBPpzsPPHUsWib0LtZDQzRXxvRjHhic9wK0A/640?wx_fmt=png" data-type="png" data-w="121" style="text-align: center;width: 24px;height: 20px;"  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">，都存在一个真实的连接性概率分布（connectivity distribution）</span><img class="" data-ratio="0.26700251889168763" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvrTggcMYhBREIrPs5EwGIGb83gAViarmlxoJqCxsjwQCTI0fXjxic2zfQ/640?wx_fmt=png" data-type="png" data-w="397" style="text-align: center;width: 87px;height: 23px;"  /><span style="font-size: 15px;">。这个连接性概率分布刻画了</span><img class="" data-ratio="0.8512396694214877" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvGJgksHic4KLp5DeRKUx2WKBPpzsPPHUsWib0LtZDQzRXxvRjHhic9wK0A/640?wx_fmt=png" data-type="png" data-w="121" style="text-align: center;width: 24px;height: 20px;"  /><span style="font-size: 15px;">节点对于图中每个其它节点的连接偏好。在这种假定下，图中的边可以看作是由这些条件的概率生成 出的样本。第二类方法是判别式方法（discriminative methods），这类方法试图直接学习一个分类器来判定两个节点之间是否存在边。更具体地说，判别式方法将两个节点视为输入特征，然后输出预测的两个节点之间有边的概率。本文研究一个将两者进行统一的联合模型，在联合模型中，判别器和生成器之间进行对抗式训练（adversarial training）：生成器试图拟合真实的连接性概率分布</span><img class="" data-ratio="0.26700251889168763" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvrTggcMYhBREIrPs5EwGIGb83gAViarmlxoJqCxsjwQCTI0fXjxic2zfQ/640?wx_fmt=png" data-type="png" data-w="397" style="height: 23px;white-space: normal;text-align: center;width: 87px;"  /><span style="font-size: 15px;">并生成出可能和</span><img class="" data-ratio="0.8512396694214877" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvGJgksHic4KLp5DeRKUx2WKBPpzsPPHUsWib0LtZDQzRXxvRjHhic9wK0A/640?wx_fmt=png" data-type="png" data-w="121" style="height: 20px;white-space: normal;text-align: center;width: 24px;"  /><span style="font-size: 15px;">相连的点，而判别器试图为</span><img class="" data-ratio="0.8512396694214877" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvGJgksHic4KLp5DeRKUx2WKBPpzsPPHUsWib0LtZDQzRXxvRjHhic9wK0A/640?wx_fmt=png" data-type="png" data-w="121" style="height: 20px;white-space: normal;text-align: center;width: 24px;"  /><span style="font-size: 15px;">节点区分它真实的邻居和由生成器生成出的“伪”邻居。两者之间的对抗学习会迫使它们各自提高生成或判别能力，直至收敛。最后学习得到的模型可以用来刻画用户或者物品并应用于推荐系统的场景。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">二、利用网络特征学习的方法将用户端的社交网络信息融合到推荐算法中。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在很多推荐场景中，用户端都会存在一个在线社交网络。例如，在微博投票推荐场景中，用户之间存在关注/被关注的关系；在电影推荐场景中，豆瓣用户之间也存在着好友的关系。根据同质性（homophily）假设，两个在社交网络中关系紧密的用户的偏好也很可能会相似。因此，使用社交网络的信息来辅助推荐算法有重要的实际意义。本文研究两种将社交网络信息和推荐系统进行融合的方法：&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">1、基于特征的方法。鉴于社交网络的高维性，基于特征的方法会先用网络特征学习技术将社交网络中的节点（即用户）映射到低维连续空间，然后将学习得到的用 户的低维特征用于后续的推荐任务。特别地，本文研究在微博明星推荐任务中，利用用户的社交关系辅助推荐系统的决策。本文使用自编码机（auto-encoder）挖掘用户的社交信息。自编码机是一种无监督的表征学习方法，近年来在计算机视觉、自然语言处理、数据挖掘等领域都取得了很大的成功。自编码机学习得到 的社交信息向量会用于辅助后续的预测和推荐。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">2、基于结构的方法。与基于特征的方法不同，基于结构的方法会对社交网络的结构进行更加直接地挖掘和利用。特别地，本文研究微博投票推荐任务中用户端的社交网络结构对投票参与度的影响。我们设计了一种联合矩阵分解模型，将用户的关注/被关注信息和用户的群组信息融合到推荐系统的设计中。真实数据集上的实验结果表明，社交网络结构和用户的投票行为有明显的相关性，且考虑社交网络结构会对推荐结果有明显的提升。</span></p><p style="text-align: left;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">三、利用网络特征学习的方法将物品端的知识图谱信息融合到推荐算法中。在很多推荐场景中，物品可能会包含丰富的知识信息。例如，电影推荐中，电影本身就是知识图谱中的一个实体，在知识图谱中会和很多其它实体相连接，例如导演、演员、类别、国家等。在新闻推荐中，新闻文本中通常也会包含丰富的知识实体信息。物品端的知识图谱极大地扩展了物品的信息，强化了物品之间的联系，为推荐提供了丰富的参考价值。同时，知识图谱还能为推荐结果带来了额外的多样性（diversity）和可解释</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">性（explainability）。但是值得注意的是，和社交网络相比，知识图谱是一种异构网络（heterogeneous network），因此针对知识图谱的算法设计要更复杂和精巧。类似地，本文提出两种将知识图谱引入推荐系统的方法：</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">1、基于特征的方法。为了解决原始知识图谱的高维性和异构性，本文首先使用知识图谱特征学习（knowledge graph embedding）方法，对知识图谱中的实体（entity）和关系（relation）都学习得到一个低维向量表示。这些低维表示可以用于后续的推荐系统。根据知识图谱特征学习任务和推荐系统任务的具体训练设置的不同，我们又可以将这类方法分为两种：依次学习法（one-by-one learning）和交替学习法（alternate learning）。相应地，本文提出两个模型。第一个模型是依次学习法的代表，用于新闻推荐任务。我们针对新闻标题中出现的实体进行知</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">识图谱特征学习，然后将得到的实体向量（entity embedding）和词向量（word embedding）在一个卷积神经网络（CNN）的框架中进行融合。该模型可以很好地融合来自知识图谱和文本语义中的特征，并且对用户的历史兴趣进行了充分地提取和刻画。第二个模型是交替学习法的代表，也是一个通用的推荐框架。它将推荐系统和知识图谱特征学习视为两个分离但又高度相关的任务，并设计了一种多任务学习（multi-task learning）机制利用知识图谱辅助推荐系统。两个任务模块在多任务学习框架下进行交替训练和优化。该模型被证明具有高度的组合特征（combinatorial features）刻画能力和泛化推广能力。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">2、基于结构的方法。本文也同样研究了更直观地利用知识图谱结构的方法，并提出了两种模型。两种模型都涉及在知识图谱上进行宽度优先搜索（breath-first search）来获取一个实体在知识图谱中的关联实体，但是在建模时又有所不同。第一个模型属于向外传播法（outward propagation），它模拟了用户的兴趣在知识图谱上的传播过程。我们将用户的历史兴趣在知识图谱上沿着关系边向外逐层扩散，借此发现用户更多潜在的、层级化的偏好。第二个模型属于向内聚合法（inward aggregation），它在学习知识图谱实体特征的时候聚合了该实体的邻居特征表示。通过增加迭代次数，邻居的定义可以扩展到多跳之外，从而实现了对用户潜在兴趣的挖掘。在真实数据集上的实验结果都表明，对知识图谱的高阶（high-order）结构信息的利用可以很好地提升推荐系统的性能；同时，基于结构的方法也具有很强的可解释性。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">结构安排</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">本文共分七章，具体的结构安排如下：</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">第一章为绪论，概述了本文的研究背景和意义，介绍了推荐系统和网络特征学习的基本概念和研究现状，并介绍了与本课题相关的研究工作，阐述了本文的主要工作和取得的成果。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">第二章研究了直接应用于推荐系统交互图的网络特征学习方法。通过将用户和物品的交互信息视为网络结构，我们设计了相应的网络特征学习方法对用户和物品进行建模。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">第三章研究了将社交网络融合到推荐系统中的基于特征的方法。通过网络特征学习对社交网络进行处理，将高维的社交网络映射为低维的特征表示，并作为后续推荐系统的输入。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">第四章研究了将社交网络融合到推荐系统中的基于结构的方法。通过对社交网络的边结构（关注/被关注信息）和聚类结构（群组信息）的挖掘，我们将社交网络的结构信息和推荐系统进行直接结合。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">第五章研究了将知识图谱融合到推荐系统中的基于特征的方法。我们提出了两种模型，第一种模型属于依次学习法，它通过知识图谱特征学习得到新闻文本中的实体的向量表示，然后将该实体向量和词向量在卷积神经网络的框架中进行融合。第二种模型属于交替学习法，它将推荐系统和知识图谱特征学习视为两个相关的任务，并设计了一个多任务学习方法来利用知识图谱提升推荐系统性能。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">第六章研究了将知识图谱融合到推荐系统的基于结构的方法。我们提出了两种模型，第一种模型属于向外传播法，它模拟了用户兴趣在知识图谱上的逐层向外传播的过程，第二种模型属于向内聚合法，它在学习实体向量的时候聚合了多跳的邻居信息。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">第七章对本文进行了总结并对未来的工作进行了展望。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">本文的结构体系及各章之间的关系如图1–4所示。</span></p><p><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.5316780821917808" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvI9hsphesTXj8NEdPvWf6tozSp7nmic6S7hWN0dPuhH8xYL8q9mrQSWQ/640?wx_fmt=png" data-type="png" data-w="1168" style=""  /></p><p style="text-align: center;"><span style="font-size: 12px;color: rgb(136, 136, 136);">图 1–4 本文组织结构</span></p><p style="text-align: center;"><span style="font-size: 12px;color: rgb(136, 136, 136);"><br  /></span></p><p style="text-align: center;"><span style="font-size: 12px;color: rgb(136, 136, 136);"><br  /></span></p><p style="text-align: center;"><span style="font-size: 12px;color: rgb(136, 136, 136);"><br  /></span></p><section class="" data-tools="135编辑器" data-id="85695" style="white-space: normal;max-width: 100%;box-sizing: border-box;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-width: 0px;border-style: none;border-color: initial;overflow-wrap: break-word !important;"><section data-width="100%" style="max-width: 100%;box-sizing: border-box;width: 677px;display: flex;overflow-wrap: break-word !important;"><section style="max-width: 100%;flex: 0 0 20%;box-sizing: border-box !important;overflow-wrap: break-word !important;"><section style="margin-top: 5px;margin-right: 5px;margin-left: 10px;max-width: 100%;opacity: 0.4;border-right: 10px solid rgb(182, 217, 219);border-left-width: 0px;border-left-color: rgb(182, 217, 219);display: inline-block;float: left;color: inherit;transform: rotate(10deg);box-sizing: border-box !important;overflow-wrap: break-word !important;border-bottom: 6px solid transparent !important;border-top: 6px solid transparent !important;"></section><section style="max-width: 100%;border-left: 20px solid rgb(182, 217, 219);border-right-width: 0px;border-right-color: rgb(182, 217, 219);display: inline-block;float: left;color: inherit;transform: rotate(10deg);box-sizing: border-box !important;overflow-wrap: break-word !important;border-bottom: 10px solid transparent !important;border-top: 15px solid transparent !important;"></section></section><section style="padding-right: 5px;padding-left: 5px;max-width: 100%;box-sizing: border-box;flex: 0 0 60%;text-align: center;overflow-wrap: break-word !important;"><section style="max-width: 100%;display: inline-block;box-sizing: border-box !important;overflow-wrap: break-word !important;"></section><section style="max-width: 100%;display: inline-block;box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 18px;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">第 2 章&nbsp;&nbsp;应用于推荐系统交互图的网络特征学习方法</strong></span></section><section style="max-width: 100%;display: inline-block;box-sizing: border-box !important;overflow-wrap: break-word !important;"></section></section><section style="max-width: 100%;flex: 0 0 20%;text-align: right;box-sizing: border-box !important;overflow-wrap: break-word !important;"><section style="max-width: 100%;display: inline-block;box-sizing: border-box !important;overflow-wrap: break-word !important;"><section style="margin-top: 5px;max-width: 100%;box-sizing: border-box;opacity: 0.8;border-bottom: 10px solid rgb(182, 217, 219);border-top-color: rgb(182, 217, 219);color: inherit;float: left;overflow-wrap: break-word !important;border-left: 6px solid transparent !important;border-right: 6px solid transparent !important;"></section><section style="margin-top: 5px;margin-right: 5px;margin-left: 10px;max-width: 100%;opacity: 0.4;border-right: 10px solid rgb(182, 217, 219);border-left-width: 0px;border-left-color: rgb(182, 217, 219);display: inline-block;float: left;color: inherit;transform: rotate(10deg);box-sizing: border-box !important;overflow-wrap: break-word !important;border-bottom: 6px solid transparent !important;border-top: 6px solid transparent !important;"></section><section style="max-width: 100%;border-left: 20px solid rgb(182, 217, 219);border-right-width: 0px;border-right-color: rgb(182, 217, 219);display: inline-block;float: left;color: inherit;transform: rotate(10deg);box-sizing: border-box !important;overflow-wrap: break-word !important;border-bottom: 10px solid transparent !important;border-top: 15px solid transparent !important;"></section></section></section></section></section><p style="white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"  /></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><br  /></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;">2.1 引言</span></strong></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;"><br  /></span></strong></p><p style="text-indent: 2em;"><span style="font-size: 15px;">正如我们在1.4节所述，网络结构的数据在推荐系统中相当普遍。推荐场景本身包含了丰富的网络结构，在本章中，我们关注用户和物品的交互。用户和物品的交互分为两类，一类是显式反馈，例如用户对电影直接打分；一类是隐式反馈，例如用户在购物网站上对商品的点击和浏览行为。在这两种情况下，用户和商品之间构成了一个有权重或无权重的交互图（interaction graph），其中边表示打分、点击、浏览等操作。本章研究</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">面向推荐系统交互图的网络特征学习方法。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">一般而言，现有的网络特征学习方法可以分成两类。第一类是生成式方法（generative methods），这类方法通常假设对于网络中的每个节点&nbsp;</span><img class="" data-ratio="0.8115942028985508" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv8awA7bF91lFBZo9thmmfib9icZomuBAjcN6blicXnBjOficEDVnDj6R0kw/640?wx_fmt=png" data-type="png" data-w="276" style="text-align: center;width: 18px;height: 18px;"  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;"> ，都存在一个真实的连接性概率分布（connectivity distribution）</span><img class="" data-ratio="0.25354609929078015" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvdeOk953V9ySP3h6Ia8mJtYqs98o3XdF6YRRHH9nWf2iaKg4Dib2FQXhQ/640?wx_fmt=png" data-type="png" data-w="1128" style="text-align: center;width: 86px;height: 22px;"  /><span style="font-size: 15px;">。这个连接性概率分布刻画了</span><img class="" data-ratio="0.8115942028985508" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv8awA7bF91lFBZo9thmmfib9icZomuBAjcN6blicXnBjOficEDVnDj6R0kw/640?wx_fmt=png" data-type="png" data-w="276" style="height: 18px;text-align: center;width: 18px;"  /><span style="font-size: 15px;">节点对于图中每个其它节点的连接偏好。在这种假定下，图中的边可以看作是由这些条件的概率生成出的样本。例如，DeepWalk [92] 使用随机游走（random walk）去为每个节点采样它的“上下文”节点（context vertices），然后最大化在给定某节点后观测到它的上下文节点的似然（likelihood）。Node2vec [77] 进一步延伸了 DeepWalk 的方法，它提出了一个有偏的（biased）的随机游走，使得模型在为给定节点生成上下文节点时具有更多的灵活性。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">第二类方法是判别式方法（discriminative methods），这类方法试图直接学习一个分类器来判定两个节点之间是否存在边。更具体地说，判别式方法将两个节点视为输入特征，然后输出预测的两个节点之间有边的概率，即</span><img class="" data-ratio="0.21570576540755468" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv292vUeyIJ9hzN0QNJoDtEDpagO2GUj3GDepsyibwqLESs8OMGwbibqrQ/640?wx_fmt=png" data-type="png" data-w="1006" style="text-align: center;width: 109px;height: 24px;"  /><span style="font-size: 15px;">。例如，SDNE [94] 使用稀疏的邻接向量作为节点的原始特征，以边的信息作为监督（supervision）来源，并设计了自动编码机（auto-encoder）来提取节点的稠密表示。PPNE [99] 使用相连的节点作为正样本，不相连的节点作为负样本，以此设计监督学习来得到节点特征，并在训练过程中同时维护节点的内在属性。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">虽然生成式和判别式方法是两种不相交的网络特征学习方法，但是他们可以被视为对网络本质的两种高度相关的刻画 [100] 。事实上，LINE [76] 已经在结合两者的目标函数上做了初步尝试（LINE称之为一阶和二阶邻近关系（first-orderandsecond-orderproximity）。近年来，生成对抗网络（generative adversarial nets，GAN）取得了研究人员极大的关注。GAN 及其变种设计了一种博弈式的极大极小游戏（game-theoretical minimax game）来结合生成式和判别式模型，并在多个领域取得了很大的成功，例如图像生成 [101] ，序列生成 [102] ，对话生成 [103] ，信息检索 [100] 和跨域学习 [104] 。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">受到 GAN 的启发，本文提出 GraphGAN，一种联合统一生成式方法和判别式方法的模型。具体而言，我们希望训练在GraphGAN中训练两个模型：（1）生成器（generator）</span><img class="" data-ratio="0.4321608040201005" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvhAAZgKym1NLg2iayDBXOa9DovalgXavdhFekuZy9WpQOiazGJsKQbsAg/640?wx_fmt=png" data-type="png" data-w="199" style="text-align: center;width: 43px;height: 17px;"  /><span style="font-size: 15px;">试图拟合真实的连接性概率分布</span><img class="" data-ratio="0.26657263751763044" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvBdsgSGmWQpMicuPyZHfZhibof0DDFR5leIP8uiauWMDzoSSDuMV8ribKSA/640?wx_fmt=png" data-type="png" data-w="709" style="text-align: center;width: 80px;height: 21px;"  /><span style="font-size: 15px;">，并生成出可能和</span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="text-align: center;width: 21px;height: 17px;"  /><span style="font-size: 15px;">相连的点；（2）判别器（discriminator）</span><img class="" data-ratio="0.37333333333333335" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv5fFRywKMgm89Kqytfj1sVjXCM1tupRdlIFcCauaiboumQw0mel0YqsA/640?wx_fmt=png" data-type="png" data-w="525" style="text-align: center;width: 49px;height: 17px;"  /><span style="font-size: 15px;">试图为 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;text-align: center;width: 20px;"  /><span style="font-size: 15px;">节点区分它真实的邻居和由生成器生成出的“伪”邻居，并计算两个点之间有边相连的概率。在 GraphGAN 中，G 和 D 两者之间在进行一种极大极小游戏：生成器试图根据判别器提供的信号去产生难以区分的伪邻居，而判别器试图将真实邻居和伪邻居“划清界限”。两者之间的对抗学习会迫使它们各自提高生成或判别能力，直至收敛。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在 GraphGAN 的框架下，本文研究了生成器和判别器的实现。我们发现传统的归一化指数函数（softmax，下文中皆使用其英文原名）及其变形并不适合作为生成器的实现，原因为：（1）softmax 将图中所有节点一视同仁，缺乏对图结构的刻画；（2）softmax 的计算涉及到图中所有节点，非常耗时。为了解决这两个问题，在 GraphGAN 中我们提出一种新的生成器的实现，叫做网络结构感知的归一化指数函数（graph softmax，下文中皆使用其英文原名）。Graph softmax 提出了一种新的节点连接性概率的定义。我们证明graph softmax 满足以下三个有用的性质：归一化（normalization）、网络结构感知（graph structure awareness）和高计算效率（computational efficiency）。相应地，我们也为生成器设计了一种和 graph softmax 对应的、基于随机游走的在线生成策略（online generating strategy）。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">GraphGAN 作为一种通用的网络特征学习方法，不仅可以用于推荐系统，也可以用于连接预测（linkprediction）、节点分类（nodeclassification）等其它任务。我们将GraphGAN应用在五个真实的数据集上。实验结果表明，相比于最新的基准方法，GraphGAN 在连接预测任务上将 AUC 指标提升了 0.5% 到 56.5%，在节点分类任务上将 Micro-F1 指标提升了 1.3% 到 30.1%，在推荐系统任务上将 Precision@20 和 Recall@20 指标提升了至少 38.6% 和 52.3%。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">本章结构安排如下：第2.2节介绍了 GraphGAN 的整体设计及判别器和生成器的优化；第2.3节介绍了 graph softmax 的设计，证明了 graph softmax 的性质，以及介绍了生成器的在线生成策略；第2.4节展示了实验结果；第2.5节对本章工作进行了小结。</span></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;"><br  /></span></strong></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;">2.2 生成对抗式的网络特征学习</span></strong><br  /></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;"><br  /></span></strong></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;">2.2.1 GraphGAN 模型框架</span></strong></p><p style="white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-indent: 2em;box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;"><br  /></span></strong></p><p style="text-indent: 2em;"><span style="font-size: 15px;">我们将本章研究的问题形式化如下：记</span><img class="" data-ratio="0.21515892420537897" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv79teT7uG7cRTOcfYmpp9WDnTUMicibpko75JZ144o1OLrFwm6Q6DicOYg/640?wx_fmt=png" data-type="png" data-w="818" style="text-align: center;width: 85px;height: 17px;"  /><span style="font-size: 15px;">为一个给定的图，其中 V =</span><img class="" data-ratio="0.2778443113772455" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvDuibxArDLNnkP1696UW1u9zFR0hBUrTCz6sktNHiabR4mn7E0clH2MqQ/640?wx_fmt=png" data-type="png" data-w="835" style="text-align: center;width: 84px;height: 25px;"  /><span style="font-size: 15px;">代表节点集合，</span><img class="" data-ratio="0.1954954954954955" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvZw14n4Rbja6T78ib0oEgLUS4rTL2Z5lCm3rkup9gjQCuTEz5ltOrPqQ/640?wx_fmt=png" data-type="png" data-w="1110" style="text-align: center;width: 100px;height: 20px;"  /><span style="font-size: 15px;">代表边集合。对于一个给定的节点</span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">，我们记</span><img class="" data-ratio="0.42913385826771655" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvMxed9tZZeqbKEYBkykIQHqp9W1cianIXXgpQyUGOqRcrEbCWuSlvoaQ/640?wx_fmt=png" data-type="png" data-w="254" style="text-align: center;width: 45px;height: 19px;"  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">为和 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">直接相连的节点（邻居节点）。一般来说，</span><img class="" data-ratio="0.42913385826771655" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvMxed9tZZeqbKEYBkykIQHqp9W1cianIXXgpQyUGOqRcrEbCWuSlvoaQ/640?wx_fmt=png" data-type="png" data-w="254" style="height: 19px;white-space: normal;text-align: center;width: 45px;"  /><span style="font-size: 15px;">的大小会远远小于图中节点的总数。给定节点</span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">，我们将其与其它节点之间的真实的连接性分布记为条件概率 </span><img class="" data-ratio="0.26657263751763044" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvBdsgSGmWQpMicuPyZHfZhibof0DDFR5leIP8uiauWMDzoSSDuMV8ribKSA/640?wx_fmt=png" data-type="png" data-w="709" style="height: 21px;text-indent: 34px;white-space: normal;text-align: center;width: 80px;"  /><span style="font-size: 15px;">。它反映了 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">对图中其它所有节点的连接偏好的分布。从这个角度而言，</span><img class="" data-ratio="0.42913385826771655" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvMxed9tZZeqbKEYBkykIQHqp9W1cianIXXgpQyUGOqRcrEbCWuSlvoaQ/640?wx_fmt=png" data-type="png" data-w="254" style="height: 19px;white-space: normal;text-align: center;width: 45px;"  /><span style="font-size: 15px;">可以被视为一个从 </span><img class="" data-ratio="0.26657263751763044" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvBdsgSGmWQpMicuPyZHfZhibof0DDFR5leIP8uiauWMDzoSSDuMV8ribKSA/640?wx_fmt=png" data-type="png" data-w="709" style="height: 21px;text-indent: 34px;white-space: normal;text-align: center;width: 80px;"  /><span style="font-size: 15px;"> 进行采样得到的集合。给定图</span><img class="" data-ratio="1.032967032967033" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvibBmEkf87GZ7UE4UZ8uXqb60gd4YicKUYTpHticySF73tkBUb3wMkrMsw/640?wx_fmt=png" data-type="png" data-w="91" style="text-align: center;width: 15px;height: 16px;"  /><span style="font-size: 15px;">，我们的目标是学习得到以下两个模型：</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">1、生成器</span><img class="" data-ratio="0.2374727668845316" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvuaxavkKCZ7m105ZZQBdyc76SYqfPv0ibzKIq7kY3RiaATOYQuU0NtVvg/640?wx_fmt=png" data-type="png" data-w="459" style="text-align: center;width: 85px;height: 20px;"  /><span style="font-size: 15px;">。生成器试图去拟合真实但未知的连接性分布</span><img class="" data-ratio="0.26657263751763044" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvBdsgSGmWQpMicuPyZHfZhibof0DDFR5leIP8uiauWMDzoSSDuMV8ribKSA/640?wx_fmt=png" data-type="png" data-w="709" style="height: 21px;text-indent: 34px;text-align: center;width: 80px;"  /><span style="font-size: 15px;">，并在顶点集合 V 中生成（选择）最可能和</span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">相连的点；</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">2、判别器</span><img class="" data-ratio="0.2364217252396166" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvpFafJeNclK5pNgGL0IHrNTrlAx0jTkzkUFfUuytthW9IXkY4CV5wuQ/640?wx_fmt=png" data-type="png" data-w="626" style="text-align: center;width: 88px;height: 21px;"  /><span style="font-size: 15px;">。判别器的目的是判断一对节点 (v,</span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;"> ) 的连接性。</span><img class="" data-ratio="0.2364217252396166" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvpFafJeNclK5pNgGL0IHrNTrlAx0jTkzkUFfUuytthW9IXkY4CV5wuQ/640?wx_fmt=png" data-type="png" data-w="626" style="height: 20px;text-align: center;width: 86px;"  /><span style="font-size: 15px;">输出顶点 v 和 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">之间有边的概率。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">生成器 G 和判别器 D 类似于两个对手：生成器想要试图去完美地拟合</span><img class="" data-ratio="0.26657263751763044" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvBdsgSGmWQpMicuPyZHfZhibof0DDFR5leIP8uiauWMDzoSSDuMV8ribKSA/640?wx_fmt=png" data-type="png" data-w="709" style="height: 21px;white-space: normal;text-indent: 34px;text-align: center;width: 80px;"  /><span style="font-size: 15px;">，并生成和 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">的真实邻居高度相似的节点来欺骗判别器；相反，判别器想要判断输入的节点是真实相连的节点对，或是由生成器生成出的伪样本。生成器和判别器在 GraphGAN中进行一个极大极小游戏，游戏的目标函数是 V(G, D):</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.12039312039312039" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvIdNPDPbvUuGwNIPGHdDKbich7bATMIzibP9ibhkAurYmeO48TFAibNG1Cw/640?wx_fmt=png" data-type="png" data-w="1221" style=""  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">基于公式 (2–1)，生成器和判别器的参数可以通过交替最大化和最小化目标函数V(G, D) 得到。GraphGAN 的框架如图2–1所示。在每一次迭代中，判别器 D 的输入正样本来源于</span><img class="" data-ratio="0.2956989247311828" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvIPMun1pUEw5ITYshKHYflVYLM6L8PTeK0Gvib4wTPbG3icjBjgf2UbUw/640?wx_fmt=png" data-type="png" data-w="372" style="text-align: center;width: 58px;height: 16px;"  /><span style="font-size: 15px;">（绿色节点），输入负样本来源于生成器</span><img class="" data-ratio="0.24423963133640553" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uviaIEBvasdRIRvXLFmnQ7sngFSFlBDA24N8GbbEv4UZ2NzWHdN5BrF6Q/640?wx_fmt=png" data-type="png" data-w="434" style="text-align: center;width: 69px;height: 17px;"  /><span style="font-size: 15px;">（蓝色条纹节点）。生成器 G 根据来源于 D 的信号，使用策略梯度（policy gradient）的方法进行学习（稍后会详细介绍）。G 和 D 之间的竞争会驱使两者提高各自的性能，直到 G 生成的分布和真实的连接性分布之间已经无法区分。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">我们在下文详细讨论判别器和生成器的实现和训练。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"></span><br  /></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">2.2.2 判别器和生成器的实现与训练</span></strong></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;"><br  /></span></strong></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;">判别器</span></strong><br  /></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;"><br  /></span></strong></p><p style="text-indent: 2em;"><span style="font-size: 15px;">给定来自于真实连接性分布的正样本和由生成器生成的负样本，判别器的目标是最大化将所有样本正确分类的概率。如果 D 关于</span><img class="" data-ratio="0.8169934640522876" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv75vNKKlIPnYLoaxOK1SYnPZbkpjLHLJ5CKKpCUtA9jamzLQEZzrYaw/640?wx_fmt=png" data-type="png" data-w="153" style="text-align: center;width: 25px;height: 20px;"  /><span style="font-size: 15px;">可微，那么该优化可以通过梯度下降法实现。在 GraphGAN 中，我们定义 D 为两个输入向量（即两个节点的特征）的归一化内积：</span></p><p><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.14713430282292558" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv8Z5IosF30PSPoxoXUmZWzpd4Inda279tgKXkpt8HvPd3kXpiaOHymEA/640?wx_fmt=png" data-type="png" data-w="1169" style="width: 405px;height: 60px;"  />&nbsp; &nbsp; &nbsp; &nbsp;</p><p style="text-align: center;"><span style="font-size: 14px;color: rgb(136, 136, 136);">（2-2）</span></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="font-size: 15px;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;"><br  /></span></strong></span></p><p><span style="font-size: 15px;">其中</span><img class="" data-ratio="0.980225988700565" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uviaVrbr1BptkEujCVzX6T4Prz40BaJ0iaSM4L1icCLQgs9q8hTdkRTxfDA/640?wx_fmt=png" data-type="png" data-w="354" style="text-align: center;width: 17px;height: 15px;"  /><span style="font-size: 15px;">,</span><img class="" data-ratio="0.8168421052631579" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uviaeG30NAgx1XP8bbbhV3FAMtX4hSPC2EAhdENJdNzNcBiclOqBRqeu4Q/640?wx_fmt=png" data-type="png" data-w="475" style="text-align: center;width: 22px;height: 18px;"  /><span style="font-size: 15px;">∈</span><img class="" data-ratio="0.8201754385964912" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvXicGqqEVx6KLO9pzibChXyiaX8sgCyTamU5NZgmIiadia67EZ3tpJbqLj1A/640?wx_fmt=png" data-type="png" data-w="456" style="text-align: center;width: 24px;height: 19px;"  /><span style="font-size: 15px;">是两个输入节点 v 和 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;text-indent: 34px;white-space: normal;text-align: center;width: 20px;"  /><span style="font-size: 15px;">关于判别器 D 的 d 维表示向量，</span><img class="" data-ratio="0.8467741935483871" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvcT9afoWOadsF31GtYbtS5oAJ5by7q2hQTcHVyXy1ab2OubG6Mccs2Q/640?wx_fmt=png" data-type="png" data-w="372" style="text-align: center;width: 25px;height: 21px;"  /><span style="font-size: 15px;">即是所有节点的表示向量 </span><img class="" data-ratio="0.980225988700565" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uviaVrbr1BptkEujCVzX6T4Prz40BaJ0iaSM4L1icCLQgs9q8hTdkRTxfDA/640?wx_fmt=png" data-type="png" data-w="354" style="height: 15px;text-align: center;width: 17px;"  /><span style="font-size: 15px;">的集合，σ 为 sigmoid 函数。但是需要注意的是，任何判别式模型都可以作为这里的 D 的实现，例如 SDNE [94] 。注意到公式（2–2）只涉及 v 和 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">，这表明给定一个节点对 (v,</span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">)，我们只需要依据梯度下降法更新</span><img class="" data-ratio="0.980225988700565" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uviaVrbr1BptkEujCVzX6T4Prz40BaJ0iaSM4L1icCLQgs9q8hTdkRTxfDA/640?wx_fmt=png" data-type="png" data-w="354" style="height: 15px;white-space: normal;text-align: center;width: 17px;"  /><span style="font-size: 15px;">和</span><img class="" data-ratio="0.8168421052631579" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uviaeG30NAgx1XP8bbbhV3FAMtX4hSPC2EAhdENJdNzNcBiclOqBRqeu4Q/640?wx_fmt=png" data-type="png" data-w="475" style="height: 18px;white-space: normal;text-align: center;width: 22px;"  /><span style="font-size: 15px;">：</span></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;"><br  /></span></strong></p><p style="text-align: center;"><img class="" data-ratio="0.1775" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvvdiaThXnDpN2Eh6ibVwpw3gURickLgM61no3L9wqreKvYkAicTQs2h1fBg/640?wx_fmt=png" data-type="png" data-w="1200" style="width: 445px;height: 79px;"  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p><p style="text-align: center;"><span style="color: rgb(136, 136, 136);font-size: 14px;">（2-3）</span></p><p style="text-indent: 0em;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><strong><span style="letter-spacing: 0.544px;text-indent: 2em;font-size: 16px;"></span></strong><br  /></p><p style="text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 16px;"><br  /></span></p><p style="text-align: left;"><strong><span style="color: rgb(0, 0, 0);font-size: 16px;">生成器</span></strong><br  /></p><p style="text-align: left;"><span style="color: rgb(0, 0, 0);font-size: 16px;"><br  /></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">和判别器相反，生成器的目标是最小化判别器将其生成的样本正确判别为负样本的概率。换句话说，生成器会调整自己估计的连接性分布（即参数</span><img class="" data-ratio="0.8716577540106952" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvqkqkLAehI1y2xxDZ0Trq2iamKbDuibJcpZItouicDeSyhtC2LqiaJwicAFA/640?wx_fmt=png" data-type="png" data-w="187" style="text-align: center;width: 19px;height: 16px;"  /><span style="font-size: 15px;">）来提升 D 对自己生成的样本的判别分数。由于 v 的采样是离散的，参考文献 [102, 105] ，本文提出通过策略梯度来计算 V(G, D) 关于</span><img class="" data-ratio="0.8716577540106952" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvqkqkLAehI1y2xxDZ0Trq2iamKbDuibJcpZItouicDeSyhtC2LqiaJwicAFA/640?wx_fmt=png" data-type="png" data-w="187" style="height: 18px;white-space: normal;text-align: center;width: 21px;"  /><span style="font-size: 15px;">的梯度：</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.573943661971831" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccGeCMf2081cEegczGR1ue9nFosHibxjR0Wic2IOqUV7so5xPGrTwektkw/640?wx_fmt=png" data-type="png" data-w="1420" style=""  /></p><p style="text-indent: 0em;text-align: center;"><span style="font-size: 14px;color: rgb(136, 136, 136);">（2-4）</span><br  /></p><p style="text-indent: 0em;text-align: center;"><span style="font-size: 14px;color: rgb(136, 136, 136);"><br  /></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">为了理解上述公式，注意到</span><img class="" data-ratio="0.23408624229979466" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvYzf5k0kWsJsSibnhy83j036B8SsQicrgx8l8dcyazJhptF0YfSKOEvlg/640?wx_fmt=png" data-type="png" data-w="487" style="text-align: center;width: 93px;height: 23px;"  /><span style="font-size: 15px;">是一个由</span><img class="" data-ratio="0.1420323325635104" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv1S0298WiaAh2B623tKaqVKicqibvrBmiaJQKMdx8c9LeHfECZPicbCQibiaag/640?wx_fmt=png" data-type="png" data-w="866" style="text-align: center;width: 162px;height: 24px;"  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">加权的梯度</span><img class="" data-ratio="0.15864759427828348" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvM0LgGoW1eS2gtGMSSMUhNfuMC7zthtja5Hqp5KDmFN2W3icHYCiafuqg/640?wx_fmt=png" data-type="png" data-w="769" style="text-align: center;width: 144px;height: 23px;"  /><span style="font-size: 15px;">的求和。直观上说，这意味着有高概率是负样本的节点会将生成器 G“拉着”远离自己（因为我们</span><img class="" data-ratio="0.8716577540106952" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvqkqkLAehI1y2xxDZ0Trq2iamKbDuibJcpZItouicDeSyhtC2LqiaJwicAFA/640?wx_fmt=png" data-type="png" data-w="187" style="height: 16px;text-indent: 34px;white-space: normal;text-align: center;width: 19px;"  /><span style="font-size: 15px;">上执行梯度下降）。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;color: rgb(0, 0, 0);">我们接下来讨论生成器的两种可能实现：<br  /></span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;color: rgb(0, 0, 0);"><br  /></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><strong>Softmax</strong>。一种直观的方法是将生成器定义为在所有其它节点上的 softmax 函数 [100] ，即：</span></p><p><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.195141065830721" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvSR1zr7fDWR0OmDPoNGKMCGmZgsoEePYrkeknKViaAhelehrZbWLjazg/640?wx_fmt=png" data-type="png" data-w="1276" style="width: 325px;height: 65px;"  />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</p><p style="text-align: center;"><span style="font-size: 14px;color: rgb(136, 136, 136);">（2-5）</span></p><p style="text-align: left;"><br  /></p><p><span style="font-size: 15px;">其中</span><img class="" data-ratio="1.0392156862745099" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvd8ng4JSrP4LPFOG1vR3QHAeJT5fMTvia1oupQr4gjWcWGC9VkZfictCQ/640?wx_fmt=png" data-type="png" data-w="51" style="text-align: center;width: 19px;height: 20px;"  /><span style="font-size: 15px;">,</span><img class="" data-ratio="0.6575342465753424" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvGbxLFgmnDzl3z6XazvUtliajsJn2tiboAjbgRiaIxn9y2h14SysfeiaO7Q/640?wx_fmt=png" data-type="png" data-w="73" style="text-align: center;width: 28px;height: 17px;"  /><span style="font-size: 15px;">∈ </span><img class="" data-ratio="0.8201754385964912" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvXicGqqEVx6KLO9pzibChXyiaX8sgCyTamU5NZgmIiadia67EZ3tpJbqLj1A/640?wx_fmt=png" data-type="png" data-w="456" style="height: 19px;white-space: normal;text-align: center;width: 24px;"  /><span style="font-size: 15px;">是节点 v 和 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">关于生成器 D 的 d 维表示向量，</span><img class="" data-ratio="0.8716577540106952" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvqkqkLAehI1y2xxDZ0Trq2iamKbDuibJcpZItouicDeSyhtC2LqiaJwicAFA/640?wx_fmt=png" data-type="png" data-w="187" style="height: 16px;white-space: normal;text-indent: 34px;text-align: center;width: 19px;"  /><span style="font-size: 15px;">即是所有节点的表示向量 </span><img class="" data-ratio="1.0392156862745099" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvd8ng4JSrP4LPFOG1vR3QHAeJT5fMTvia1oupQr4gjWcWGC9VkZfictCQ/640?wx_fmt=png" data-type="png" data-w="51" style="height: 20px;white-space: normal;text-align: center;width: 19px;"  /><span style="font-size: 15px;">的集合。如此，为了更新</span><img class="" data-ratio="0.8716577540106952" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvqkqkLAehI1y2xxDZ0Trq2iamKbDuibJcpZItouicDeSyhtC2LqiaJwicAFA/640?wx_fmt=png" data-type="png" data-w="187" style="height: 16px;white-space: normal;text-indent: 34px;text-align: center;width: 19px;"  /><span style="font-size: 15px;">，我们根据公式 (2–5) 计算</span><img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="text-align: center;width: 84px;height: 20px;"  /><span style="font-size: 15px;">，然后根据G 随机采样出 (v,</span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;"> ) 的集合，并通过梯度下降法更新</span><img class="" data-ratio="0.8716577540106952" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvqkqkLAehI1y2xxDZ0Trq2iamKbDuibJcpZItouicDeSyhtC2LqiaJwicAFA/640?wx_fmt=png" data-type="png" data-w="187" style="height: 16px;white-space: normal;text-indent: 34px;text-align: center;width: 19px;"  /><span style="font-size: 15px;">。Softmax 函数为 G 中的连接性分布提供了一个简洁而直观的定义，但是它在网络特征学习的应用有两个缺点：（1）公式（2–5）中的 softmax 的计算涉及到图中所有的节点，这意味着对每个生成出的样本v，我们需要计算梯度</span><img class="" data-ratio="0.14709677419354839" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvnspE8IbNAwRYRj2QCn5adPUvgLLgnBXbthyYVqicBpRRDHV1DmhEKHA/640?wx_fmt=png" data-type="png" data-w="775" style="text-align: center;width: 135px;height: 20px;"  /><span style="font-size: 15px;">并更新所有节点。这对于真实的大规模图或网络（百万节点甚至更多）是非常低效的；（2）Softmax 函数对所有的节点一视同仁，完全忽略了对图中的结构信息的利用。</span></p><p><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><strong>Hierarchical softmax</strong> （层级归一化指数函数，下文中皆使用其英文原名）。Hierarchical softmax [106] 是一种流行的对 softmax 的替代。根据上文分析，给定 v,<img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  />∈ V，按照公式（2–5）计算 <img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 20px;white-space: normal;text-align: center;width: 84px;"  />通常是不可行的（归一化因子的计算代价过高）。因此，hierarchical softmax 在一棵二叉树（binary tree）中将该概率分布的计算进行分解。具体地说，hierarchical softmax 为每个图中的节点分配一个二叉树的叶节点（leaf），从而将一个全局的概率计算转换成了在二叉树结构上的某特定路径的概率计算。如果将从根节点（root）到节点 <img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;font-size: 15px;text-indent: 34px;white-space: normal;text-align: center;width: 20px;"  />所在的叶节点的（唯一）路径记为</span><img class="" data-ratio="0.08668730650154799" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvxPqsmibmOzNetT2UXsTU2pY35sMkenzQhnaMH38W3ovicmic2jibX2KG2Q/640?wx_fmt=png" data-type="png" data-w="969" style="text-align: center;width: 275px;height: 24px;"  /><span style="text-indent: 2em;font-size: 15px;">，那么 </span><img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="text-indent: 2em;font-size: 15px;height: 20px;text-align: center;width: 84px;"  /><span style="text-indent: 2em;font-size: 15px;">可以被定义为：</span></p><p style="text-indent: 2em;"><span style="text-indent: 2em;font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.2853881278538813" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccF7m7aDTyxlmdicezWD3ydSZake5FfqnWkfoClhqWfgicWbticIb08ukaw/640?wx_fmt=png" data-type="png" data-w="1314" style="width: 271px;height: 77px;"  /></p><p style="text-align: center;"><span style="font-size: 14px;color: rgb(136, 136, 136);">（2-6）</span></p><p style="text-indent: 0em;"><br  /></p><p style="text-indent: 0em;"><span style="text-indent: 2em;font-size: 15px;"></span><span style="font-size: 15px;">其中</span><img class="" data-ratio="0.3064066852367688" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvcGYX2ZkULrDctRI1lAksiaZT8cmNPMh9OGstRBRj1gmpcr6WNx7NYPA/640?wx_fmt=png" data-type="png" data-w="359" style="text-align: center;width: 65px;height: 20px;"  /><span style="font-size: 15px;text-indent: 0em;">定义为：</span></p><p style="text-indent: 0em;"><span style="font-size: 15px;text-indent: 0em;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.2380151387720774" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvxcu8TTlcAVviajceiaoVAjPLvfchXndBT6BhMklvgqezj1G1JG8ltn9g/640?wx_fmt=png" data-type="png" data-w="1189" style="width: 302px;height: 72px;"  /></p><p style="text-indent: 0em;text-align: center;"><span style="font-size: 15px;text-indent: 0em;"></span><span style="color: rgb(136, 136, 136);font-size: 14px;">（2-7）</span></p><p><span style="font-size: 15px;"><br  /></span></p><p style="text-align: left;"><img class="" data-ratio="1.0097087378640777" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvEsUlV08VZgWoAeHXXIicpxn5GazC4bb5QZNggHoiaHPicjcO37kz2INrw/640?wx_fmt=png" data-type="png" data-w="103" style="width: 18px;height: 19px;"  /><span style="text-align: justify;font-size: 15px;">∈ <img class="" data-ratio="0.8201754385964912" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvXicGqqEVx6KLO9pzibChXyiaX8sgCyTamU5NZgmIiadia67EZ3tpJbqLj1A/640?wx_fmt=png" data-type="png" data-w="456" style="height: 19px;text-align: center;width: 24px;"  />是二叉树中节点</span><img class="" data-ratio="1.010204081632653" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvKH0sYTGSqfLibFW89BB6yTpiaoyMo39BZ0SBm60zzKIicicCq5ftkCBc0g/640?wx_fmt=png" data-type="png" data-w="98" style="text-align: center;width: 18px;height: 18px;"  /><span style="text-align: justify;font-size: 15px;">的表示向量。由于二叉树的深度是 T = O(logV)，因此，和softmax 相比，hierarchical softmax 将计算</span><img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 20px;text-indent: 2em;font-size: 15px;text-align: center;width: 84px;"  /><span style="text-align: justify;font-size: 15px;">的复杂度从 O(V) 降成了 O(logV)。然而，hierarchical softmax 依然没有考虑图的结构信息，因此无法在网络特征学习的应用中取得令人满意的表现。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">另外，负采样（negative sampling）[68]技术也是一种常见的 softmax 的替代。然而，负采样技术只能通过引入负样本来帮助学习节点特征，并不能产生一个合法的概率分布。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">2.3 网络结构感知的归一化指数函数</span></strong></p><p style="text-indent: 0em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">2.3.1 Graph softmax 的设计</span></strong></p><p style="text-indent: 0em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">为了解决前文所述的 softmax 和 hierarchical softmax 的问题，在 GraphGAN 中我们提出一种新的 softmax 的替代，叫做 graph softmax。graph softmax 的核心思想是在生成器</span><img class="" data-ratio="0.2653061224489796" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv5IVPdEqlibopps1WnGs0Mox03J4N99hezickyeAbJMpcrIxFlmFzldXQ/640?wx_fmt=png" data-type="png" data-w="294" style="text-align: center;width: 70px;height: 17px;"  /><span style="font-size: 15px;">中定义一种新的计算连接性概率的方式，并满足如下三条性质：</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">1、归一化的（normalized）。生成器应该产生一个合法的概率分布，即</span></p><p style="text-align: left;text-indent: 2em;"><img class="" data-ratio="0.17613636363636365" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvUWrU6zeKtJyTJZic8BYr62Ex9ydAMlK0AibkHqNo4onkdoLjuINjlufQ/640?wx_fmt=png" data-type="png" data-w="352" style="width: 115px;height: 20px;"  />=1</p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">2、<span style="text-align: justify;">网络结构感知的（graph-structure-aware）。生成器应该充分利用网络的结构信息去估计真实的连接性分布。直观地说，如果两个节点在图上的最短距离越远，那么他们之间的连接性概率就越小。</span></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">3、高计算效率的（computationally efficient）。和 softmax 不同，</span><img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 19px;white-space: normal;text-indent: 2em;font-size: 15px;text-align: center;width: 80px;"  /><span style="font-size: 15px;">的计算应该只需要涉及图上的一小部分节点。</span></p><p><br  /></p><p><span style="font-size: 15px;">Graph softmax 的具体定义如下。为了计算连接性分布</span><img class="" data-ratio="0.2653061224489796" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv5IVPdEqlibopps1WnGs0Mox03J4N99hezickyeAbJMpcrIxFlmFzldXQ/640?wx_fmt=png" data-type="png" data-w="294" style="height: 17px;text-indent: 34px;white-space: normal;text-align: center;width: 70px;"  /><span style="font-size: 15px;">，我们首先在原始的图</span><img class="" data-ratio="1.2553191489361701" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvc51HlIe3SmA47t3Tic1qyA3rYSJffesQ1U82UmqRqZqu3jPFtJOsBOA/640?wx_fmt=png" data-type="png" data-w="47" style="text-align: center;width: 16px;height: 20px;"  /><span style="font-size: 15px;">上从节点 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="font-size: 15px;height: 17px;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">开始进行宽度优先搜索（breadth first search，BFS）。如此，我们可以得到一颗以<img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;font-size: 15px;text-indent: 34px;text-align: center;width: 20px;"  />为根节点的 BFS 树</span><img class="" data-ratio="0.9791666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvzrzvdXzlVJq9cyEPfxzaleOGj7masPfuD2nC3evGnCKD7Qs1Vm7XOg/640?wx_fmt=png" data-type="png" data-w="96" style="text-align: center;width: 18px;height: 18px;"  /><span style="font-size: 15px;">。给定</span><img class="" data-ratio="0.9791666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvzrzvdXzlVJq9cyEPfxzaleOGj7masPfuD2nC3evGnCKD7Qs1Vm7XOg/640?wx_fmt=png" data-type="png" data-w="96" style="font-size: 15px;height: 18px;text-align: center;width: 18px;"  /><span style="font-size: 15px;">，我们记</span><img class="" data-ratio="0.45454545454545453" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHU6vkF4yv8HDTQC367ibAwsUqgRaODxSgtQ9H5kabv294mS6O3E1ySQ/640?wx_fmt=png" data-type="png" data-w="231" style="text-align: center;width: 35px;height: 16px;"  /><span style="font-size: 15px;">为节点 v 在<img class="" data-ratio="0.9791666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvzrzvdXzlVJq9cyEPfxzaleOGj7masPfuD2nC3evGnCKD7Qs1Vm7XOg/640?wx_fmt=png" data-type="png" data-w="96" style="height: 18px;white-space: normal;font-size: 15px;text-align: center;width: 18px;"  />上的邻居集合（包括它的父节点和所有的子节点，如果存在的话）。对于一个给定的节点 v 和它的一个邻居</span><img class="" data-ratio="0.9176470588235294" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv7619aPb7zj2hn83D80w6KCeiaHiau3ib3ID2DVyn0W9fSM1B8VoibvmBAw/640?wx_fmt=png" data-type="png" data-w="85" style="text-align: center;width: 18px;height: 15px;"  /><span style="font-size: 15px;">∈</span><img class="" data-ratio="0.45454545454545453" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHU6vkF4yv8HDTQC367ibAwsUqgRaODxSgtQ9H5kabv294mS6O3E1ySQ/640?wx_fmt=png" data-type="png" data-w="231" style="font-size: 15px;height: 16px;text-align: center;width: 35px;"  /><span style="font-size: 15px;">，我们定义相关概率（relevance probability）为</span></p><p><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.2290909090909091" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvmhz8gicZ3QBpLnAxPl8icaMyaicgvTTibGRyq8aapRodlvb4qQWSZWc8jg/640?wx_fmt=png" data-type="png" data-w="825" style="width: 275px;height: 63px;"  /></p><p style="text-align: center;"><span style="font-size: 15px;"></span><span style="font-size: 14px;color: rgb(136, 136, 136);">（2-8）</span></p><p><span style="font-size: 15px;"><br  />上式事实上就是一个定义在</span><img class="" data-ratio="0.45454545454545453" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHU6vkF4yv8HDTQC367ibAwsUqgRaODxSgtQ9H5kabv294mS6O3E1ySQ/640?wx_fmt=png" data-type="png" data-w="231" style="height: 16px;white-space: normal;font-size: 15px;text-align: center;width: 35px;"  /><span style="font-size: 15px;">上的 softmax 函数。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">为了计算 </span><img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 19px;white-space: normal;text-indent: 2em;font-size: 15px;text-align: center;width: 80px;"  /><span style="font-size: 15px;">，注意到在</span><img class="" data-ratio="0.9791666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvzrzvdXzlVJq9cyEPfxzaleOGj7masPfuD2nC3evGnCKD7Qs1Vm7XOg/640?wx_fmt=png" data-type="png" data-w="96" style="height: 18px;white-space: normal;font-size: 15px;text-align: center;width: 18px;"  /><span style="font-size: 15px;">上，根节点 </span><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;font-size: 15px;text-indent: 34px;text-align: center;width: 20px;"  /><span style="font-size: 15px;">到每个节点 v 都有一条唯一的路径。我们将这条路径记为</span><img class="" data-ratio="0.13132911392405064" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvFqiaNKCAhicgS5cmOZBFwTkWpQjcQbAwxZk3nyfhANE1HDml7vNiavaWw/640?wx_fmt=png" data-type="png" data-w="632" style="text-align: center;width: 163px;height: 21px;"  /></p><p><span style="font-size: 15px;">，其中</span><img class="" data-ratio="0.85" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvnHJ3ZiaCX6XlCM1xl6ny3n6mlPOJXEtsKyBiaxI4BSMQHklpSbibk5StQ/640?wx_fmt=png" data-type="png" data-w="80" style="text-align: center;width: 25px;height: 22px;"  /><span style="font-size: 15px;">= <img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;white-space: normal;font-size: 15px;text-indent: 34px;text-align: center;width: 20px;"  />，</span><img class="" data-ratio="0.7052631578947368" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvYUdHJXicuI4y11Hx8ODTm5XIW3emGxoWG8jpXWy7TL4Qc20HMGialMlA/640?wx_fmt=png" data-type="png" data-w="95" style="text-align: center;width: 33px;height: 24px;"  /><span style="font-size: 15px;">= v。那么，在 graphsoftmax 中我们将</span><img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 19px;text-indent: 2em;font-size: 15px;text-align: center;width: 80px;"  /><span style="font-size: 15px;">的计算定义为：</span></p><p><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.10705973622963538" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv0c0iaiaNvX3OgfRJ7ghgWfa60FKQ2Zcbq03ACvialibGEYC5Cgtyo5W7DA/640?wx_fmt=png" data-type="png" data-w="1289" style="width: 405px;height: 44px;"  /></p><p style="text-align: center;"><span style="font-size: 14px;color: rgb(136, 136, 136);">（2-9）</span></p><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">其中</span><img class="" data-ratio="0.4580152671755725" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvR1Jiaht6OiaqDVHV6uviaAGKZUX8n3NF7ia3clw22STOL0KAXGW8JSr2hg/640?wx_fmt=png" data-type="png" data-w="262" style="text-align: center;width: 45px;height: 20px;"  /><span style="font-size: 15px;">是公式（2–8）中定义的相关概率。</span></p><p><span style="font-size: 15px;"><br  /></span><span style="font-size: 16px;"><strong>2.3.2 性质证明</strong></span></p><p><span style="font-size: 15px;"><strong><br  /></strong></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">我们接下来证明 graph softmax 满足上述的三条性质，即graph softmax 是归一化的，网络结构感知的，以及高计算效率的。</span></p><p><br  /></p><p><strong><span style="font-size: 15px;"></span></strong><strong><span style="font-size: 15px;">定理 2.1</span></strong><span style="font-size: 15px;"> (归一化). 在 graph softmax 中，</span><img class="" data-ratio="0.1634782608695652" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv2ichSZibCib9SKCNIic2BSSDbJUkPIg0ov5b67NYYicrNtYxBenoatmib9vQ/640?wx_fmt=png" data-type="png" data-w="575" style="text-align: center;width: 134px;height: 22px;"  />。</p><p><strong><span style="font-size: 15px;">证明. </span></strong><span style="font-size: 15px;">在证明该定理之前，我们首先给出一个命题如下。记</span><img class="" data-ratio="0.8" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvYrplsy922YXsicHY5icibFyIp9UvicCibVymNGicFvKfZ6xSH6Lh7qRBhX6g/640?wx_fmt=png" data-type="png" data-w="45" style="text-align: center;width: 25px;height: 19px;"  /><span style="font-size: 15px;">为<img class="" data-ratio="0.9791666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvzrzvdXzlVJq9cyEPfxzaleOGj7masPfuD2nC3evGnCKD7Qs1Vm7XOg/640?wx_fmt=png" data-type="png" data-w="96" style="height: 18px;text-indent: 34px;white-space: normal;font-size: 15px;text-align: center;width: 18px;"  />上的以 v 为根的子树（v , <img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  />），那么我们有</span></p><p><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.12704174228675136" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvjZmBFicxIjoLAia4g3aRl2RL9eqLG57quWLqBYs8UujJXnKB6iboABF5g/640?wx_fmt=png" data-type="png" data-w="1102" style="width: 371px;height: 47px;"  /></p><p style="text-align: center;"><span style="font-size: 14px;color: rgb(136, 136, 136);">（2-10）</span></p><p><span style="font-size: 15px;"></span></p><p><span style="font-size: 15px;"><br  /></span></p><p><span style="font-size: 15px;">其中节点</span><img class="" data-ratio="0.21534653465346534" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvFYlp5a1bKJOHiaDA6RRPfyqD7NAoWmTyCTEuj6R7NVfN7ibAeIMyoAMQ/640?wx_fmt=png" data-type="png" data-w="404" style="text-align: center;width: 122px;height: 26px;"  /><span style="font-size: 15px;">都在路径</span><img class="" data-ratio="0.4147727272727273" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvsPxkICpZWKCR912NaKMMmK79Q1zLId7RSzbOOJ4ojFvtjcibPTVXvGQ/640?wx_fmt=png" data-type="png" data-w="176" style="text-align: center;width: 47px;height: 18px;"  /><span style="font-size: 15px;">上，</span><img class="" data-ratio="0.7666666666666667" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvxErNdh7YNkGPibKku4IXboTDKtpNleEeT96dllZtwcBSGSon3lXKl5A/640?wx_fmt=png" data-type="png" data-w="150" style="text-align: center;width: 25px;height: 19px;"  /><span style="font-size: 15px;">= <img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  />，</span><img class="" data-ratio="0.6666666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvOgrp8zQI868ZgSDmicibMYxdah1Yqicf4TdiaQH3SicXmwTzV4j4GicGWv1w/640?wx_fmt=png" data-type="png" data-w="177" style="text-align: center;width: 27px;height: 18px;"  /><span style="font-size: 15px;">= v。该命题可以通过在 BFS树 <img class="" data-ratio="0.9791666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvzrzvdXzlVJq9cyEPfxzaleOGj7masPfuD2nC3evGnCKD7Qs1Vm7XOg/640?wx_fmt=png" data-type="png" data-w="96" style="height: 18px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 18px;"  />上的自底向上的数学归纳法证明：</span></p><p><span style="font-size: 15px;"><br  /></span></p><p><span style="font-size: 15px;">1、对于叶节点 v，我们有</span><img class="" data-ratio="0.054404145077720206" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvmbq570prfk7nYSkvLfTn5pibqRL9hO0edzDndW3picwcnl4avwFvibqQg/640?wx_fmt=png" data-type="png" data-w="1158" style="text-align: center;width: 364px;height: 20px;"  /><img class="" data-ratio="0.10029940119760479" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvPI3S7lc83LzFmp1dSlKPYGWN2mic3ENgvwdFoOk2OuqOMfGS4PnDZTQ/640?wx_fmt=png" data-type="png" data-w="668" style="text-align: center;width: 227px;height: 23px;"  />。<span style="font-size: 15px;">等式的最后一步是因为叶节点 v 只有一个邻</span></p><p><span style="font-size: 15px;">居（父节点</span><img class="" data-ratio="0.5365853658536586" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvKArICDQBzmnicwVvtJE38qYlzXPe6NdNUDkx9DfRa2vw9ia52EPgX7mg/640?wx_fmt=png" data-type="png" data-w="123" style="text-align: center;width: 37px;height: 20px;"  /><span style="font-size: 15px;">），因此，</span><img class="" data-ratio="0.10301507537688442" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uveN2xrIWibzeNxUFNekb6qJH5haRmcNdKjp2yRmQ5okKoOQeKk4ysNMw/640?wx_fmt=png" data-type="png" data-w="796" style="text-align: center;width: 221px;height: 23px;"  />。</p><p><br  /></p><p><span style="font-size: 15px;">2、对任意一个非叶节点 v，我们记</span><img class="" data-ratio="0.47058823529411764" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvAoylHSGqNDjtT5nCtffibmxUwx2ibs3icOWqss5b3YO3CMmibhy877MzEQ/640?wx_fmt=png" data-type="png" data-w="153" style="text-align: center;width: 37px;height: 16px;"  /><span style="font-size: 15px;">为 v 在<img class="" data-ratio="0.9791666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvzrzvdXzlVJq9cyEPfxzaleOGj7masPfuD2nC3evGnCKD7Qs1Vm7XOg/640?wx_fmt=png" data-type="png" data-w="96" style="height: 18px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 18px;"  />上的子节点的集合。由归纳假设，每个子节点</span><img class="" data-ratio="0.8840579710144928" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvfEYYrxWhCZcgVShADP95uQB2MUIJLDInwjFV74SExo0hw5N34w7icEQ/640?wx_fmt=png" data-type="png" data-w="69" style="text-align: center;width: 22px;height: 19px;"  /><span style="font-size: 15px;">∈<img class="" data-ratio="0.47058823529411764" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvAoylHSGqNDjtT5nCtffibmxUwx2ibs3icOWqss5b3YO3CMmibhy877MzEQ/640?wx_fmt=png" data-type="png" data-w="153" style="height: 16px;white-space: normal;text-align: center;width: 37px;"  />都满足公式（2–10）中的性质，因此我们有</span></p><p><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.32298136645962733" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvtXg0Tmqzqb3Zps0T9KlJN00fQjyHGrckkeia3HTl72Y6xZZfTFXeG8Q/640?wx_fmt=png" data-type="png" data-w="1127" style="width: 556px;height: 180px;"  /></p><p><span style="font-size: 15px;"></span><br  /></p><p><span style="font-size: 15px;">至此我们已经证明了公式（2–10）。将公式（2–10）应用到 <img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  />的所有子节点上，我们有</span><img class="" data-ratio="0.056943056943056944" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvN6OPgTtXBnKdnqIuiaSRnpxRRcZAuZ60DSQ4Fqh13penFsQj9JLR0ZA/640?wx_fmt=png" data-type="png" data-w="1001" style="text-align: center;width: 495px;height: 28px;"  />。</p><p><br  /></p><p><span style="font-size: 15px;"><strong>定理 2.2</strong> (网络结构感知). 在 graph softmax 中，随着 v 和<img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  />在图 <img class="" data-ratio="1.2553191489361701" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvc51HlIe3SmA47t3Tic1qyA3rYSJffesQ1U82UmqRqZqu3jPFtJOsBOA/640?wx_fmt=png" data-type="png" data-w="47" style="height: 20px;white-space: normal;text-align: center;width: 16px;"  />中的最短距离的增加，<img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 19px;white-space: normal;text-indent: 2em;font-size: 15px;text-align: center;width: 80px;"  />呈指数下降。</span></p><p><strong><span style="font-size: 15px;">证明. </span></strong><span style="font-size: 15px;">根据 graph softmax 的定义，<img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 19px;font-size: 15px;white-space: normal;text-indent: 2em;text-align: center;width: 80px;"  />是 m + 1 项相关概率的乘积，其中 m 是路径</span><img class="" data-ratio="0.44642857142857145" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv6ozaVEvojQasHOK9glGtnLbYdvicC4Ofa7tGdOpLxMj6W0QNWgIwk3g/640?wx_fmt=png" data-type="png" data-w="168" style="text-align: center;width: 53px;height: 24px;"  /><span style="font-size: 15px;">的长度。注意到 m 也是<img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  />和 v 在图 <img class="" data-ratio="1.2553191489361701" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvc51HlIe3SmA47t3Tic1qyA3rYSJffesQ1U82UmqRqZqu3jPFtJOsBOA/640?wx_fmt=png" data-type="png" data-w="47" style="height: 20px;font-size: 15px;white-space: normal;text-align: center;width: 16px;"  />上的最短距离（因为 BFS 树 <img class="" data-ratio="0.9791666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvzrzvdXzlVJq9cyEPfxzaleOGj7masPfuD2nC3evGnCKD7Qs1Vm7XOg/640?wx_fmt=png" data-type="png" data-w="96" style="height: 18px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 18px;"  />保留了<img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  />和所有其它节点在原图上的最短距离的信息）。因此，我们可以得出，<img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 19px;font-size: 15px;white-space: normal;text-indent: 2em;text-align: center;width: 80px;"  />随着<img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;font-size: 15px;white-space: normal;text-indent: 34px;text-align: center;width: 20px;"  /> 和 v 在图<img class="" data-ratio="1.2553191489361701" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvc51HlIe3SmA47t3Tic1qyA3rYSJffesQ1U82UmqRqZqu3jPFtJOsBOA/640?wx_fmt=png" data-type="png" data-w="47" style="height: 20px;font-size: 15px;white-space: normal;text-align: center;width: 16px;"  />上的最短距离的增加而呈指数下降的趋势。</span></p><p><span style="font-size: 15px;"><br  /></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在实验部分我们进行了一项实证研究，用以进一步验证 graph softmax 确实精确刻画了连接性分布的真实变化模式。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p><strong><span style="font-size: 15px;">定理 2.3 </span></strong><span style="font-size: 15px;">(高计算效率). 在 graph softmax 中，<img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 19px;font-size: 15px;white-space: normal;text-indent: 2em;text-align: center;width: 80px;"  /> 的计算依赖于</span><img class="" data-ratio="0.25773195876288657" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvibhL7lsomEztkeT7MFicyRW3Ed97FTVcZtxZhVh7YWib9ZbMvTTcD88XQ/640?wx_fmt=png" data-type="png" data-w="291" style="text-align: center;width: 75px;height: 19px;"  /><span style="font-size: 15px;">个节点，其中 k 是节点的平均度数，V 是图 <img class="" data-ratio="1.2553191489361701" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvc51HlIe3SmA47t3Tic1qyA3rYSJffesQ1U82UmqRqZqu3jPFtJOsBOA/640?wx_fmt=png" data-type="png" data-w="47" style="height: 20px;font-size: 15px;white-space: normal;text-align: center;width: 16px;"  />中的节点总数。</span></p><p><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.5450121654501217" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvGC6OhsKhlgqMyibvcnkHMXmBtuCDemXz7L2nCTOpzEAibvH8jd8lAuyQ/640?wx_fmt=png" data-type="png" data-w="1233" style=""  /></p><p><br  /></p><p><strong><span style="font-size: 15px;">证明. </span></strong><span style="font-size: 15px;">根据公式（2–8）和（2–9），<img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 19px;font-size: 15px;white-space: normal;text-indent: 2em;text-align: center;width: 80px;"  />的计算涉及到两类节点：路径 <img class="" data-ratio="0.4435146443514644" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvqWhBMicwEJee0icBJsSFbAFkGmT0xqxOM30H7zia2Spe9HczRmibu2qLBw/640?wx_fmt=png" data-type="png" data-w="239" style="height: 19px;white-space: normal;text-align: center;width: 42px;"  />上的节点，以及直接和该路径相连的节点（即和该路径距离为 1 的节点）。一般而言，路径</span><img class="" data-ratio="0.4435146443514644" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvqWhBMicwEJee0icBJsSFbAFkGmT0xqxOM30H7zia2Spe9HczRmibu2qLBw/640?wx_fmt=png" data-type="png" data-w="239" style="text-align: center;width: 42px;height: 19px;"  /><span style="font-size: 15px;">的最长长度为 logV（BFS 树的深度），且路径上的每个节点平均和 k 个节点相连。因此，计算</span><img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="font-size: 15px;height: 19px;text-indent: 2em;text-align: center;width: 80px;"  /><span style="font-size: 15px;">涉及到的所有节点的总数为</span><img class="" data-ratio="0.25773195876288657" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvibhL7lsomEztkeT7MFicyRW3Ed97FTVcZtxZhVh7YWib9ZbMvTTcD88XQ/640?wx_fmt=png" data-type="png" data-w="291" style="font-size: 15px;height: 19px;text-align: center;width: 75px;"  /><span style="font-size: 15px;">。</span></p><p><span style="font-size: 15px;"><br  /></span></p><p><strong><span style="font-size: 16px;">2.3.3 生成策略</span></strong></p><p><span style="font-size: 15px;"></span><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">我们接下来讨论生成器 G 的生成策略（或采样策略）。一个可行的方法是对所有的</span><span style="text-indent: 2em;font-size: 15px;">节点 v</span><img class="" data-ratio="0.8899082568807339" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvOBZrKeZhqflYl0osfE7RWF5HXJznLsjia97pLWvnIwp5VLOyicevLl5A/640?wx_fmt=png" data-type="png" data-w="109" style="text-indent: 2em;text-align: center;width: 15px;height: 15px;"  /><span style="text-indent: 2em;font-size: 15px;"><img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;text-indent: 34px;text-align: center;width: 20px;"  />都计算出采样概率 <img class="" data-ratio="0.24406047516198703" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvHYlfpsuwMqqUruPp9JAoo1GQSf7K0twggich6HnwicpIibGMHoPGdSzJg/640?wx_fmt=png" data-type="png" data-w="463" style="height: 19px;text-indent: 2em;text-align: center;width: 80px;"  />的值，然后根据该采样概率进行随机采样。这里我们提出一种更为有效的在线生成方法。为了生成一个节点，我们从<img class="" data-ratio="0.9791666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvzrzvdXzlVJq9cyEPfxzaleOGj7masPfuD2nC3evGnCKD7Qs1Vm7XOg/640?wx_fmt=png" data-type="png" data-w="96" style="height: 18px;text-indent: 34px;text-align: center;width: 18px;"  />树的根节点<img class="" data-ratio="0.8046875" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvTywW0EcQ2wzic4n6EP7x7lSicYfQeicNWkNG2AO5o2mfYA8C1TPtnLO5A/640?wx_fmt=png" data-type="png" data-w="128" style="height: 17px;text-indent: 34px;text-align: center;width: 20px;"  />出发进行随机游走。随机游走的转移概率（transition probability）即为公式（2–8）中定义的相关概率。在随机游走的过程中，如果当前访问的节点是 v 且生成器 G 第一次决定接下来访问 v 的父节点（即在随机游走的路径上掉头），那么 v 就是被生成的节点。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">算法2–1正式地描述了生成器的在线生成策略。我们将当前访问的节点记为</span><img class="" data-ratio="0.4591194968553459" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvGCL0KVTx4GFJXRLw1aCILp4Sdia95icVMkXzwU2VH7a8bp3tBgBYLzLw/640?wx_fmt=png" data-type="png" data-w="318" style="text-align: center;width: 40px;height: 19px;"  /><span style="text-indent: 0em;font-size: 15px;">，将之前访问的节点记为</span><img class="" data-ratio="0.5647058823529412" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uv8ShMGVj1wZyMbAeU1jOlwZwEUERoFiax4slBh3MKv2wIQ2wjCgjZBJA/640?wx_fmt=png" data-type="png" data-w="170" style="text-indent: 0em;text-align: center;width: 37px;height: 21px;"  /><span style="text-indent: 0em;font-size: 15px;">。注意到算法2–1会在</span><img class="" data-ratio="0.30864197530864196" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvWga0zggibFKgMxAMdTrk7NWehM0OxhsEhRlF2KN3dKmnESRuOT1gapA/640?wx_fmt=png" data-type="png" data-w="243" style="text-indent: 0em;text-align: center;width: 64px;height: 20px;"  /><span style="text-indent: 0em;font-size: 15px;">步内终止，因为随机游走的路径最远也会在到达叶节点之后掉头。和 graph softmax 的计算类似，上述的在线生成策略的复杂度也为 <img class="" data-ratio="0.25773195876288657" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvibhL7lsomEztkeT7MFicyRW3Ed97FTVcZtxZhVh7YWib9ZbMvTTcD88XQ/640?wx_fmt=png" data-type="png" data-w="291" style="height: 19px;text-align: center;width: 75px;"  />，这显著低于离线方法</span><img class="" data-ratio="0.19395017793594305" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvNM7ljukHPuQbQK6vlfxyibqKRZ2fmHP2Fr156WsZO1DkNxnoLsMcrjg/640?wx_fmt=png" data-type="png" data-w="562" style="text-indent: 0em;text-align: center;width: 88px;height: 17px;"  /></p><p style="text-indent: 0em;"><span style="font-size: 15px;">的复杂度。</span><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">图2–2给出了一个在线生成策略的图示以及graph softmax的计算。在随机游走的每一步，我们从</span><img class="" data-ratio="0.4591194968553459" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvGCL0KVTx4GFJXRLw1aCILp4Sdia95icVMkXzwU2VH7a8bp3tBgBYLzLw/640?wx_fmt=png" data-type="png" data-w="318" style="height: 18px;white-space: normal;text-align: center;width: 34px;"  /><span style="font-size: 15px;">的所有邻居中根据公式（2–8）定义的相关概率</span><img class="" data-ratio="0.26099290780141843" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc3ialaUla10KmbBy0Pics6nbnnSeDJue9fGqUYtpMI1QLQx3pqh5piaUYQ/640?wx_fmt=png" data-type="png" data-w="705" style="text-align: center;width: 74px;height: 19px;"  /><span style="font-size: 15px;">选择一个蓝色节点</span><img class="" data-ratio="0.9657534246575342" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc8R6PQBvfcMk5zd8kRAcBRtQhSYmqjJpEwX8SILhicg0uh5nnxPQS98w/640?wx_fmt=png" data-type="png" data-w="146" style="text-align: center;width: 19px;height: 18px;"  /><span style="font-size: 15px;">，作为下一步要访问的节点。一旦<img class="" data-ratio="0.9657534246575342" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc8R6PQBvfcMk5zd8kRAcBRtQhSYmqjJpEwX8SILhicg0uh5nnxPQS98w/640?wx_fmt=png" data-type="png" data-w="146" style="height: 18px;text-indent: 34px;white-space: normal;text-align: center;width: 19px;"  />等于</span><img class="" data-ratio="0.6153846153846154" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccQkPLHXssbgah51icpVCuTtxskFWu03nrbNXGuqv2NNcRAaNLR9cZ4RQ/640?wx_fmt=png" data-type="png" data-w="273" style="text-align: center;width: 32px;height: 20px;"  /><span style="font-size: 15px;">，即该随机游走重新访问了</span><img class="" data-ratio="0.4591194968553459" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRytAJXuicfcZILfZyStLg1uvGCL0KVTx4GFJXRLw1aCILp4Sdia95icVMkXzwU2VH7a8bp3tBgBYLzLw/640?wx_fmt=png" data-type="png" data-w="318" style="height: 18px;text-align: center;width: 33px;"  /><span style="font-size: 15px;">的父节点</span><img class="" data-ratio="0.6153846153846154" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccQkPLHXssbgah51icpVCuTtxskFWu03nrbNXGuqv2NNcRAaNLR9cZ4RQ/640?wx_fmt=png" data-type="png" data-w="273" style="height: 21px;white-space: normal;text-align: center;width: 34px;"  /><span style="font-size: 15px;">，那么</span><img class="" data-ratio="0.5090252707581228" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayiccfnhwzcnrq7BArAxic5KBqLIFTac0nvOngEeaTT58ED8HcacWaBe6Z4w/640?wx_fmt=png" data-type="png" data-w="277" style="text-align: center;width: 34px;height: 18px;"  /><span style="font-size: 15px;">就会被采样出来（标记为图中蓝色条纹的节点）。所有在路径</span><img class="" data-ratio="0.37828371278458844" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicco1LL5QSNRHvHakxaQsfEfOoHO0ibT16CVEY9f5u3GgkWW7iaTiaFNq4xQ/640?wx_fmt=png" data-type="png" data-w="571" style="text-align: center;width: 54px;height: 20px;"  /><span style="font-size: 15px;">上以及直接和这条路径相连的节点都会根据公式（2–4）、（2–8）和（2–9）被更 新。</span></p><p><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.21038399134667388" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayiccefg1pReHdWHcQlFyR5ics1IicAe5oXvWhCMaMibNWqbFfHPyU3QpCJ0qQ/640?wx_fmt=png" data-type="png" data-w="1849" style=""  /></p><p><span style="font-size: 15px;"></span></p><p><span style="font-size: 12px;color: rgb(136, 136, 136);">图2–2生成器 G 的在线生成策略。蓝色的数字是相关概率</span><img class="" data-ratio="0.3246753246753247" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccSicCZC6scJiaaEFLib3GR7kC1wibS3kwzVCsfdhU9VmaNv1CQTicP1GzCrg/640?wx_fmt=png" data-type="png" data-w="462" style="text-align: center;width: 47px;height: 18px;"  /><span style="font-size: 12px;color: rgb(136, 136, 136);">，蓝色实线箭头表示 G 选择的随机游走的方向。当该过程完成后，蓝色条纹的节点即为采样出的节点。最右图中所有带颜色的节点的特征都需要被相应地更新。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span><span style="font-size: 16px;"><strong>2.3.4 复杂度分析</strong></span></p><p style="text-indent: 2em;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">GraphGAN 的整体逻辑如算法2–2所示。我们接下来分 GraphGAN 的时间复杂度。在算法的第 2 行，针对所有节点构造 BFS 树的复杂度是</span><img class="" data-ratio="0.12315270935960591" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccCxkY4alYXIBxK7XjNdDXHb5rjxmDG1RMG8qFDtbgGjnxNSMeHV4gkQ/640?wx_fmt=png" data-type="png" data-w="1624" style="text-align: center;width: 152px;height: 19px;"  /><span style="font-size: 15px;text-indent: 2em;">（因 为 BFS 的时间复杂度是 O(V + E)[107]）。在每次迭代中，第 5 行和第 6 行的复杂度都是</span><img class="" data-ratio="0.18264014466546113" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc6icoicypAMXd8HcIia0Y2CyvNp5yc3hcw1owQNIPjFWl3FEmzicB3BlfOQ/640?wx_fmt=png" data-type="png" data-w="1106" style="text-align: center;width: 104px;height: 19px;"  /><span style="font-size: 15px;text-indent: 2em;">，第9、第10和第11行的复杂度分别是</span><img class="" data-ratio="0.1691449814126394" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc2LicJ160DNnWX69q8GzjmjwgXvYkicg530bU8s55OAVK4qialUGKpZVmg/640?wx_fmt=png" data-type="png" data-w="1076" style="text-align: center;width: 105px;height: 18px;"  /><span style="font-size: 15px;text-indent: 2em;">、</span><img class="" data-ratio="0.1835032437442076" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccrX1prNYicL0MS8rbCYzicae9xhAARU5TjjdAV0NtD84Nw0OL2Ar6M5ow/640?wx_fmt=png" data-type="png" data-w="1079" style="text-align: center;width: 113px;height: 21px;"  /><span style="font-size: 15px;text-indent: 2em;">和</span><img class="" data-ratio="0.28452579034941766" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccMqwZXciaLnFDEFSIOny86ZrslH5HJhomkVCSx2EzDYic3eoolJmZCcKw/640?wx_fmt=png" data-type="png" data-w="601" style="text-indent: 2em;text-align: center;width: 59px;height: 18px;"  /><span style="font-size: 15px;text-indent: 2em;">。总体而言，如果我们将 k，s，t 和 d 视为常数，那么GraphGAN的每一轮 的时间复杂度是</span><img class="" data-ratio="0.27107438016528923" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyicceB9bxaB8ANKQxZicyMnSXdXh94la4L3UeJJibMoZQ4XicJ6X0eqZNZQYA/640?wx_fmt=png" data-type="png" data-w="605" style="text-align: center;width: 75px;height: 20px;"  /><span style="font-size: 15px;text-indent: 2em;">。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;text-indent: 2em;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.7039517749497656" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc1DLFSPFPg9zS64deEqExLDyT6jIABa38TIbB5iah8HUdsoCnvWXCw3w/640?wx_fmt=png" data-type="png" data-w="1493" style=""  /></p><p style="text-indent: 0em;"><span style="font-size: 15px;text-indent: 2em;"></span><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;text-indent: 2em;"><br  /></span></p><p style="text-indent: 0em;"><strong><span style="text-indent: 2em;font-size: 16px;">2.4 性能验证</span></strong></p><p><span style="font-size: 15px;">&nbsp;</span><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在本节中，我们会在一系列真实数据集上验证 GraphGAN 的性能。具体而言，我 们选择了5个应用场景：网络重构、连接预测、节点分类、推荐系统和可视化。</span><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-indent: 0em;"><strong><span style="font-size: 16px;">2.4.1 实验准备工作</span></strong></p><p style="text-align: left;text-indent: 0em;"><span style="font-size: 15px;"><br  />&nbsp; &nbsp; &nbsp; &nbsp; 我们在实验中使用以下5个数据集：&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">• arXiv-AstroPh 来自于电子预印版本 arXiv，其包含了天文物理学领域的作者之间的学术合作关系。在该网络中，节点代表作者，边代表共同作者关系。这个网络包含18,772个节点和198,110条边。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">• arXiv-GrQc也来自于 arXiv，其包含了广义相对论和量子宇宙论领域的作者之间的学术合作关系。该网络包含5,242歌节点和14,496条边。&nbsp;</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;color: rgb(0, 0, 0);">• BlogCatalog 是一个 BlogCatalog 网站上博主之间的社交关系。节点的标签代表博主的个人兴趣。该网络包含 10,312 个节点，333,982 条边，以及 39 种不同的标签。&nbsp;<br  /></span></p><p style="text-align: left;text-indent: 2em;"><span style="color: rgb(0, 0, 0);font-size: 15px;">• Wikipedia 是一个英文 Wikipedia 网站上的词语的共现（co-occurrence）网络。标签代表词语的词性（Part-of-Speech，POS）。该网络包含 4,777 个节点，184,812 条边，以及40中不同的标签。</span></p><p style="text-align: left;text-indent: 2em;"><span style="color: rgb(0, 0, 0);font-size: 15px;">• MovieLens-1M 是一个包含了 MovieLens 网站上的 6,040 个用户、3,706 部电影、 以及约一百万条边（评分）的二分图。&nbsp;</span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">我们将以下五种有代表性的网络特征学习方法作为基准方法：&nbsp;</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;"><span style="font-size: 15px;color: rgb(0, 0, 0);text-align: left;">•&nbsp;</span>DeepWalk[92] 使用随机游走和Skip-Gram模型学习节点的表示。&nbsp;</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;"><span style="font-size: 15px;color: rgb(0, 0, 0);text-align: left;">•&nbsp;</span>LINE[76] 保存了图中节点之间的一阶和二阶邻近关系。&nbsp;</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;"><span style="font-size: 15px;color: rgb(0, 0, 0);text-align: left;">•&nbsp;</span>Node2vec[77] 是DeepWalk的变形，它设计了一种有偏的随机游走来学习节点的表示。&nbsp;</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;"><span style="font-size: 15px;color: rgb(0, 0, 0);text-align: left;">•&nbsp;</span>SDNE[94] 使用了深度自动编码机来刻画网络的全局结构和局部结构。</span></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;"><span style="font-size: 15px;color: rgb(0, 0, 0);text-align: left;">•&nbsp;</span>Struc2vec[108] 刻画了网络中节点的结构相似性。&nbsp;</span></p><p style="text-align: left;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">我们用随机梯度下降法来更新GraphGAN的参数，学习率（learning rate）为0.001。 在每轮迭代中，我们设 s 等于20，t 等于每个节点在测试集中的正样本数量。G-steps 和 D-steps 都是 30 次。为了公平比较，所有模型的表征维度都是128，最后用来评测的表征是</span><img class="" data-ratio="0.9230769230769231" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccwibsctoDUgJdIib5dB9ziaf2gjjcaa6ibkiarn3Fq6qMf80hpzhfgOXxbFg/640?wx_fmt=png" data-type="png" data-w="65" style="text-align: center;width: 20px;height: 18px;"  /><span style="font-size: 15px;">。对于DeepWalk，Node2vec 和 Struc2vec ，窗口大小设置为10，随机游走的长度设置为 80，每个节点的游走数量设置为 10。另外，在 Node2vec 中 p = 0.25，q = 4.0。 对于 LINE，负样本的个数为 5，总训练样本个数为 100 亿。其它超参数的设置为默认值。以上超参数由交叉验证（cross validation）决定。</span></p><p><br  /></p><p><strong><span style="font-size: 16px;">2.4.2 实证研究</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">我们进行了一项实证研究去揭示网络中的连接性分布的真实变化模式。具体而言， 对于一对给定的节点，我们希望知道它们之间存在边的概率随着它们在网络中的最短距离的变化是如何变化的。为此，我们首先分别从 arXiv-AstroPh 和 arXiv-GrQc 数据集中随机采样了一百万对节点。对于每一对节点，我们移除了它们之间的边（如果存在的话），然后计算它们之间的最短距离。我们分组计算了每个最短距离情形中有边的概率，结果如图2–3所示。显然，一对节点之间有边的概率随着它们最短距离的增加而迅速下降。我们也在图中画出了对数概率曲线，其表现出线性下降的趋势（</span><img class="" data-ratio="1.008130081300813" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccqeiayjyfZOPB12msYpnla3fpxwtBTsFgDOzX3nrG7yibrmNTmgiaX9OXA/640?wx_fmt=png" data-type="png" data-w="123" style="text-align: center;width: 18px;height: 18px;"  /><span style="font-size: 15px;text-indent: 2em;">值分别为0.831 和 0.710）。以上发现经验性地表明，两点之间有边的概率随着它们最短距离的增加而呈指数下降的趋势。这也有力地证明了 graph softmax 确实抓住了真实网络的本质（定理2.2）。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;text-indent: 2em;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.3025302530253025" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccpibOBFDrTr6HFIoic31Z3NvfHT5hXS29V8LnbDOoicplX8cJK7njJibpaQ/640?wx_fmt=png" data-type="png" data-w="1818" style=""  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;text-indent: 2em;"></span></p><p style="text-align: center;"><span style="color: rgb(136, 136, 136);font-size: 12px;">图2–3给定一对节点，它们之间有边的概率和它们的最短距离的关系。</span></p><p style="text-align: center;"><span style="font-size: 12px;color: rgb(0, 0, 0);"><br  /></span></p><p style="text-align: left;"><span style="color: rgb(0, 0, 0);"><strong><span style="color: rgb(0, 0, 0);font-size: 16px;">2.4.3 实验结果&nbsp;</span></strong></span></p><p style="text-align: left;"><span style="color: rgb(0, 0, 0);"><strong><span style="color: rgb(0, 0, 0);font-size: 16px;"><br  /></span></strong></span></p><p style="text-align: left;"><span style="color: rgb(0, 0, 0);"><strong><span style="color: rgb(0, 0, 0);font-size: 16px;">2.4.3.1 网络重构</span></strong></span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">在验证 GraphGAN 在真实应用场景下的表现之前，我们首先进行网络重构的实验来验证 GraphGAN 中学习到的节点表示能否保留原网络中的结构信息。具体来说，我们首先使用完整的网络来训练 GraphGAN 和基准方法，得到所有节点的表示向量。然后我们将所有 V(V −1)/2 对节点按照他们的表示向量的内积大小进行降序排序，并选择前 K 对节点当做重构网络的边。因为原网络中的边是已知的，因此我们可以用 top-K 的 Precision 和 Recall 指标来验证网络重构的性能。我们使用 arXiv-AstroPh 和 arXiv-GrQc 作为数据集，结果如图2–4所示。</span>&nbsp;</p><p style="text-align: left;"><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.7554112554112554" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayiccdw44xDzicMt8AR827wohnELJC5ib0ZRlSnZ2icefqpkscIkpyYBYMGRSw/640?wx_fmt=png" data-type="png" data-w="1386" style=""  /></p><p style="text-align: center;"><span style="color: rgb(136, 136, 136);font-size: 12px;">图2–4网络重构任务中arXiv-Astroph和arXiv-GrQc数据集上Precision@K和Recall@K指标的结果。</span></p><p style="text-align: left;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">从图2–4中我们可以看出，相比于所有基准方法，GraphGAN取得了最好的表现。这表明GraphGAN具有很强的学习能力，可以很好地保留原图中的结构信息。我们的解释是相比于单模型的基准方法而言，GraphGAN中的对抗训练赋予了GraphGAN非常强的灵活性。我们也注意到DeepWalk是一个非常有竞争力的基准方法，它甚至在 K 较小的时候超越了 GraphGAN 的表现。然而另一个基于随机游走的方法 Node2vec 在该任务上表现较差。这可能是因为控制有偏随机游走的参数 p 和 q 很难能达到最优。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p><strong><span style="font-size: 16px;">2.4.3.2 连接预测</span></strong></p><p style="text-indent: 2em;"><span style="font-size: 15px;"></span><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">在连接预测的任务中，我们的目标是预测两个给定的节点之间是否有边。因此，这个任务展现了不同的网络特征学习方法的边预测能力。我们随机移除了原网络中 10% 的边作为测试集合，然后使用剩下的网络来训练模型。训练结束后，我们得到了每个节点的特征，然后我们使用逻辑斯蒂回归模型来预测一对给定节点之间有边的概率。测试集合包含了隐藏的10%的节点对（正样本）和随机选择的、等量的、在原网络中不相连的节点对（负样本）。我们针对不同的特征维度 d 都进行了实验，在数据集arXiv-AstroPh 和 arXiv-GrQc 上的 AUC 指标的结果如表2–1所示。我们有如下观察结果：&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">1、一般而言，所有方法的 AUC 指标都会随着特征维度 d 的上升而上升。这是因为一个更大的特征维度可以保留原图更多的信息。但我们也观察到了一些方法 （比如 LINE 和 struc2vec）在 d 很大的时候出现了性能下降，这是因为过拟合 （over-ﬁtting）的缘故。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">2、Struc2vec 在连接预测中的表现相对较差，因为它无法很好地抓住网络中的边的信息。&nbsp;&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">3、DeepWalk依然是最具竞争力的基准方法。另外，LINE也取得了很好的表现。这些结果证明了DeepWalk和LINE较强的泛化（generalization）能力。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">4、GraphGAN 在大部分情况下都是表现最好的方法。例如，当 d = 100 时，GraphGAN 在 arXiv-AstroPh 和 arXiv-GrQc 数据集上分别提升了 0.5% 至 56.5% 和 0.8% 至 43.8% 的 AUC 。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.2823108993448481" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccGPSFuY69aEGdzlz18dx2rlHnmzxVicNQbR1RPVcS8ibbdHVpkNvFVicFA/640?wx_fmt=png" data-type="png" data-w="1679" style=""  /></p><p style="text-align: center;"><span style="font-size: 12px;color: rgb(136, 136, 136);">表2–1连接预测任务中 arXiv-AstroPh 和 arXiv-GrQc 数据集上的 AUC 指标的结果（d 是特征的维度）。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">2.4.3.3 节点分类</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">在节点分类中，每个节点都有一个或多个标签。当我们观察到图中一部分节点及其标签后，我们希望预测剩余节点的标签。因此，节点预测的性能可以揭示不同模型对节点的区分能力。在节点分类的实验中，我们在完整的网络上训练 GraphGAN 和基准方法并得到节点表示，然后我们使用逻辑斯蒂回归模型作为分类器来进行节点分类。输 入分类器的特征是节点的表示向量，标签由节点自己携带。我们将训练集和测试集按照 9:1 划分，然后将训练集的百分比 r 从 100% 降至 20% 来观察性能的变化。我们使用 BlogCatalog 和 Wikipedia 作为数据集。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">节点分类的 Micro-F1 指标结果如表2–2所示。我们可以看出，GraphGAN 几乎在所有情况下都超越了所有的基准方法。例如，当 r = 100% 时，GraphGAN 在两个数据集上分别取得了 1.2% 到 180.0%，以及 1.3% 到 30.1% 的提高。这表明尽管 GraphGAN 的设计是出于直接优化连接性分布，但是它依然能有效地融合节点本身的信息。而且，在训练集很小的时候，GraphGAN 依然能保持一个很好的表现，这也证明了GraphGAN 具有很强的泛化能力。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.23475783475783477" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccHnWpW7JF79ZtNWcYDWJZj4xsUOiaDEyCvua2eFR3fibaMr0jFw5LybIQ/640?wx_fmt=png" data-type="png" data-w="1755" style=""  /></p><p style="text-align: center;"><span style="color: rgb(136, 136, 136);font-size: 12px;">表2–2节点分类任务中 BlogCatalog 和 Wikipedia 数据集上的 Micro-F1指标的结果（ r 是用于训练逻辑斯蒂回归分类器的训练集的百分比）。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">2.4.3.4 推荐系统&nbsp;</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">我们使用 Movielens-1M 作为推荐系统任务的数据集。对于每个用户，我们为它推荐一个他没有看过但是有可能会喜欢的电影的集合。我们首先提取所有4星和5星的评分作为边，这样便获得了一个二分交互图。然后，我们随机移除了原图 10% 的边作为测试集，并为每个用户构造了BFS树。注意到在之前的应用场景中，给定一个节点，连接性概率是分布在所有其它节点上的。然而在推荐系统场景中，给定一个用户，连接性概率只分布在一部分节点上，即所有的电影。因此，在BFS树中我们将所有的用户节点 进行“短路”（根节点除外），也就是说，如果两个电影节点至少有一个公共的用户节点邻居，那么我们将这两个电影节点直接相连。在训练结束后，我们得到了所有用户和电影的特征。我们为每个用户推荐了 K 部得分（内积）最高的他没有看过的电影。&nbsp;</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">推荐系统任务中的 Precision@K 和 Recall@K 指标如图2–5所示。从中我们可以看出，GraphGAN 始终在所有基准方法之上。以 Precision@20 为例，GraphGAN 相对于 DeepWalk，LINE，node2vec 和 struc2vec 分别提高了38.56%，59.60%，124.95%和156.85%。 因此，我们可以推断 GraphGAN 相比于其他网络特征学习方法可以在基于排序的任务中取得更好的表现。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="0.338411316648531" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccQ7X4Jp3fJuUV3gBqvd828Xhia3z7m5KXbt8vicN64JZHS2tCClZLphow/640?wx_fmt=png" data-type="png" data-w="1838" style=""  /></p><p style="text-align: center;"><span style="color: rgb(136, 136, 136);font-size: 12px;">图2–5推荐系统任务中MovieLens-1M数据集上的Precision@K和Recall@K指标的结果。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;"></span><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">2.4.3.5 可视化&nbsp;</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-align: left;text-indent: 2em;"><span style="font-size: 15px;">网络特征学习方法的另一个重要的应用是将一个网络进行可视化。我们选择巴西航 空交通网络作为可视化的数据集，其中每个节点代表一个机场，且按照其活跃程度的水平被分为 3 类。我们使用不同的方法得到节点的特征，然后使用 t-SNE[109] 将每个机场映射到一个二维空间。不同种类的机场被标记了不同的颜色。因此，一个好的可视化结果应该是相同种类的节点相聚更近。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;">可视化的结果如图2–6所示。我们可以看出DeepWalk和LINE的结果较差，它们的可视化结果中不同种类的点混杂在一起。Struc2vec 的结果要清晰很多，我们从中可以观察出同色的点大致形成了聚类的结构，但是聚类的边界依然不是很清晰。相比之下， GraphGAN 对不同种类的点有着清楚的划分。另外，可视化结果中的“线性”的结构也 似乎表明 GraphGAN抓住了原始高维数据中的某种流形的性质。</span></p><p><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.3123140987507436" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyicclibrAD9JAQj3ibWKlAWukhshbU8yCnV6AqiapnZ1cyJ9tWDicskUVgicufA/640?wx_fmt=png" data-type="png" data-w="1681" style=""  /></p><p style="text-align: center;"><span style="color: rgb(136, 136, 136);font-size: 12px;">图2–6巴西航空交通网络的可视化结果。每个节点代表一个机场。节点的颜色表示机场的类别。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">2.4.3.6 与自身变种方法的比较&nbsp;</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">为了验证 graph softmax 的性能，在 GraphGAN 中我们将 graph softmax 替换为 hierarchical softmax 和 softmax，并将这两个变种与原始的 GraphGAN 进行比较。网络重构、连接预测和节点分类的结果分别如表 2–3，2–4 和 2–5 所示。从表 2–3 中我们可以看出 graph softmax 在 Precision@K 指标上表现基本优于 hierarchical softmax 和 softmax，特别是 K 较大的时候。然后我们确实观察到了当 K 较小时，hierarchical softmax 超过了 graph softmax。这是因为 hierarchical softmax 中的二叉树的构造通常依赖于哈弗曼编码 （Huﬀman coding），这可以被视为粗糙地使用了原图的结构信息。另外从表2–4和2–5中我们可以看出graphsoftmax在另外两个应用场景中也优于两个softmax变种。以上结果表明，在GraphGAN中精巧地使用网络结构信息可以有效地提高学习和泛化能力。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.14192399049881235" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyicccnCnz8HdIC4p01GeLNyK31LTJzYgibgqfosFm74UPzwGUic0OYLhIiaVg/640?wx_fmt=png" data-type="png" data-w="1684" style=""  /></p><p style="text-align: center;"><span style="color: rgb(136, 136, 136);font-size: 12px;">表2–3网络重构任务中与GraphGAN变种方法的比较（指标为Precision@K）。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.33061594202898553" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccA90Vt8YGGM0c9VQFk1l3ffZCs6ibES4XUqIm3ArKlsCQApAAT3eHRTA/640?wx_fmt=png" data-type="png" data-w="1104" style="width: 348px;height: 115px;"  /></p><p style="text-align: center;"><span style="color: rgb(136, 136, 136);font-size: 12px;">表2–4连接预测任务中与GraphGAN变种方法的比较（指标为AUC）。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: center;"><img class="" data-ratio="0.3588039867109635" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc9o5qWZfGVXYhOcW1phP4rDndNX5CNh8FJL5Bw4OfXFDJNhV6nbGpKA/640?wx_fmt=png" data-type="png" data-w="903" style="width: 361px;height: 130px;"  /></p><p style="text-align: center;"><span style="color: rgb(136, 136, 136);font-size: 12px;">表2–5节点分类任务中与GraphGAN变种方法的比较（指标为Micro-F1）。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">2.4.4 超参数敏感性</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;">GraphGAN中的关键参数是特征的维度，以及生成器和判别器在一轮中的训练频率 （即算法2–2中 G-steps 和 D-steps 的数值）。我们已经在表 2–1 中给出了特征的维度 d 对 于GraphGAN 性能的影响。在本节中，我们研究生成器和判别器的训练频率的选择。为 了直观地展示这两个训练参数对于学习过程的影响，我们选择 arXiv-AstroPh 数据集上的连接预测任务，并在图2–7中画出了生成器和判别器在不同训练频率设置下的学习曲 线。我们选择了四个G-steps和D-steps的组合：（10G-steps，50D-steps），（20G-steps，40D-steps），（30G-steps，30D-steps）和（50G-steps,10D-steps）。从图2–7中我们可以 看出生成器和判别器的学习曲线的大致趋势是相似的：判别器降到了一个随机猜测（即 AUC等于0.5左右）的水平，而生成器收敛后达到的AUC比判别器要高。然而，在不同参数设置下的学习曲线的差异显得更加有趣：当 D-steps 的数值远比 G-steps 高时，（例如图2–7a），判别器性能的退化会更加平缓，而生成器的表现相对也要差一些。相反地， 如果 D-steps 的数值远小于 G-steps （例如图2–7d），判别器性能的退化会更快，而生成器的平均表现却会更好一些。（尽管图2–7d中的生成器的峰值性能依然低于图2–7c中的生成器）。这样的结果表明，和其它领域中的GAN相似，生成器和判别器的训练频率会很大程度上影响学习过程和最终的博弈均衡。事实上，GraphGAN的真实训练情况会更加复杂，因为学习率、生成样本数量 s 和判别样本数量 t 都可能会影响GraphGAN最终达到的均衡。GraphGAN 的学习稳定性的理论和实证研究有待后续工作进一步研究。</span></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><strong><span style="font-size: 16px;">2.5 本章小结</span></strong></p><p style="text-align: left;"><br  /></p><p style="text-indent: 2em;"><span style="font-size: 15px;color: rgb(0, 0, 0);">本节研究了应用于推荐系统交互图的网络特征学习方法。我们提出了GraphGAN 框架，并通过在一个极大极小游戏中的对抗训练来联合统一网络特征学习中的两类方法， 即生成式模型和判别式模型。在 GraphGAN的框架中，生成器和判别式会相互学习：生成器收到来自判别器的信号，并以此为指导提高自己的生成表现；判别器受到生成器生成的高质量样本的驱使，会试图更好地学会区分真实样本和生成样本。另外，我们提出了graph softmax 作为生成器的实现。Graph softmax 解决了传统 softmax的固有局限，具有归一化、网络结构感知和高计算效率的特点。我们在多个应用场景和真实数据集上进行了大量的实验，实验结果表明 GraphAN 的性能显著优于最新的基准方法。这些归因于 GraphGAN 的对抗训练框架和 graph softmax 的设计。</span></p><p style="text-indent: 2em;"><span style="font-size: 15px;color: rgb(0, 0, 0);"><br  /></span></p><p style="text-indent: 2em;"><span style="font-size: 15px;color: rgb(0, 0, 0);"><br  /></span></p><hr style="border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);"  /><p style="text-indent: 0em;"><strong><span style="font-size: 15px;">第1/2章参考文献</span></strong></p><p style="text-indent: 2em;"><span style="font-size: 15px;color: rgb(0, 0, 0);"><br  /></span></p><p style="text-align: center;"><img class="" data-ratio="1.1864594894561598" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccrQ5flBlS7Ctibic1D4EuJuNZmiavW5pWfZxTIyezIZrzexiao1ZEcsNDPA/640?wx_fmt=png" data-type="png" data-w="901" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="1.2402439024390244" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc1j5ImoQiafoVpzV5obLMyHq0NWaLg8JwxSxdrpulHxp7YI8OG31BKqQ/640?wx_fmt=png" data-type="png" data-w="820" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.14023732470334413" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc5j2o6icNokVFZ9n59RowogXKwr2rgtjphEPetAqUOicXOk5Gokn5lUNQ/640?wx_fmt=png" data-type="png" data-w="927" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="1.0934782608695652" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccXjbqRias0zZVO9GmniaUK9y6tqw9sWdb2vqJ33IAfsUCQjJEMqFGBBGg/640?wx_fmt=png" data-type="png" data-w="920" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.23567567567567568" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccPWcuj9Kzh1lXBnL9akMGh5KkpNq8ibsZUmabhVVicRTCgeqibGxC9BU0A/640?wx_fmt=png" data-type="png" data-w="925" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="1.0228509249183895" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccmF8kg9jr1rBHMia1GcVibnCZRyI7MibhITl5dI5myic0EQdgOhCsmHFzEA/640?wx_fmt=png" data-type="png" data-w="919" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.27518959913326113" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayiccmaz3M91FeJFZpbJKbrLrsIcibib2FR2DzVuOCIRBSqRD61ZfFWibIvqyw/640?wx_fmt=png" data-type="png" data-w="923" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.9699248120300752" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccIgveeL1ibFib6bdy4icicia6el2NDrRGTssP3pywqND6cqsqIhmWROWNdUw/640?wx_fmt=png" data-type="png" data-w="931" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.3573735199138859" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc7kXlmCXxwlSK9YwN7gyXxhFyYXR5vfV3jdMV48kAA44LHhaSvPDy0w/640?wx_fmt=png" data-type="png" data-w="929" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.9667381974248928" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccuCibtkZW1bywqiaQMiadMMvYscZqsuGnHYFS40jKYGSVjruUzjsxCcDbA/640?wx_fmt=png" data-type="png" data-w="932" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.3577586206896552" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccD4RldjJZsLIM8g7XWngl6wV46eB5d2FPTWgxOHkF4MGnhalNYmbibtw/640?wx_fmt=png" data-type="png" data-w="928" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.9098805646036916" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyicctewYLclSBfYz2DIkuaZUalGnm1YjtdUicW2GzhtxcqibD0CVz92zSO2g/640?wx_fmt=png" data-type="png" data-w="921" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.41233766233766234" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccprUPiaHbSugSVa6ImXExJMMPoyEQ2JWgKEOVSiccJtdO1sJcmEKXB2WA/640?wx_fmt=png" data-type="png" data-w="924" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="1.0574837310195229" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccYJsNTU2LLr2M9FXC39IVnDT1Fph7Df3GpTfFqLEUwefTPyGsREGxnA/640?wx_fmt=png" data-type="png" data-w="922" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.30735930735930733" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc3D2lYcomHWr0KkqdO7pIw8ljOpPIFIL45ah8BJ7vToblZ4gaia4fPCQ/640?wx_fmt=png" data-type="png" data-w="924" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.9402823018458197" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayiccztdrwr7dTRcRlic5nBk9tRUY9hSibpH2MMXawf4ibQWHk6LHr4LUFnhxQ/640?wx_fmt=png" data-type="png" data-w="921" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.3963480128893663" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5Ayicc0GDFpnkTfjCsy0YDx06tTgJpwOeRCgbF5oWk1typibicgpD2alodm7mQ/640?wx_fmt=png" data-type="png" data-w="931" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="1.0472610096670247" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccY4b3XNZduFZzPVhf1Y7lfObrFTIy1nCJp1D9yDhDZdVu9cBbiaA14kQ/640?wx_fmt=png" data-type="png" data-w="931" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.28816986855409504" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccXhNPMYBzryEXHuedHJr3Yx276Zk76vsnJgAhEJTmibOHmBe36l3uvWQ/640?wx_fmt=png" data-type="png" data-w="989" style=""  /></p><p style="text-align: center;"><img class="" data-ratio="0.07974137931034483" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwZxLYSJ4mpRlNIWiaq5AyiccfuTT6Kazu8V17Eib2ckwQiaBrm80wALxic8pahibFKJvdqeElqiaCQBpHKA/640?wx_fmt=png" data-type="png" data-w="928" style=""  /></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><br  /></p><p style="text-align: left;"><br  /></p><hr style="border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);"  /><p class="" style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;font-size: 16px;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);box-sizing: border-box !important;word-wrap: break-word !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;overflow-wrap: break-word !important;"></span></p><p class="" style="white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;font-size: 16px;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">了解更多信息请点击知识工场网站主页：http://kw.fudan.edu.cn/</span><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"  /></p><p class="" style="white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;font-size: 16px;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><br style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;"  /></p><p class="" style="white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;font-size: 16px;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;">合作意向、反馈建议请联系我们：</span></p><p class="" style="white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;font-size: 16px;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;font-size: 18px;box-sizing: border-box !important;overflow-wrap: break-word !important;">info.knowledgeworks@gmail.com</span></p><p class="" style="max-width: 100%;min-height: 1em;letter-spacing: 0.544px;white-space: normal;font-size: 16px;color: rgb(62, 62, 62);background-color: rgb(255, 255, 255);box-sizing: border-box !important;word-wrap: break-word !important;overflow-wrap: break-word !important;"><span style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;overflow-wrap: break-word !important;"></span><br  /></p><p style="text-align: center;"><img class="" data-copyright="0" data-ratio="0.9493087557603687" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRwUR5ZjN1QZF7EQ1rzcYpeMLyohjzh6cGtL6XAjxUBAeibg2aBViawe40T3F19LDuWTBhibfMibEneuRw/640?wx_fmt=png" data-type="png" data-w="217" style=""  /></p><p style="text-align: left;"><br  /></p>
                </div>
                <script nonce="832087814" type="text/javascript">
                    var first_sceen__time = (+new Date());

                    if ("" == 1 && document.getElementById('js_content')) {
                        document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf("WindowsWechat") != -1){
                            var link = document.createElement('link');
                            var head = document.getElementsByTagName('head')[0];
                            link.rel = 'stylesheet';
                            link.type = 'text/css';
                            link.href = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx435ee6.css";
                            head.appendChild(link);
                        }
                    })();
                </script>

                
                <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display:none;"></div>
                
                
                <div class="read-more__area" id="js_more_read_area" style="display:none;">
                    
                </div>

                
                                <div class="reward_area tc reward_area_primary" id="js_preview_reward_author" style="display:none;">
                    <div class="reward-avatar" style="display: none;" id="js_preview_reward_author_avatar">
                        <img src="" alt="" id="js_preview_reward_author_head">
                    </div>
                    
                                        <div class="reward-author" id="js_preview_reward_author_name">王鸿伟</div>
                                        <p class="reward_tips" id="js_preview_reward_author_wording" style="display:none;"></p>
                    <p>
                        <a class="reward_button" id='js_preview_reward_author_link' href="##"><span id="js_preview_reward_link_text">赞赏</span></a>
                    </p>
                </div>

                <div class="reward_qrcode_area reward_area tc" id="js_preview_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                    <p id="js_preview_reward_ios_wording" class="reward_tips" style="display:none;"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                                
                
                            </div>
                                    
                        


                        
            <ul id="js_hotspot_area" class="article_extend_area"></ul>


            

            


<div class="rich_media_tool" id="js_toobar3">

        <div id="js_read_area3" class="media_tool_meta tips_global_primary meta_primary" style="display:none;">阅读 <span id="readNum3"></span></div>

    <span style="display:none;" class="media_tool_meta meta_extra meta_praise" id="like_old">
        <i class="icon_praise_gray"></i><span class="praise_num" id="likeNum_old"></span>
    </span>

    <span style="display:none;" class="media_tool_meta meta_extra meta_like" id="like3">
        <button class="like_btn" id="js_like_btn"> 
          <span id="js_like_wording"> 好看</span><span class="like_num" id="likeNum3"></span>
        </button>
    </span>

    <div id="js_like_educate" style="display:none">
        <div class="weui-mask"></div>
        <div class="weui-dialog weui-dialog_haokan">
        <div class="weui-dialog__hd"><strong class="weui-dialog__title" id="educate_title">已推荐到看一看</strong></div>
        <div class="weui-dialog__bd">
          <img class="pic_haokan" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png">
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        </div>
        <div class="weui-dialog__ft" id="educate_btn" style="display: none">
          <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_default" id="js_cancel">取消</a>
          <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" id="js_confirm">推荐</a>
        </div>
        <div class="weui-dialog__ft" id="educate_btn2" style="display: none">
          <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" id="js_acknowledge">我知道了</a>
        </div>
        </div>
    </div>

    <div id="js_unlike_educate" style="display:none">
        <div class="weui-mask"></div>
        <div class="weui-dialog">
        
        <div class="weui-dialog__bd">
            已取消，“好看”想法已同步删除        </div>
        <div class="weui-dialog__ft">
          <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" id="js_unlike_know">知道了</a>
        </div>
        </div>
    </div>

    
    </div>


<div class="like_comment_wrp" id="js_a_like_comment" style="display: none;">
  <div class="like_comment_inner">
    <div class="like_comment_hd" style="display:none" id="js_like_title"></div>
    <div class="like_comment_bd">
      <div class="tips_global_primary like_comment_tips">
        <i class="weui-icon-success"></i>已推荐到看一看<a href="javascript:;" class="like_comment_share_link" id="js_a_like_comment_share">和朋友分享想法</a>
      </div>
    </div>
    <div class="like_comment_ft">
      <span id="js_a_like_comment_msg" class="like_comment_msg" style="visibility:hidden">最多200字，当前共<span id="js_a_like_current_cnt"></span>字</span>
      <button class="like_comment_btn" disabled="disabled" id="js_a_like_confirm">发送</button>
    </div>
  </div>
</div>

<div id="js_like_toast" style="display: none;">
  <div class="weui-mask_transparent"></div>
  <div class="weui-toast">
    <i class="weui-icon-success-no-circle weui-icon_toast"></i>
    <p class="weui-toast__content" id="js_toast_msg">已发送</p>
  </div>
</div>


<div style="display: none;" id="js_b_comment_panel" class="like_comment_primary_pop">
  <div class="like_comment_primary_wrp" id="js_b_wrp">
    <div class="like_comment_primary_inner">
      <div class="like_comment_primary_hd">
        <h4 class="like_comment_primary_title">
          朋友将在看一看看到        </h4>
        <button id="js_b_like_confirm" class="like_comment_primary_btn">确定</button>
      </div>
      <div id='js_b_comment_text_first' class="like_comment_primary_bd">
        <span class="tips_global_primary">
          分享你的想法...        </span>
      </div>
    </div>
  </div>
  <div class="like_comment_primary_mask" id="js_mask_1"></div>
</div>

<div style="display: none;" id="js_b_comment_final">
  <div class="like_comment_primary_wrp editing" id="js_comment_wrp">
    <div class="like_comment_primary_inner">
      <div class="like_comment_primary_hd">
        <button class="like_comment_primary_cancel" id="js_b_comment_cancel">取消</button>
        <h4 class="like_comment_primary_title"> 分享想法到看一看 </h4>
        <button class="like_comment_primary_btn" id="js_b_comment_confirm">确定</button>
      </div>
      <div class="like_comment_primary_bd">
        <textarea class="like_comment_textarea weui-textarea" placeholder="分享你的想法..." id="js_b_comment_text_second"></textarea>
      </div>
      <span class="like_comment_msg" id="js_b_like_comment_msg" style="visibility: hidden;">最多200字，当前共<span id="js_b_like_current_cnt"></span>字</span>
    </div>
  </div>
  <div class="like_comment_primary_mask" id="js_mask_2"></div>
</div>

<div id="js_loading" style=" display: none;">
    <div class="weui-mask_transparent"></div>
    <div class="weui-toast">
        <i class="weui-loading weui-icon_toast"></i>
        <p class="weui-toast__content">发送中</p>
    </div>
</div>

<div id="js_fail" style="display:none">
    <div class="weui-mask"></div>
    <div class="weui-dialog">
    <div class="weui-dialog__bd">
        网络异常，请稍后重试    </div>
    <div class="weui-dialog__ft">
      <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary" id="js_fail_inform">知道了</a>
    </div>
    </div>
</div>



                      </div>
        </div>

        <div class="rich_media_area_primary sougou" id="sg_tj" style="display:none"></div>


        
        <div class="rich_media_area_extra">
          <div class="rich_media_area_extra_inner">
              
              <div id="js_share_appmsg">
              </div>

              
                            <div class="mpda_bottom_container" id="js_bottom_ad_area"></div>
                            
              <div id="js_iframetest" style="display:none;"></div>
                            
              <div class="rich_media_extra rich_media_extra_discuss" id="js_cmt_container" style="display:none">
                

                
                <div class="discuss_mod" id="js_friend_cmt_area" style="display:none">
                  
                  
                  
                </div>

                                <div class="discuss_mod" id="js_cmt_area" style="display:none">
                </div>
                              </div>
          </div>
        </div>

        
        <div id="js_pc_qr_code" class="qr_code_pc_outer" style="display:none;">
            <div class="qr_code_pc_inner">
                <div class="qr_code_pc">
                    <img id="js_pc_qr_code_img" class="qr_code_pc_img">
                    <p>微信扫一扫<br>关注该公众号</p>
                </div>
            </div>
        </div>
    </div>
</div>



<div id="js_pc_weapp_code" class="weui-desktop-popover weui-desktop-popover_pos-up-center weui-desktop-popover_img-text" style="display: none;">
    <div class="weui-desktop-popover__content">
        <div class="weui-desktop-popover__desc">
            <img id="js_pc_weapp_code_img">
            微信扫一扫<br>使用小程序<span id="js_pc_weapp_code_des"></span>        </div>
    </div>
</div>
<div id="js_minipro_dialog" style="display:none;">
    <div class="weui-mask"></div>
    <div class="weui-dialog">
        <div class="weui-dialog__bd">即将打开"<span id="js_minipro_dialog_name"></span>"小程序</div>
        <div class="weui-dialog__ft">
            <a id="js_minipro_dialog_cancel" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_default">取消</a>
            <a id="js_minipro_dialog_ok" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_primary">打开</a>
        </div>
    </div>
</div>

        
        <script nonce="832087814">
    var __DEBUGINFO = {
        debug_js : "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/debug/console42f400.js",
        safe_js : "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/safe/moonsafe42f400.js",
        res_list: []
    };
</script>

<script nonce="832087814" type="text/javascript">
(function() {
	var totalCount = 0,
			finishCount = 0;

	function _loadVConsolePlugin() {
		window.vConsole = new window.VConsole();
		while (window.vConsolePlugins.length > 0) {
			var p = window.vConsolePlugins.shift();
			window.vConsole.addPlugin(p);
		}
	}
	
	function _addVConsole(uri, cb) {
		totalCount++;
		var node = document.createElement('SCRIPT');
		node.type = 'text/javascript';
		node.src = uri;
		node.setAttribute('nonce', '832087814');
		if (cb) {
			node.onload = cb;
		}
		document.getElementsByTagName('head')[0].appendChild(node);
	}
	if (
		(document.cookie && document.cookie.indexOf('vconsole_open=1') > -1)
		|| location.href.indexOf('vconsole=1') > -1
	) {
		window.vConsolePlugins = [];
		_addVConsole('//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/3.2.2/vconsole.min43429b.js', function() {
			
			_addVConsole('//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/plugin/vconsole-mpopt/1.0.1/vconsole-mpopt42f400.js', _loadVConsolePlugin);
		});
	}
})();
</script>
        
<script nonce="832087814" type="text/javascript">
if (location.href.match(/fontScale=\d+/) && /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {

    var m=location.href.match(/fontScale=(\d*)/);
    var map={
        "94":1,
        "100":2,
        "109":3,
        "119":4,
        "131":5,
    }
    if(m&&m[1]&&map[m[1]]){
        document.getElementsByTagName("body")[0].className+=" appmsg_skin_fontscale_"+map[m[1]];
        console.log("appmsg_skin_fontscale_:"+map[m[1]]);
    }
}


(function(){
    if (window.__second_open__) return; 

    

    var first_js_time = +new Date();

    var showDate="";
    var svrDate=new Date("1549780564"*1000);
    var createDate=new Date("1548127927"*1000);
    var ct="1548127927"*1;
    var publish_time = "2019-01-22" || "";
    var cD={
      year:createDate.getYear(),
      month:createDate.getMonth()+1,
      date:createDate.getDate()
    };
    
    svrDate.setHours(0);
    svrDate.setMinutes(0);
    svrDate.setSeconds(0);
    var todayDate=svrDate.getTime()/1000;
    svrDate.setDate(1);
    svrDate.setMonth(0);
    var yearDate=svrDate.getTime()/1000;
    
    if(ct>=todayDate){
      showDate="今天";
    
    }else if(ct>=todayDate-60*60*24){
       showDate="昨天";
    
    }else if(ct>=todayDate-2*60*60*24){
      showDate="前天";
    }else if(ct>=todayDate-3*60*60*24){
      showDate="3天前";
    }else if(ct>=todayDate-4*60*60*24){
      showDate="4天前";
    }else if(ct>=todayDate-5*60*60*24){
      showDate="5天前";
    }else if(ct>=todayDate-6*60*60*24){
      showDate="6天前";
    }else if(ct>=todayDate-2*7*60*60*24){
      showDate="1周前";
    }else if(ct>=yearDate){
      
      
      
      showDate="%s月%s日".replace("%s",cD.month).replace("%s",cD.date);
    }else{
      showDate=publish_time;
    };
    if(document.getElementById("publish_time")){
      document.getElementById("publish_time").innerText=showDate;
    }
})();
</script>
<script nonce="832087814" type="text/javascript">

if (!window.console) window.console = { log: function() {} };

if (typeof getComputedStyle == 'undefined') {
    if (document.body.currentStyle) {
        window.getComputedStyle = function(el) {
            return el.currentStyle;
        }
    } else {
        window.getComputedStyle = {};
    }
}
(function(){
    window.__zoom = 1;
    
    (function(){
        var validArr = ","+([0.875, 1, 1.125, 1.25, 1.375]).join(",")+",";
        var match = window.location.href.match(/winzoom=(\d+(?:\.\d+)?)/);
        if (match && match[1]) {
            var winzoom = parseFloat(match[1]);
            if (validArr.indexOf(","+winzoom+",")>=0) {
                window.__zoom = winzoom;
            }
        }
    })();

    var ua = navigator.userAgent.toLowerCase();
    var re = new RegExp("msie ([0-9]+[\.0-9]*)");
    var version;
    if (re.exec(ua) != null) {
        version = parseInt(RegExp.$1);
    }
    var isIE = false;
    if (typeof version != 'undefined' && version >= 6 && version <= 9) {
        isIE = true;
    }
    var getMaxWith=function(){
        var container = document.getElementById('img-content');
        var max_width = container.offsetWidth;
        var container_padding = 0;
        var container_style = getComputedStyle(container);
        container_padding = parseFloat(container_style.paddingLeft) + parseFloat(container_style.paddingRight);
        max_width -= container_padding;
        if (!max_width) {
            max_width = window.innerWidth - 30;      
        }
        return max_width;
    };
    var getParentWidth = function(dom){
        var parent_width = 0;
        var parent = dom.parentNode;
        var outerWidth = 0;
        while (true) {
            if(!parent||parent.nodeType!=1) break;
            var parent_style = getComputedStyle(parent);
            if (!parent_style) break;
            parent_width = parent.clientWidth - parseFloat(parent_style.paddingLeft) - parseFloat(parent_style.paddingRight) - outerWidth;
            if (parent_width > 0) break;
            outerWidth += parseFloat(parent_style.paddingLeft) + parseFloat(parent_style.paddingRight) + parseFloat(parent_style.marginLeft) + parseFloat(parent_style.marginRight) + parseFloat(parent_style.borderLeftWidth) + parseFloat(parent_style.borderRightWidth);
            parent = parent.parentNode;
        }
        return parent_width;
    }
    var getOuterW=function(dom){
        var style=getComputedStyle(dom),
            w=0;
        if(!!style){
            w = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight) + parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth);
        }
        return w;
    };
    var getOuterH =function(dom){
        var style=getComputedStyle(dom),
            h=0;
        if(!!style){
            h = parseFloat(style.paddingTop) + parseFloat(style.paddingBottom) + parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);
        }
        return h;
    };
    var insertAfter = function(dom,afterDom){
        var _p = afterDom.parentNode;
        if(!_p){
            return;
        }
        if(_p.lastChild === afterDom){
            _p.appendChild(dom);
        }else{
            _p.insertBefore(dom,afterDom.nextSibling);
        }
    };
    var getQuery = function(name,url){
        
        var u  = arguments[1] || window.location.search,
            reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)"),
            r = u.substr(u.indexOf("\?")+1).match(reg);
        return r!=null?r[2]:"";
    };

    
    function setImgSize(item, widthNum, widthUnit, ratio, breakParentWidth) {
        setTimeout(function () {
            var img_padding_border = getOuterW(item) || 0;
            var img_padding_border_top_bottom = getOuterH(item) || 0;
            
            if (widthNum > getParentWidth(item) && !breakParentWidth) {
                widthNum = getParentWidth(item);
            }

            height = (widthNum - img_padding_border) * ratio + img_padding_border_top_bottom;

            if (isIE) {
                var url = item.getAttribute('data-src');
                item.src = url;
            } else {
                if(parseFloat(widthNum, 10) > 40 && height > 40 && breakParentWidth) {
                    item.className += ' img_loading';
                }
                item.src = "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==";
            }
            item.style.cssText += ";width: " + widthNum + widthUnit + " !important;";
            item.style.cssText += ";height: " + height + widthUnit + " !important;";
        }, 10);
    }

    (function(){
        var images = document.getElementsByTagName('img');
        var length = images.length;
        var max_width = getMaxWith();
        for (var i = 0; i < length; ++i) {
            if (window.__second_open__ && images[i].getAttribute('__sec_open_place_holder__')) {
                continue;
            }
            var imageItem = images[i];
            var src_ = imageItem.getAttribute('data-src');
            var realSrc = imageItem.getAttribute('src');
            if (!src_ || realSrc) continue;
            
            var originWidth = imageItem.getAttribute('data-w');
            var ratio_ = 1 * imageItem.getAttribute('data-ratio');

            var height = 100;
            if (ratio_ && ratio_ > 0) {
                var parent_width = getParentWidth(imageItem) || max_width;
                var initWidth = imageItem.style.width || imageItem.getAttribute('width') || originWidth || parent_width;
                initWidth = parseFloat(initWidth, 10) > max_width ? max_width : initWidth;
                
                if (initWidth) {
                    imageItem.setAttribute('_width', !isNaN(initWidth * 1) ? initWidth + 'px' : initWidth);
                }
                
                if (typeof initWidth === 'string' && initWidth.indexOf('%') !== -1) {
                    initWidth = parseFloat(initWidth.replace('%', ''), 10) / 100 * parent_width;
                }
                
                if (initWidth === 'auto') {
                    initWidth = originWidth;
                }

                var res = /^(\d+(?:\.\d+)?)([a-zA-Z%]+)?$/.exec(initWidth);
                var widthNum = res && res.length >= 2 ? res[1] : 0;
                var widthUnit = res && res.length >= 3 && res[2] ? res[2] : 'px';

                
                setImgSize(imageItem, widthNum, widthUnit, ratio_, true);
                
                (function (item, widthNumber, unit, ratio) {
                    setTimeout(function () {
                        setImgSize(item, widthNumber, unit, ratio, false);
                    });
                })(imageItem, widthNum, widthUnit, ratio_);
            } else {
                imageItem.style.cssText += ";visibility: hidden !important;";
            }

        }
    })();
    window.__videoDefaultRatio=16/9;
    window.__getVideoWh = function(dom){
        var max_width = getMaxWith(),
            width = max_width,
            ratio_ = dom.getAttribute('data-ratio')*1,
            arr = [4/3, 16/9],
            ret = arr[0],
            abs = Math.abs(ret - ratio_);
        if (!ratio_) { 
            if (dom.getAttribute("data-mpvid")) { 
                ratio_ = 16/9;
            } else { 
                ratio_ = 4/3;
            }
        } else { 
            for (var j = 1, jl = arr.length; j < jl; j++) {
                var _abs = Math.abs(arr[j] - ratio_);
                if (_abs < abs) {
                    abs = _abs;
                    ret = arr[j];
                }
            }
            ratio_ = ret;
        }
        
        var parent_width = getParentWidth(dom)||max_width,
            width = width > parent_width ? parent_width : width,
            outerW = getOuterW(dom)||0,
            outerH = getOuterH(dom)||0,
            videoW = width - outerW,
            videoH = videoW/ratio_,
            height = videoH + outerH;
        return {w:Math.ceil(width),h:Math.ceil(height),vh:videoH,vw:videoW,ratio:ratio_};
    };


    (function(){
        var iframe = document.getElementsByTagName('iframe');
        for (var i=0,il=iframe.length;i<il;i++) {
            if (window.__second_open__ && iframe[i].getAttribute('__sec_open_place_holder__')) {
                continue;
            }
            var a = iframe[i];
            var src_ = a.getAttribute('src')||a.getAttribute('data-src')||"";
            if(!/^http(s)*\:\/\/v\.qq\.com\/iframe\/(preview|player)\.html\?/.test(src_)
                && !/^http(s)*\:\/\/mp\.weixin\.qq\.com\/mp\/readtemplate\?t=pages\/video_player_tmpl/.test(src_)
            ){
                continue;
            }
            var vid = getQuery("vid",src_);
            if(!vid){
                continue;
            }
            vid=vid.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");
            a.removeAttribute('src');
            a.style.display = "none";
            var obj = window.__getVideoWh(a),
                videoPlaceHolderSpan = document.createElement('span'),
                videoPlayerIconSpan = document.createElement('span'),
                mydiv = document.createElement('img');

            videoPlaceHolderSpan.className = "js_img_loading db";
            videoPlaceHolderSpan.setAttribute("data-vid", vid);
            

            videoPlayerIconSpan.className = 'wx_video_context db'; 
            videoPlayerIconSpan.style.display = 'none';
            videoPlayerIconSpan.innerHTML = '<span class="wx_video_thumb_primary"></span><button class="wx_video_play_btn">播放</button><span class="wx_video_mask"></span>'; 

            mydiv.className = "img_loading";

            mydiv.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==";
            
            
            videoPlaceHolderSpan.style.cssText = "width: " + obj.w + "px !important;";
            mydiv.style.cssText += ";width: " + obj.w + "px";
            videoPlaceHolderSpan.appendChild(videoPlayerIconSpan);
            videoPlaceHolderSpan.appendChild(mydiv);
            insertAfter(videoPlaceHolderSpan, a); 
            
            a.style.cssText += ";width: " + obj.w + "px !important;";
            a.setAttribute("width",obj.w);
            if(window.__zoom!=1){
                a.style.display = "block";
                videoPlaceHolderSpan.style.display = "none";
                a.setAttribute("_ratio",obj.ratio);
                a.setAttribute("_vid",vid);
            }else{
                videoPlaceHolderSpan.style.cssText += "height: " + obj.h + "px !important;";
                mydiv.style.cssText += "height: " + obj.h + "px !important;";
                a.style.cssText += "height: " + obj.h + "px !important;";
                a.setAttribute("height",obj.h);
            }
            a.setAttribute("data-vh",obj.vh);
            a.setAttribute("data-vw",obj.vw);
            if(a.getAttribute("data-mpvid")){
                a.setAttribute("data-src",location.protocol+"//mp.weixin.qq.com/mp/readtemplate?t=pages/video_player_tmpl&auto=0&vid="+vid);
            }else{
                a.setAttribute("data-src",location.protocol+"//v.qq.com/iframe/player.html?vid="+ vid + "&width="+obj.vw+"&height="+obj.vh+"&auto=0");   
            }            
        }
    })();
    
    (function(){
        if(window.__zoom!=1){
            if (!window.__second_open__) {
                document.getElementById('page-content').style.zoom = window.__zoom;
                var a = document.getElementById('activity-name');
                var b = document.getElementById('meta_content');
                if(!!a){
                    a.style.zoom = 1/window.__zoom;
                }
                if(!!b){
                    b.style.zoom = 1/window.__zoom;
                }
            }
            var images = document.getElementsByTagName('img');
            for (var i = 0,il=images.length;i<il;i++) {
                if (window.__second_open__ && images[i].getAttribute('__sec_open_place_holder__')) {
                    continue;
                }
                images[i].style.zoom = 1/window.__zoom;
            }
            var iframe = document.getElementsByTagName('iframe');
            for (var i = 0,il=iframe.length;i<il;i++) {
                if (window.__second_open__ && iframe[i].getAttribute('__sec_open_place_holder__')) {
                    continue;
                }
                var a = iframe[i];
                a.style.zoom = 1/window.__zoom;
                var src_ = a.getAttribute('data-src')||"";
                if(!/http(s)*\:\/\/v\.qq\.com\/iframe\/(preview|player)\.html\?/.test(src_)){
                    continue;
                }
                var ratio = a.getAttribute("_ratio");
                var vid = a.getAttribute("_vid");
                a.removeAttribute("_ratio");
                a.removeAttribute("_vid");
                var vw = a.offsetWidth - (getOuterW(a)||0);
                var vh = vw/ratio;
                var h = vh + (getOuterH(a)||0)
                a.style.cssText += "height: " + h + "px !important;"
                a.setAttribute("height",h);
                a.setAttribute("data-src",location.protocol+"//v.qq.com/iframe/player.html?vid="+ vid + "&width="+vw+"&height="+vh+"&auto=0");
                a.style.display = "none";
                var parent = a.parentNode;
                if(!parent){
                    continue;
                }
                for(var j=0,jl=parent.children.length;j<jl;j++){
                    var child = parent.children[j];
                    if(child.className.indexOf("img_loading")>=0 && child.getAttribute("data-vid")==vid){
                        child.style.cssText += "height: " + h + "px !important;";
                        child.style.display = "";
                    }
                }
            }
        }
    })();
})();
</script>
<script nonce="832087814" type="text/javascript">
    var new_appmsg = 1;
    var item_show_type = "0";
    var can_see_complaint = "0";
    var not_in_mm_css = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/not_in_mm435ee6.css";
    var windowwx_css = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx435ee6.css";
    var article_improve_combo_css = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/combo438c19.css";
    var tid = "";
    var aid = "";
    var clientversion = "";
    var appuin = ""||"MzI0MTI1Nzk1MA==";

    var source = "";
    var ascene = "";
    var subscene = "";
    var sessionid = ""||"";
    var abtest_cookie = "";

    var scene = 75;

    var itemidx = "";
    var appmsg_token   = "";
    var _copyright_stat = "1";
    var _ori_article_type = "科技互联网";

    var is_follow = "";
    var nickname = "知识工场";
    var appmsg_type = "9";
    var ct = "1548127927";
    var publish_time = "2019-01-22" || "";
    var user_name = "gh_f73c3cc99a10";
    var user_name_new = "";
    var fakeid   = "";
    var version   = "";
    var is_limit_user   = "0";
    var round_head_img = "http://mmbiz.qpic.cn/mmbiz_png/GylibWq3RaRyrpbs1iaib5uHc0g5rAz90B8W4syiaRtyZuSd6vfic8p7ujYoWLPTeAGSm0zJDbWDVXnxyAFXhFico38A/0?wx_fmt=png";
    var hd_head_img = "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4FamynaD6EHUSdeanr8ZTseeBeEamc0KucGcZ7uEEqtQ/0"||"";
    var ori_head_img_url = "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4FamynaD6EHUSdeanr8ZTseeBeEamc0KucGcZ7uEEqtQ/132";
    var msg_title = "硕博论文 | 基于网络特征学习的个性化推荐系统 01#";
    var msg_desc = "在当今信息爆炸的时代，个性化推荐系统（personalized recommender systems）是面向用户的互联网产品的核心技术。";
    var msg_cdn_url = "http://mmbiz.qpic.cn/mmbiz_jpg/GylibWq3RaRytAJXuicfcZILfZyStLg1uvX8iclPWahugGj82fPUDxEUZ3qm9jnyic7xqRhbBafNdVPAozZiaOzNhag/0?wx_fmt=jpeg"; 
    var cdn_url_1_1  = "https://mmbiz.qlogo.cn/mmbiz_jpg/GylibWq3RaRytAJXuicfcZILfZyStLg1uv4Lwf9AUftWkkicEiae6z5tQmUZfrcnS08hA5ibibIzLcQlSH5vDZQvK0Gw/0?wx_fmt=jpeg"; 
    var cdn_url_235_1 = "https://mmbiz.qlogo.cn/mmbiz_jpg/GylibWq3RaRytAJXuicfcZILfZyStLg1uvX8iclPWahugGj82fPUDxEUZ3qm9jnyic7xqRhbBafNdVPAozZiaOzNhag/0?wx_fmt=jpeg"; 
    
    var msg_link = "http://mp.weixin.qq.com/s?__biz=MzI0MTI1Nzk1MA==&amp;mid=2651677249&amp;idx=1&amp;sn=b99593722a16e0af537f39b3a18047b3&amp;chksm=f2f79ef0c58017e686b7096182acd7ad85cd64eda5e5e14614ff571083591418c4f572d9e3e2#rd"; 
    var user_uin = "0"*1;
    var msg_source_url = '';
    var img_format = 'jpeg';
    var srcid = '';
    var req_id = '1014prnMSdZ1Dm7gHiqGXw3v';
    var networkType;
    var appmsgid = '' || ''|| "2651677249";
    var comment_id = "646521038993588225" || "646521038993588225" * 1;
    var comment_enabled = "" * 1;
    var is_need_reward = "0" * 1;
    var is_https_res = ("" * 1) && (location.protocol == "https:");
    var msg_daily_idx = "1" || "";
    var profileReportInfo = "" || "";

    var devicetype = "";
    var source_encode_biz = "";
    var source_username = "";
    
    var reprint_ticket = "";
    var source_mid = "";
    var source_idx = "";
    var source_biz = "";
    var author_id = "";

    
    var optimizing_flag = "0" * 1;
    var ad_abtest_padding = "0" * 1;

    var show_comment = "";
    var __appmsgCgiData = {
        wxa_product : ""*1,
        wxa_cps : ""*1,
        show_msg_voice: "0"*1,
        can_use_page : "0"*1,
        is_wxg_stuff_uin : "0"*1,
        card_pos : "",
        copyright_stat : "1",
        source_biz : "",
        hd_head_img : "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4FamynaD6EHUSdeanr8ZTseeBeEamc0KucGcZ7uEEqtQ/0"||(window.location.protocol+"//"+window.location.host + "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_rumor_link.2x42f400.jpg")
    };
    var _empty_v = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/pages/voice/empty42f400.mp3";

    var copyright_stat = "1" * 1;

    var pay_fee = "" * 1;
    var pay_timestamp = "";
    var need_pay = "" * 1;

    var need_report_cost = "0" * 1;
    var use_tx_video_player = "0" * 1;
    var appmsg_fe_filter = "contenteditable";

    var friend_read_source = "" || "";
    var friend_read_version = "" || "";
    var friend_read_class_id = "" || "";

    var is_only_read = "1" * 1;
    var read_num = "" * 1;
    var like_num = "" * 1;
    var liked = "" == 'true' ? true : false;
    var is_temp_url = "" ? 1 : 0;
    var send_time = "";
    var icon_emotion_switch = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch.2x42f400.png";
    var icon_emotion_switch_active = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch_active.2x42f400.png";
    var icon_loading_white = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_loading_white42f400.gif";
    var icon_audio_unread = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/audio/icon_audio_unread42f400.png";
    var icon_qqmusic_default = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/qqmusic/icon_qqmusic_default.2x42f400.png";
    var icon_qqmusic_source = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/qqmusic/icon_qqmusic_source42f400.png";
    var icon_kugou_source = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/kugou/icon_kugou_source42f400.png";

    var topic_default_img = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/topic/pic_book_thumb.2x42f400.png';
    var comment_edit_icon = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg_new/icon_edit42f400.png';
    var comment_loading_img = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_loading_white42f400.gif';

    var voice_in_appmsg = {
        "1":"1"
            };

    var reprint_style = ''*1;
    var wxa_img_alert = "" != 'false';

    
    var more_read_type = '0'*1;

    
    
    
    

    
    var weapp_sn_arr_json = "" || "";

    
    var ban_scene = "0" * 1;

    var svr_time = "1549780564" * 1;
    
    var is_transfer_msg = ""*1||0;

    var malicious_title_reason_id = "0" * 1; 
    var malicious_content_type = "0" * 1; 

    
    var modify_time = "";

    
    var isprofileblock = "0";

    
    var hotspotInfoList = [
                    ];

        window.wxtoken = "777";
        
    
    
    
    
    window.is_login = '0' * 1; 

    window.__moon_initcallback = function(){
        if(!!window.__initCatch){
            window.__initCatch({
                idkey : 27611+2,
                startKey : 0,
                limit : 128,
                badjsId: 43,
                reportOpt : {
                    uin : uin,
                    biz : biz,
                    mid : mid,
                    idx : idx,
                    sn  : sn
                },
                extInfo : {
                    network_rate : 0.01,    
                    badjs_rate: 0.1 
                }
            });
        }
    }
        
    var title ="知识工场";

    var is_new_msg=true;
    
    

    var is_wash = '' * 1;
</script>

<script nonce="832087814" type="text/javascript">
(function(_g){
    _g.appmsg_like_type = "2" * 1 ? "2" * 1 : 1;
    
    _g.clientversion = "";
    _g.passparam = ""; 
    if(!_g.msg_link) {
      _g.msg_link = "http://mp.weixin.qq.com/s?__biz=MzI0MTI1Nzk1MA==&amp;mid=2651677249&amp;idx=1&amp;sn=b99593722a16e0af537f39b3a18047b3&amp;chksm=f2f79ef0c58017e686b7096182acd7ad85cd64eda5e5e14614ff571083591418c4f572d9e3e2#rd";
    }
    _g.appmsg_type = "9"; 
    _g.devicetype = ""; 
})(window);

</script>


        <script nonce="832087814">window.__moon_host = 'res.wx.qq.com';window.__moon_mainjs = 'appmsg/index.js';window.moon_map = {"a/appdialog_confirm.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/appdialog_confirm.html42f400.js","widget/wx_profile_dialog_primary.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/widget/wx_profile_dialog_primary.css42f400.js","pages/iframe_communicate.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/iframe_communicate42f400.js","new_video/player.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/new_video/player.html433882.js","biz_wap/zepto/touch.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/zepto/touch42f400.js","biz_wap/zepto/event.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/zepto/event42f400.js","biz_wap/zepto/zepto.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/zepto/zepto42f400.js","page/pages/video.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/pages/video.css435ee6.js","a/tpl/smallbanner_msg_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/smallbanner_msg_tpl.html42f400.js","a/tpl/smallbanner_info_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/smallbanner_info_tpl.html42f400.js","a/tpl/banner_info_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/banner_info_tpl.html42f400.js","a/tpl/promote_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/promote_tpl.html42f400.js","a/tpl/smallcard_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/smallcard_tpl.html42f400.js","a/tpl/info_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/info_tpl.html42f400.js","a/tpl/cardticket_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/cardticket_tpl.html42f400.js","a/tpl/banner_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/banner_tpl.html42f400.js","a/tpl/sponsor_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/sponsor_tpl.html42f400.js","a/tpl/new_cpc_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/new_cpc_tpl.html42f400.js","appmsg/emotion/caret.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/caret42f400.js","biz_wap/utils/localstorage.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/localstorage42f400.js","appmsg/friend_comment_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/friend_comment_tpl.html42f400.js","appmsg/comment_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment_tpl.html42f400.js","biz_wap/utils/fakehash.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/fakehash42f400.js","appmsg/comment_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment_report42f400.js","a/appdialog_confirm.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/appdialog_confirm42f400.js","new_video/player.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/new_video/player4306fd.js","a/tpl/mpda_bottom_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/mpda_bottom_tpl.html42f400.js","a/tpl/crt_size_map.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/crt_size_map42f400.js","biz_wap/jsapi/cardticket.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/jsapi/cardticket42f400.js","biz_common/jquery.md5.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/jquery.md542f400.js","biz_common/utils/emoji_panel_data.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/emoji_panel_data42f400.js","biz_common/utils/emoji_data.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/emoji_data42f400.js","appmsg/emotion/textarea.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/textarea42f400.js","appmsg/emotion/nav.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/nav42f400.js","appmsg/emotion/common.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/common42f400.js","appmsg/emotion/slide.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/slide42f400.js","appmsg/emotion/dom.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/dom42f400.js","pages/music_report_conf.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/music_report_conf42f400.js","pages/report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/report4306fd.js","pages/player_adaptor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/player_adaptor42f400.js","pages/music_player.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/music_player42f400.js","appmsg/more_read_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/more_read_tpl.html42f400.js","appmsg/retry_ajax.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/retry_ajax42f400.js","complain/tips.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/complain/tips42f400.js","pages/loadscript.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/loadscript42f400.js","biz_wap/utils/ajax_load_js.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax_load_js42f400.js","appmsg/comment.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment4317dc.js","a/ios.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/ios42f400.js","a/android.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/android42f400.js","a/profile.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/profile42f400.js","a/app_card.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/app_card430506.js","a/sponsor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/sponsor42f400.js","a/tpl/cpc_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/cpc_tpl.html42f400.js","a/video.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/video42f400.js","a/a_config.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_config42f400.js","a/tpl/crt_tpl_manager.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/tpl/crt_tpl_manager42f400.js","a/cpc_a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/cpc_a_tpl.html42f400.js","a/sponsor_a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/sponsor_a_tpl.html42f400.js","a/a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_tpl.html42f400.js","a/mpshop.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/mpshop42f400.js","a/wxopen_card.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/wxopen_card42f400.js","a/card.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/card42f400.js","biz_wap/utils/position.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/position42f400.js","a/a_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_report42f400.js","biz_wap/utils/show_time.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/show_time42f400.js","biz_common/utils/get_para_list.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/get_para_list42f400.js","biz_wap/utils/openUrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/openUrl42f400.js","a/a_sign.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a_sign438181.js","appmsg/my_comment_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/my_comment_tpl.html42f400.js","appmsg/cmt_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cmt_tpl.html42f400.js","sougou/a_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/sougou/a_tpl.html42f400.js","appmsg/emotion/emotion.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/emotion/emotion42f400.js","biz_common/base64.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/base6442f400.js","biz_common/utils/report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/report42f400.js","appmsg/articleReport.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/articleReport42f400.js","biz_wap/utils/hand_up_state.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/hand_up_state42f400.js","biz_common/utils/http.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/http42f400.js","biz_common/utils/cookie.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/cookie42f400.js","appmsg/topic_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/topic_tpl.html42f400.js","pages/weapp_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/weapp_tpl.html42f400.js","biz_common/utils/monitor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/monitor42f400.js","pages/voice_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/voice_tpl.html42f400.js","pages/kugoumusic_ctrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/kugoumusic_ctrl42f400.js","pages/qqmusic_ctrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/qqmusic_ctrl42f400.js","pages/voice_component.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/voice_component42f400.js","pages/qqmusic_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/qqmusic_tpl.html42f400.js","new_video/ctl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/new_video/ctl4306fd.js","appmsg/open_url_with_webview.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/open_url_with_webview4380a9.js","appmsg/more_read.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/more_read42f400.js","appmsg/reward_entry.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/reward_entry42f400.js","appmsg/like.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/like43875f.js","pages/version4video.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/version4video42f400.js","biz_wap/utils/storage.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/storage42f400.js","appmsg/share_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/share_tpl.html42f400.js","appmsg/appmsgext.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/appmsgext430b95.js","appmsg/img_copyright_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/img_copyright_tpl.html42f400.js","pages/video_ctrl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/video_ctrl42f400.js","pages/create_txv.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/create_txv42f400.js","appmsg/comment_utils.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/comment_utils42f400.js","biz_common/ui/imgonepx.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/ui/imgonepx42f400.js","appmsg/malicious_wording.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/malicious_wording42f400.js","biz_common/utils/wxgspeedsdk.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/wxgspeedsdk42f400.js","a/a.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/a4382e5.js","rt/appmsg/getappmsgext.rt.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/rt/appmsg/getappmsgext.rt42f400.js","pages/video_communicate_adaptor.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/pages/video_communicate_adaptor433882.js","biz_wap/utils/ajax_wx.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax_wx42f400.js","biz_common/utils/respTypes.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/respTypes42f400.js","biz_wap/utils/log.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/log42f400.js","sougou/index.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/sougou/index42f400.js","biz_wap/safe/mutation_observer_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/safe/mutation_observer_report42f400.js","appmsg/fereport.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/fereport438bee.js","appmsg/fereport_without_localstorage.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/fereport_without_localstorage438bee.js","appmsg/report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/report42f400.js","appmsg/report_and_source.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/report_and_source4380a9.js","appmsg/page_pos.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/page_pos431b87.js","appmsg/cdn_speed_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cdn_speed_report42f400.js","appmsg/wxtopic.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/wxtopic42f400.js","appmsg/weapp.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/weapp433882.js","appmsg/weproduct.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/weproduct42f400.js","appmsg/voicemsg.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/voicemsg42f400.js","appmsg/autoread.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/autoread42f400.js","appmsg/voice.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/voice42f400.js","appmsg/qqmusic.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/qqmusic43440b.js","appmsg/iframe.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/iframe433882.js","appmsg/product.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/product42f400.js","appmsg/review_image.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/review_image435a90.js","appmsg/outer_link.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/outer_link433882.js","appmsg/copyright_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/copyright_report42f400.js","appmsg/async.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/async438bee.js","biz_wap/ui/lazyload_img.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/ui/lazyload_img42f400.js","biz_common/log/jserr.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/log/jserr42f400.js","appmsg/share.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/share42f50a.js","appmsg/cdn_img_lib.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/cdn_img_lib42f400.js","appmsg/finance_communicate.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/finance_communicate42f400.js","page/appmsg_new/not_in_mm.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/not_in_mm.css435ee6.js","page/appmsg_new/combo.css":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/combo.css438c19.js","biz_wap/utils/wapsdk.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/wapsdk42f400.js","a/mpAdAsync.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/a/mpAdAsync4317dc.js","biz_common/utils/url/parse.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/url/parse42f400.js","appmsg/appmsg_report.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/appmsg_report435ac2.js","biz_common/moment.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/moment42f400.js","biz_wap/jsapi/core.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/jsapi/core42f400.js","biz_common/dom/event.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/event42f400.js","appmsg/test.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/test42f400.js","biz_wap/utils/mmversion.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/mmversion42f400.js","appmsg/max_age.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/max_age42f400.js","biz_common/dom/attr.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/attr42f400.js","biz_wap/utils/ajax.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/ajax42f400.js","appmsg/log.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/log42f400.js","biz_common/dom/class.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/dom/class42f400.js","biz_wap/utils/device.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/utils/device42f400.js","appmsg/weapp_common.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/weapp_common42f400.js","biz_common/utils/string/html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/utils/string/html42f400.js","cps/tpl/list_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/cps/tpl/list_tpl.html42f400.js","cps/tpl/card_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/cps/tpl/card_tpl.html42f400.js","cps/tpl/banner_tpl.html.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/cps/tpl/banner_tpl.html42f400.js","biz_common/tmpl.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_common/tmpl42f400.js","appmsg/index.js":"//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/appmsg/index438e37.js"};</script><script nonce="832087814" type="text/javascript" id="moon_inline" > window.__mooninline=1; window.setTimeout(function() {  function __moonf__(){
if(!window.__moonhasinit){
window.__moonhasinit=!0,window.__moonclientlog=[],window.__wxgspeeds&&(window.__wxgspeeds.moonloadedtime=+new Date),
"object"!=typeof JSON&&(window.JSON={
stringify:function(){
return"";
},
parse:function(){
return{};
}
});
var e=function(){
function e(e){
try{
var o;
/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?o="writeLog":/(Android)/i.test(navigator.userAgent)&&(o="log"),
o&&t(o,e);
}catch(n){
throw console.error(n),n;
}
}
function t(e,o){
var n,r,i={};
n=top!=window?top.window:window;
try{
r=n.WeixinJSBridge,i=n.document;
}catch(a){}
e&&r&&r.invoke?r.invoke(e,{
level:"info",
msg:"[WechatFe][moon]"+o
}):setTimeout(function(){
i.addEventListener?i.addEventListener("WeixinJSBridgeReady",function(){
t(e,o);
},!1):i.attachEvent&&(i.attachEvent("WeixinJSBridgeReady",function(){
t(e,o);
}),i.attachEvent("onWeixinJSBridgeReady",function(){
t(e,o);
}));
},0);
}
var n;
localStorage&&JSON.parse(localStorage.getItem("__WXLS__moonarg"))&&"fromls"==JSON.parse(localStorage.getItem("__WXLS__moonarg")).method&&(n=!0),
e(" moon init, moon_inline:"+window.__mooninline+", moonls:"+n),function(){
var e={},o={},t={};
e.COMBO_UNLOAD=0,e.COMBO_LOADING=1,e.COMBO_LOADED=2;
var n=function(e,t,n){
if(!o[e]){
o[e]=n;
for(var r=3;r--;)try{
moon.setItem(moon.prefix+e,n.toString()),moon.setItem(moon.prefix+e+"_ver",moon_map[e]);
break;
}catch(i){
moon.clear();
}
}
},r=window.alert;
window.__alertList=[],window.alert=function(e){
r(e),window.__alertList.push(e);
};
var i=function(e){
if(!e||!o[e])return null;
var n=o[e];
if("function"==typeof n&&!t[e]){
var a={},s={
exports:a
},c=n(i,a,s,r);
n=o[e]=c||s.exports,t[e]=!0;
}
if(".css"===e.substr(-4)){
var d=document.getElementById(e);
if(!d){
d=document.createElement("style"),d.id=e;
var _=/url\s*\(\s*\/(\"(?:[^\\\"\r\n\f]|\\[\s\S])*\"|'(?:[^\\'\n\r\f]|\\[\s\S])*'|[^)}]+)\s*\)/g,m=window.testenv_reshost||window.__moon_host||"res.wx.qq.com";
n=n.replace(_,"url(//"+m+"/$1)"),d.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(d);
}
}
return n;
};
e.combo_status=e.COMBO_UNLOAD,e.run=function(){
var o=e.run.info,t=o&&o[0],n=o&&o[1];
if(t&&e.combo_status==e.COMBO_LOADED){
var r=i(t);
n&&n(r);
}
},e.use=function(o,t){
window.__wxgspeeds&&(window.__wxgspeeds.seajs_use_time=+new Date),e.run.info=[o,t],
e.run();
},window.define=n,window.seajs=e;
}(),function(){
if(window.__nonce_str){
var e=document.createElement;
document.createElement=function(o){
var t=e.apply(this,arguments);
return"object"==typeof o&&(o=o.toString()),"string"==typeof o&&"script"==o.toLowerCase()&&t.setAttribute("nonce",window.__nonce_str),
t;
};
}
window.addEventListener&&window.__DEBUGINFO&&Math.random()<.01&&window.addEventListener("load",function(){
var e=document.createElement("script");
e.src=__DEBUGINFO.safe_js,e.type="text/javascript",e.async=!0;
var o=document.head||document.getElementsByTagName("head")[0];
o.appendChild(e);
});
}(),function(){
function t(e){
return"[object Array]"===Object.prototype.toString.call(e);
}
function n(e){
return"[object Object]"===Object.prototype.toString.call(e);
}
function r(e){
var t=e.stack+" "+e.toString()||"";
try{
if(window.testenv_reshost){
var n="http(s)?://"+window.testenv_reshost,r=new RegExp(n,"g");
t=t.replace(r,"");
}else t=t.replace(/http(s)?:\/\/res\.wx\.qq\.com/g,"");
for(var r=/\/([^.]+)\/js\/(\S+?)\.js(\,|:)?/g;r.test(t);)t=t.replace(r,function(e,o,t,n){
return t+n;
});
}catch(e){
t=e.stack?e.stack:"";
}
var i=[];
for(o in u)u.hasOwnProperty(o)&&i.push(o+":"+u[o]);
return i.push("STK:"+t.replace(/\n/g,"")),i.join("|");
}
function i(e){
if(!e){
var o=window.onerror;
window.onerror=function(){},f=setTimeout(function(){
window.onerror=o,f=null;
},50);
}
}
function a(e,o,t){
if(!/^mp\.weixin\.qq\.com$/.test(location.hostname)){
var n=[];
t=t.replace(location.href,(location.origin||"")+(location.pathname||"")).replace("#wechat_redirect","").replace("#rd","").split("&");
for(var r=0,i=t.length;i>r;r++){
var a=t[r].split("=");
a[0]&&a[1]&&n.push(a[0]+"="+encodeURIComponent(a[1]));
}
var s=new window.Image;
return void(s.src=(o+n.join("&")).substr(0,1024));
}
var c;
if(window.ActiveXObject)try{
c=new ActiveXObject("Msxml2.XMLHTTP");
}catch(d){
try{
c=new ActiveXObject("Microsoft.XMLHTTP");
}catch(_){
c=!1;
}
}else window.XMLHttpRequest&&(c=new XMLHttpRequest);
c&&(c.open(e,o,!0),c.setRequestHeader("cache-control","no-cache"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),
c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.send(t));
}
function s(e){
return function(o,t){
if("string"==typeof o)try{
o=new Function(o);
}catch(n){
throw n;
}
var r=[].slice.call(arguments,2),a=o;
return o=function(){
try{
return a.apply(this,r.length&&r||arguments);
}catch(e){
throw e.stack&&console&&console.error&&console.error("[TryCatch]"+e.stack),_&&window.__moon_report&&(window.__moon_report([{
offset:j,
log:"timeout_error;host:"+location.host,
e:e
}]),i(f)),e;
}
},e(o,t);
};
}
function c(e){
return function(o,t,n){
if("undefined"==typeof n)var n=!1;
var r=this,a=t||function(){};
return t=function(){
try{
return a.apply(r,arguments);
}catch(e){
throw e.stack&&console&&console.error&&console.error("[TryCatch]"+e.stack),_&&window.__moon_report&&(window.__moon_report([{
offset:x,
log:"listener_error;type:"+o+";host:"+location.host,
e:e
}]),i(f)),e;
}
},a.moon_lid=E,b[E]=t,E++,e.call(r,o,t,n);
};
}
function d(e){
return function(o,t,n){
if("undefined"==typeof n)var n=!1;
var r=this;
return t=b[t.moon_lid],e.call(r,o,t,n);
};
}
var _,m,l,w,u,p,f,h=/MicroMessenger/i.test(navigator.userAgent),g=/MPAPP/i.test(navigator.userAgent),v=window.define,y=0,x=2,O=4,j=9,D=10;
if(window.__initCatch=function(e){
_=e.idkey,m=e.startKey||0,l=e.limit,w=e.badjsId,u=e.reportOpt||"",p=e.extInfo||{},
p.rate=p.rate||.5;
},window.__moon_report=function(e,o){
var i=!1,s="";
try{
s=top.location.href;
}catch(c){
i=!0;
}
var d=.5;
if(p&&p.rate&&(d=p.rate),o&&"number"==typeof o&&(d=o),!(!/mp\.weixin\.qq\.com/.test(location.href)&&!/payapp\.weixin\.qq\.com/.test(location.href)||Math.random()>d||!h&&!g||top!=window&&!i&&!/mp\.weixin\.qq\.com/.test(s))&&(n(e)&&(e=[e]),
t(e)&&""!=_)){
var u="",f=[],v=[],y=[],x=[];
"number"!=typeof l&&(l=1/0);
for(var j=0;j<e.length;j++){
var D=e[j]||{};
if(!(D.offset>l||"number"!=typeof D.offset||D.offset==O&&p&&p.network_rate&&Math.random()>=p.network_rate)){
var b=1/0==l?m:m+D.offset;
f[j]="[moon]"+_+"_"+b+";"+D.log+";"+r(D.e||{})||"",v[j]=b,y[j]=1;
}
}
for(var E=0;E<v.length;E++)x[E]=_+"_"+v[E]+"_"+y[E],u=u+"&log"+E+"="+f[E];
if(x.length>0){
a("POST",location.protocol+"//mp.weixin.qq.com/mp/jsmonitor?","idkey="+x.join(";")+"&r="+Math.random()+"&lc="+f.length+u);
var d=1;
if(p&&p.badjs_rate&&(d=p.badjs_rate),w&&Math.random()<d){
u=u.replace(/uin\:(.)*\|biz\:(.)*\|mid\:(.)*\|idx\:(.)*\|sn\:(.)*\|/,"");
var S=new Image,I="https://badjs.weixinbridge.com/badjs?id="+w+"&level=4&from="+encodeURIComponent(location.host)+"&msg="+encodeURIComponent(u);
S.src=I.slice(0,1024);
}
}
}
},window.setTimeout=s(window.setTimeout),window.setInterval=s(window.setInterval),
Math.random()<.01&&window.Document&&window.HTMLElement){
var b={},E=0;
Document.prototype.addEventListener=c(Document.prototype.addEventListener),Document.prototype.removeEventListener=d(Document.prototype.removeEventListener),
HTMLElement.prototype.addEventListener=c(HTMLElement.prototype.addEventListener),
HTMLElement.prototype.removeEventListener=d(HTMLElement.prototype.removeEventListener);
}
var S=window.navigator.userAgent;
if((/ip(hone|ad|od)/i.test(S)||/android/i.test(S))&&!/windows phone/i.test(S)&&window.localStorage&&window.localStorage.setItem){
var I=window.localStorage.setItem,L=0;
window.localStorage.setItem=function(e,o){
if(!(L>=10))try{
I.call(window.localStorage,e,o);
}catch(t){
t.stack&&console&&console.error&&console.error("[TryCatch]"+t.stack),window.__moon_report([{
offset:D,
log:"localstorage_error;"+t.toString(),
e:t
}]),L++,L>=3&&window.moon&&window.moon.clear&&moon.clear();
}
};
}
window.seajs&&v&&(window.define=function(){
for(var o,t=[],n=arguments&&arguments[0],a=0,s=arguments.length;s>a;a++){
var c=o=arguments[a];
"function"==typeof o&&(o=function(){
try{
return c.apply(this,arguments);
}catch(o){
throw"string"==typeof n&&console.error("[TryCatch][DefineeErr]id:"+n),o.stack&&console&&console.error&&console.error("[TryCatch]"+o.stack),
_&&window.__moon_report&&(window.__moon_report([{
offset:y,
log:"define_error;id:"+n+";",
e:o
}]),i(f)),e(" [define_error]"+JSON.stringify(r(o))),o;
}
},o.toString=function(e){
return function(){
return e.toString();
};
}(arguments[a])),t.push(o);
}
return v.apply(this,t);
});
}(),function(o){
function t(e,o,t){
return window.__DEBUGINFO?(window.__DEBUGINFO.res_list||(window.__DEBUGINFO.res_list=[]),
window.__DEBUGINFO.res_list[e]?(window.__DEBUGINFO.res_list[e][o]=t,!0):!1):!1;
}
function n(e){
var o=new TextEncoder("utf-8").encode(e),t=crypto.subtle||crypto.webkitSubtle;
return t.digest("SHA-256",o).then(function(e){
return r(e);
});
}
function r(e){
for(var o=[],t=new DataView(e),n=0;n<t.byteLength;n+=4){
var r=t.getUint32(n),i=r.toString(16),a="00000000",s=(a+i).slice(-a.length);
o.push(s);
}
return o.join("");
}
function i(e,o,t){
if("object"==typeof e){
var n=Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,function(e,o){
return o;
});
if(t=t||e,"Array"==n){
for(var r=0,i=e.length;i>r;++r)if(o.call(t,e[r],r,e)===!1)return;
}else{
if("Object"!==n&&a!=e)throw"unsupport type";
if(a==e){
for(var r=e.length-1;r>=0;r--){
var s=a.key(r),c=a.getItem(s);
if(o.call(t,c,s,e)===!1)return;
}
return;
}
for(var r in e)if(e.hasOwnProperty(r)&&o.call(t,e[r],r,e)===!1)return;
}
}
}
var a=o.localStorage,s=document.head||document.getElementsByTagName("head")[0],c=1,d=11,_=12,m=13,l=window.__allowLoadResFromMp?1:2,w=window.__allowLoadResFromMp?1:0,u=l+w,p=window.testenv_reshost||window.__moon_host||"res.wx.qq.com",f=new RegExp("^(http(s)?:)?//"+p);
window.__loadAllResFromMp&&(p="mp.weixin.qq.com",l=0,u=l+w);
var h={
prefix:"__MOON__",
loaded:[],
unload:[],
clearSample:!0,
hit_num:0,
mod_num:0,
version:1003,
cacheData:{
js_mod_num:0,
js_hit_num:0,
js_not_hit_num:0,
js_expired_num:0,
css_mod_num:0,
css_hit_num:0,
css_not_hit_num:0,
css_expired_num:0
},
init:function(){
h.loaded=[],h.unload=[];
var e,t,r;
if(window.no_moon_ls&&(h.clearSample=!0),a){
var s="_moon_ver_key_",c=a.getItem(s);
c!=h.version&&(h.clear(),a.setItem(s,h.version));
}
if((-1!=location.search.indexOf("no_moon1=1")||-1!=location.search.indexOf("no_lshttps=1"))&&h.clear(),
a){
var d=1*a.getItem(h.prefix+"clean_time"),_=+new Date;
if(_-d>=1296e6){
h.clear();
try{
!!a&&a.setItem(h.prefix+"clean_time",+new Date);
}catch(m){}
}
}
i(moon_map,function(i,s){
if(t=h.prefix+s,r=!!i&&i.replace(f,""),e=!!a&&a.getItem(t),version=!!a&&(a.getItem(t+"_ver")||"").replace(f,""),
h.mod_num++,r&&-1!=r.indexOf(".css")?h.cacheData.css_mod_num++:r&&-1!=r.indexOf(".js")&&h.cacheData.js_mod_num++,
h.clearSample||!e||r!=version)h.unload.push(r.replace(f,"")),r&&-1!=r.indexOf(".css")?e?r!=version&&h.cacheData.css_expired_num++:h.cacheData.css_not_hit_num++:r&&-1!=r.indexOf(".js")&&(e?r!=version&&h.cacheData.js_expired_num++:h.cacheData.js_not_hit_num++);else{
if("https:"==location.protocol&&window.moon_hash_map&&window.moon_hash_map[s]&&window.crypto)try{
n(e).then(function(e){
window.moon_hash_map[s]!=e&&console.log(s);
});
}catch(c){}
try{
var d="//# sourceURL="+s+"\n//@ sourceURL="+s;
o.eval.call(o,'define("'+s+'",[],'+e+")"+d),h.hit_num++,r&&-1!=r.indexOf(".css")?h.cacheData.css_hit_num++:r&&-1!=r.indexOf(".js")&&h.cacheData.js_hit_num++;
}catch(c){
h.unload.push(r.replace(f,""));
}
}
}),h.load(h.genUrl());
},
genUrl:function(){
var e=h.unload;
if(!e||e.length<=0)return[];
var o,t,n="",r=[],i={},a=-1!=location.search.indexOf("no_moon2=1"),s="//"+p;
-1!=location.href.indexOf("moon_debug2=1")&&(s="//mp.weixin.qq.com");
for(var c=0,d=e.length;d>c;++c){
/^\/(.*?)\//.test(e[c]);
var _=/^\/(.*?)\//.exec(e[c]);
_.length<2||!_[1]||(t=_[1],n=i[t],n?(o=n+","+e[c],o.length>1e3||a?(r.push(n+"?v="+h.version),
n=location.protocol+s+e[c],i[t]=n):(n=o,i[t]=n)):(n=location.protocol+s+e[c],i[t]=n));
}
for(var m in i)i.hasOwnProperty(m)&&r.push(i[m]);
return r;
},
load:function(e){
if(window.__wxgspeeds&&(window.__wxgspeeds.mod_num=h.mod_num,window.__wxgspeeds.hit_num=h.hit_num),
!e||e.length<=0)return seajs.combo_status=seajs.COMBO_LOADED,seajs.run(),console.debug&&console.debug("[moon] load js complete, all in cache, cost time : 0ms, total count : "+h.mod_num+", hit num: "+h.hit_num),
void window.__moonclientlog.push("[moon] load js complete, all in cache, cost time : 0ms, total count : "+h.mod_num+", hit num: "+h.hit_num);
seajs.combo_status=seajs.COMBO_LOADING;
var o=0,t=+new Date;
window.__wxgspeeds&&(window.__wxgspeeds.combo_times=[],window.__wxgspeeds.combo_times.push(t)),
i(e,function(n){
h.request(n,u,function(){
if(window.__wxgspeeds&&window.__wxgspeeds.combo_times.push(+new Date),o++,o==e.length){
var n=+new Date-t;
window.__wxgspeeds&&(window.__wxgspeeds.mod_downloadtime=n),seajs.combo_status=seajs.COMBO_LOADED,
seajs.run(),console.debug&&console.debug("[moon] load js complete, url num : "+e.length+", total mod count : "+h.mod_num+", hit num: "+h.hit_num+", use time : "+n+"ms"),
window.__moonclientlog.push("[moon] load js complete, url num : "+e.length+", total mod count : "+h.mod_num+", hit num: "+h.hit_num+", use time : "+n+"ms");
}
});
});
},
request:function(o,n,r){
if(o){
n=n||0,o.indexOf("mp.weixin.qq.com")>-1&&((new Image).src=location.protocol+"//mp.weixin.qq.com/mp/jsmonitor?idkey=27613_32_1&r="+Math.random(),
window.__moon_report([{
offset:_,
log:"load_script_from_mp: "+o
}],1));
var i=-1;
window.__DEBUGINFO&&(__DEBUGINFO.res_list||(__DEBUGINFO.res_list=[]),__DEBUGINFO.res_list.push({
type:"js",
status:"pendding",
start:+new Date,
end:0,
url:o
}),i=__DEBUGINFO.res_list.length-1),-1!=location.search.indexOf("no_lshttps=1")&&(o=o.replace("http://","https://"));
var a=document.createElement("script");
a.src=o,a.type="text/javascript",a.async=!0,a.down_time=+new Date,a.onerror=function(s){
t(i,"status","error"),t(i,"end",+new Date);
var _=new Error(s);
if(n>=0)if(w>n){
var l=o.replace("res.wx.qq.com","mp.weixin.qq.com");
h.request(l,n,r);
}else h.request(o,n,r);else window.__moon_report&&window.__moon_report([{
offset:c,
log:"load_script_error: "+o,
e:_
}],1);
if(n==w-1&&window.__moon_report([{
offset:d,
log:"load_script_error: "+o,
e:_
}],1),-1==n){
var u="ua: "+window.navigator.userAgent+", time="+(+new Date-a.down_time)+", load_script_error -1 : "+o;
window.__moon_report([{
offset:m,
log:u
}],1);
}
window.__moonclientlog.push("moon load js error : "+o+", error -> "+_.toString()),
e("moon_request_error url:"+o);
},"undefined"!=typeof moon_crossorigin&&moon_crossorigin&&a.setAttribute("crossorigin",!0),
a.onload=a.onreadystatechange=function(){
t(i,"status","loaded"),t(i,"end",+new Date),!a||a.readyState&&!/loaded|complete/.test(a.readyState)||(t(i,"status","200"),
a.onload=a.onreadystatechange=null,"function"==typeof r&&r());
},n--,s.appendChild(a),e("moon_request url:"+o+" retry:"+n);
}
},
setItem:function(e,o){
!!a&&a.setItem(e,o);
},
clear:function(){
a&&(i(a,function(e,o){
~o.indexOf(h.prefix)&&a.removeItem(o);
}),console.debug&&console.debug("[moon] clear"));
},
idkeyReport:function(e,o,t){
t=t||1;
var n=e+"_"+o+"_"+t;
(new Image).src="/mp/jsmonitor?idkey="+n+"&r="+Math.random();
}
};
seajs&&seajs.use&&"string"==typeof window.__moon_mainjs&&seajs.use(window.__moon_mainjs),
window.moon=h;
}(window),function(){
try{
Math.random()<1;
}catch(e){}
}(),window.moon.init();
};
e(),!!window.__moon_initcallback&&window.__moon_initcallback(),window.__wxgspeeds&&(window.__wxgspeeds.moonendtime=+new Date);
}
}
__moonf__(); }, 25);</script><script nonce="832087814" type="text/javascript">
    var real_show_page_time = +new Date();
    if (!!window.addEventListener){
        window.addEventListener("load", function(){
            window.onload_endtime = +new Date();
        });
    }

    
    if(typeof seajs != 'undefined' && seajs.config){
        try{
            seajs.config({
              'map': [
                [ '.js', '.js?v=' + (+new Date())]
              ]
            });
        }catch(e){
            console.info('not support seajs config');
        }
    }

    
</script>

    </body>
    <script nonce="832087814" type="text/javascript">document.addEventListener("touchstart", function() {},false);</script>
</html>

